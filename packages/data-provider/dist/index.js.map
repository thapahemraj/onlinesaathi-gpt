{"version":3,"file":"index.js","sources":["../src/utils.ts","../src/types/assistants.ts","../src/feedback.ts","../src/schemas.ts","../src/models.ts","../src/file-config.ts","../src/api-endpoints.ts","../src/types/files.ts","../src/types/agents.ts","../src/mcp.ts","../src/config.ts","../src/types/runs.ts","../src/bedrock.ts","../src/parsers.ts","../src/artifacts.ts","../src/generate.ts","../src/permissions.ts","../src/roles.ts","../src/types/web.ts","../src/accessPermissions.ts","../src/keys.ts","../src/headers-helpers.ts","../src/request.ts","../src/data-service.ts","../src/actions.ts","../src/parameterSettings.ts","../src/messages.ts","../src/createPayload.ts","../src/azure.ts"],"sourcesContent":["export const envVarRegex = /^\\${(.+)}$/;\n\n/** Extracts the environment variable name from a template literal string */\nexport function extractVariableName(value: string): string | null {\n  if (!value) {\n    return null;\n  }\n\n  const match = value.trim().match(envVarRegex);\n  return match ? match[1] : null;\n}\n\n/** Extracts the value of an environment variable from a string. */\nexport function extractEnvVariable(value: string) {\n  if (!value) {\n    return value;\n  }\n\n  // Trim the input\n  const trimmed = value.trim();\n\n  // Special case: if it's just a single environment variable\n  const singleMatch = trimmed.match(envVarRegex);\n  if (singleMatch) {\n    const varName = singleMatch[1];\n    return process.env[varName] || trimmed;\n  }\n\n  // For multiple variables, process them using a regex loop\n  const regex = /\\${([^}]+)}/g;\n  let result = trimmed;\n\n  // First collect all matches and their positions\n  const matches = [];\n  let match;\n  while ((match = regex.exec(trimmed)) !== null) {\n    matches.push({\n      fullMatch: match[0],\n      varName: match[1],\n      index: match.index,\n    });\n  }\n\n  // Process matches in reverse order to avoid position shifts\n  for (let i = matches.length - 1; i >= 0; i--) {\n    const { fullMatch, varName, index } = matches[i];\n    const envValue = process.env[varName] || fullMatch;\n\n    // Replace at exact position\n    result = result.substring(0, index) + envValue + result.substring(index + fullMatch.length);\n  }\n\n  return result;\n}\n\n/**\n * Normalize the endpoint name to system-expected value.\n * @param name\n */\nexport function normalizeEndpointName(name = ''): string {\n  return name.toLowerCase() === 'ollama' ? 'ollama' : name;\n}\n","import type { OpenAPIV3 } from 'openapi-types';\nimport type { AssistantsEndpoint, AgentProvider } from 'src/schemas';\nimport type { Agents, GraphEdge } from './agents';\nimport type { ContentTypes } from './runs';\nimport type { TFile } from './files';\nimport { ArtifactModes } from 'src/artifacts';\n\nexport type Schema = OpenAPIV3.SchemaObject & { description?: string };\nexport type Reference = OpenAPIV3.ReferenceObject & { description?: string };\n\nexport type Metadata = {\n  avatar?: string;\n  author?: string;\n} & {\n  [key: string]: unknown;\n};\n\nexport enum Tools {\n  execute_code = 'execute_code',\n  code_interpreter = 'code_interpreter',\n  file_search = 'file_search',\n  web_search = 'web_search',\n  retrieval = 'retrieval',\n  function = 'function',\n  memory = 'memory',\n  ui_resources = 'ui_resources',\n}\n\nexport enum EToolResources {\n  code_interpreter = 'code_interpreter',\n  execute_code = 'execute_code',\n  file_search = 'file_search',\n  image_edit = 'image_edit',\n  context = 'context',\n  ocr = 'ocr',\n}\n\nexport type Tool = {\n  [type: string]: Tools;\n};\n\nexport type FunctionTool = {\n  type: Tools;\n  function?: {\n    description: string;\n    name: string;\n    parameters: Record<string, unknown>;\n    strict?: boolean;\n    additionalProperties?: boolean; // must be false if strict is true https://platform.openai.com/docs/guides/structured-outputs/some-type-specific-keywords-are-not-yet-supported\n  };\n};\n\n/**\n * A set of resources that are used by the assistant's tools. The resources are\n * specific to the type of tool. For example, the `code_interpreter` tool requires\n * a list of file IDs, while the `file_search` tool requires a list of vector store\n * IDs.\n */\nexport interface ToolResources {\n  code_interpreter?: CodeInterpreterResource;\n  file_search?: FileSearchResource;\n}\nexport interface CodeInterpreterResource {\n  /**\n   * A list of [file](https://platform.openai.com/docs/api-reference/files) IDs made\n   * available to the `code_interpreter`` tool. There can be a maximum of 20 files\n   * associated with the tool.\n   */\n  file_ids?: Array<string>;\n}\n\nexport interface FileSearchResource {\n  /**\n   * The ID of the\n   * [vector store](https://platform.openai.com/docs/api-reference/vector-stores/object)\n   * attached to this assistant. There can be a maximum of 1 vector store attached to\n   * the assistant.\n   */\n  vector_store_ids?: Array<string>;\n}\n\n/* Assistant types */\n\nexport type Assistant = {\n  id: string;\n  created_at: number;\n  description: string | null;\n  file_ids?: string[];\n  instructions: string | null;\n  conversation_starters?: string[];\n  metadata: Metadata | null;\n  model: string;\n  name: string | null;\n  object: string;\n  tools?: FunctionTool[];\n  tool_resources?: ToolResources;\n};\n\nexport type TAssistantsMap = Record<AssistantsEndpoint, Record<string, Assistant>>;\n\nexport type AssistantCreateParams = {\n  model: string;\n  description?: string | null;\n  file_ids?: string[];\n  instructions?: string | null;\n  conversation_starters?: string[];\n  metadata?: Metadata | null;\n  name?: string | null;\n  tools?: Array<FunctionTool | string>;\n  endpoint: AssistantsEndpoint;\n  version: number | string;\n  append_current_datetime?: boolean;\n};\n\nexport type AssistantUpdateParams = {\n  model?: string;\n  description?: string | null;\n  file_ids?: string[];\n  instructions?: string | null;\n  conversation_starters?: string[] | null;\n  metadata?: Metadata | null;\n  name?: string | null;\n  tools?: Array<FunctionTool | string>;\n  tool_resources?: ToolResources;\n  endpoint: AssistantsEndpoint;\n  append_current_datetime?: boolean;\n};\n\nexport type AssistantListParams = {\n  limit?: number;\n  before?: string | null;\n  after?: string | null;\n  order?: 'asc' | 'desc';\n  endpoint: AssistantsEndpoint;\n};\n\nexport type AssistantListResponse = {\n  object: string;\n  data: Assistant[];\n  first_id: string;\n  last_id: string;\n  has_more: boolean;\n};\n\nexport type File = {\n  file_id: string;\n  id?: string;\n  temp_file_id?: string;\n  bytes: number;\n  created_at: number;\n  filename: string;\n  object: string;\n  purpose: 'fine-tune' | 'fine-tune-results' | 'assistants' | 'assistants_output';\n};\n\n/* Agent types */\n\nexport type AgentParameterValue = number | string | null;\n\nexport type AgentModelParameters = {\n  model?: string;\n  temperature: AgentParameterValue;\n  maxContextTokens: AgentParameterValue;\n  max_context_tokens: AgentParameterValue;\n  max_output_tokens: AgentParameterValue;\n  top_p: AgentParameterValue;\n  frequency_penalty: AgentParameterValue;\n  presence_penalty: AgentParameterValue;\n};\n\nexport interface AgentBaseResource {\n  /**\n   * A list of file IDs made available to the tool.\n   */\n  file_ids?: Array<string>;\n  /**\n   * A list of files already fetched.\n   */\n  files?: Array<TFile>;\n}\n\nexport interface AgentToolResources {\n  [EToolResources.image_edit]?: AgentBaseResource;\n  [EToolResources.execute_code]?: ExecuteCodeResource;\n  [EToolResources.file_search]?: AgentFileResource;\n  [EToolResources.context]?: AgentBaseResource;\n  /** @deprecated Use context instead */\n  [EToolResources.ocr]?: AgentBaseResource;\n}\n/**\n * A resource for the execute_code tool.\n * Contains file IDs made available to the tool (max 20 files) and already fetched files.\n */\nexport type ExecuteCodeResource = AgentBaseResource;\n\nexport interface AgentFileResource extends AgentBaseResource {\n  /**\n   * The ID of the vector store attached to this agent. There\n   * can be a maximum of 1 vector store attached to the agent.\n   */\n  vector_store_ids?: Array<string>;\n}\nexport type SupportContact = {\n  name?: string;\n  email?: string;\n};\n\nexport type Agent = {\n  _id?: string;\n  id: string;\n  name: string | null;\n  author?: string | null;\n  /** The original custom endpoint name, lowercased */\n  endpoint?: string | null;\n  authorName?: string | null;\n  description: string | null;\n  created_at: number;\n  avatar: AgentAvatar | null;\n  instructions: string | null;\n  additional_instructions?: string | null;\n  tools?: string[];\n  projectIds?: string[];\n  tool_kwargs?: Record<string, unknown>;\n  metadata?: Record<string, unknown>;\n  provider: AgentProvider;\n  model: string | null;\n  model_parameters: AgentModelParameters;\n  conversation_starters?: string[];\n  /** @deprecated Use ACL permissions instead */\n  isCollaborative?: boolean;\n  tool_resources?: AgentToolResources;\n  /** @deprecated Use edges instead */\n  agent_ids?: string[];\n  edges?: GraphEdge[];\n  end_after_tools?: boolean;\n  hide_sequential_outputs?: boolean;\n  artifacts?: ArtifactModes;\n  recursion_limit?: number;\n  isPublic?: boolean;\n  version?: number;\n  category?: string;\n  support_contact?: SupportContact;\n};\n\nexport type TAgentsMap = Record<string, Agent | undefined>;\n\nexport type AgentCreateParams = {\n  name?: string | null;\n  description?: string | null;\n  avatar?: AgentAvatar | null;\n  file_ids?: string[];\n  instructions?: string | null;\n  tools?: Array<FunctionTool | string>;\n  provider: AgentProvider;\n  model: string | null;\n  model_parameters: AgentModelParameters;\n} & Pick<\n  Agent,\n  | 'agent_ids'\n  | 'edges'\n  | 'end_after_tools'\n  | 'hide_sequential_outputs'\n  | 'artifacts'\n  | 'recursion_limit'\n  | 'category'\n  | 'support_contact'\n>;\n\nexport type AgentUpdateParams = {\n  name?: string | null;\n  description?: string | null;\n  avatar?: AgentAvatar | null;\n  file_ids?: string[];\n  instructions?: string | null;\n  tools?: Array<FunctionTool | string>;\n  tool_resources?: ToolResources;\n  provider?: AgentProvider;\n  model?: string | null;\n  model_parameters?: AgentModelParameters;\n  projectIds?: string[];\n  removeProjectIds?: string[];\n  isCollaborative?: boolean;\n} & Pick<\n  Agent,\n  | 'agent_ids'\n  | 'edges'\n  | 'end_after_tools'\n  | 'hide_sequential_outputs'\n  | 'artifacts'\n  | 'recursion_limit'\n  | 'category'\n  | 'support_contact'\n>;\n\nexport type AgentListParams = {\n  limit?: number;\n  requiredPermission: number;\n  category?: string;\n  search?: string;\n  cursor?: string;\n  promoted?: 0 | 1;\n};\n\nexport type AgentListResponse = {\n  object: string;\n  data: Agent[];\n  first_id: string;\n  last_id: string;\n  has_more: boolean;\n  after?: string;\n};\n\nexport type AgentFile = {\n  file_id: string;\n  id?: string;\n  temp_file_id?: string;\n  bytes: number;\n  created_at: number;\n  filename: string;\n  object: string;\n  purpose: 'fine-tune' | 'fine-tune-results' | 'agents' | 'agents_output';\n};\n\n/**\n * Details of the Code Interpreter tool call the run step was involved in.\n * Includes the tool call ID, the code interpreter definition, and the type of tool call.\n */\nexport type CodeToolCall = {\n  id: string; // The ID of the tool call.\n  code_interpreter: {\n    input: string; // The input to the Code Interpreter tool call.\n    outputs: Array<Record<string, unknown>>; // The outputs from the Code Interpreter tool call.\n  };\n  type: 'code_interpreter'; // The type of tool call, always 'code_interpreter'.\n};\n\n/**\n * Details of a Function tool call the run step was involved in.\n * Includes the tool call ID, the function definition, and the type of tool call.\n */\nexport type FunctionToolCall = {\n  id: string; // The ID of the tool call object.\n  function: {\n    arguments: string; // The arguments passed to the function.\n    name: string; // The name of the function.\n    output: string | null; // The output of the function, null if not submitted.\n  };\n  type: 'function'; // The type of tool call, always 'function'.\n};\n\n/**\n * Details of a Retrieval tool call the run step was involved in.\n * Includes the tool call ID and the type of tool call.\n */\nexport type RetrievalToolCall = {\n  id: string; // The ID of the tool call object.\n  retrieval: unknown; // An empty object for now.\n  type: 'retrieval'; // The type of tool call, always 'retrieval'.\n};\n\n/**\n * Details of a Retrieval tool call the run step was involved in.\n * Includes the tool call ID and the type of tool call.\n */\nexport type FileSearchToolCall = {\n  id: string; // The ID of the tool call object.\n  file_search: unknown; // An empty object for now.\n  type: 'file_search'; // The type of tool call, always 'retrieval'.\n};\n\n/**\n * Details of the tool calls involved in a run step.\n * Can be associated with one of three types of tools: `code_interpreter`, `retrieval`, or `function`.\n */\nexport type ToolCallsStepDetails = {\n  tool_calls: Array<CodeToolCall | RetrievalToolCall | FileSearchToolCall | FunctionToolCall>; // An array of tool calls the run step was involved in.\n  type: 'tool_calls'; // Always 'tool_calls'.\n};\n\nexport type ImageFile = TFile & {\n  /**\n   * The [File](https://platform.openai.com/docs/api-reference/files) ID of the image\n   * in the message content.\n   */\n  file_id: string;\n  filename: string;\n  filepath: string;\n  height: number;\n  width: number;\n  /**\n   * Prompt used to generate the image if applicable.\n   */\n  prompt?: string;\n  /**\n   * Additional metadata used to generate or about the image/tool_call.\n   */\n  metadata?: Record<string, unknown>;\n};\n\n// FileCitation.ts\nexport type FileCitation = {\n  end_index: number;\n  file_citation: FileCitationDetails;\n  start_index: number;\n  text: string;\n  type: 'file_citation';\n};\n\nexport type FileCitationDetails = {\n  file_id: string;\n  quote: string;\n};\n\nexport type FilePath = {\n  end_index: number;\n  file_path: FilePathDetails;\n  start_index: number;\n  text: string;\n  type: 'file_path';\n};\n\nexport type FilePathDetails = {\n  file_id: string;\n};\n\nexport type Text = {\n  annotations?: Array<FileCitation | FilePath>;\n  value: string;\n};\n\nexport enum AnnotationTypes {\n  FILE_CITATION = 'file_citation',\n  FILE_PATH = 'file_path',\n}\n\nexport enum StepStatus {\n  IN_PROGRESS = 'in_progress',\n  CANCELLED = 'cancelled',\n  FAILED = 'failed',\n  COMPLETED = 'completed',\n  EXPIRED = 'expired',\n}\n\nexport enum MessageContentTypes {\n  TEXT = 'text',\n  IMAGE_FILE = 'image_file',\n}\n\n//enum for RunStatus\n// The status of the run: queued, in_progress, requires_action, cancelling, cancelled, failed, completed, or expired.\nexport enum RunStatus {\n  QUEUED = 'queued',\n  IN_PROGRESS = 'in_progress',\n  REQUIRES_ACTION = 'requires_action',\n  CANCELLING = 'cancelling',\n  CANCELLED = 'cancelled',\n  FAILED = 'failed',\n  COMPLETED = 'completed',\n  EXPIRED = 'expired',\n}\n\nexport type PartMetadata = {\n  progress?: number;\n  asset_pointer?: string;\n  status?: string;\n  action?: boolean;\n  auth?: string;\n  expires_at?: number;\n};\n\nexport type ContentPart = (\n  | CodeToolCall\n  | RetrievalToolCall\n  | FileSearchToolCall\n  | FunctionToolCall\n  | Agents.AgentToolCall\n  | ImageFile\n  | Text\n) &\n  PartMetadata;\n\nexport type TextData = (Text & PartMetadata) | undefined;\n\nexport type TMessageContentParts =\n  | {\n      type: ContentTypes.ERROR;\n      text?: string | TextData;\n      error?: string;\n    }\n  | { type: ContentTypes.THINK; think?: string | TextData }\n  | {\n      type: ContentTypes.TEXT;\n      text?: string | TextData;\n      tool_call_ids?: string[];\n    }\n  | {\n      type: ContentTypes.TOOL_CALL;\n      tool_call: (\n        | CodeToolCall\n        | RetrievalToolCall\n        | FileSearchToolCall\n        | FunctionToolCall\n        | Agents.AgentToolCall\n      ) &\n        PartMetadata;\n    }\n  | { type: ContentTypes.IMAGE_FILE; image_file: ImageFile & PartMetadata }\n  | Agents.AgentUpdate\n  | Agents.MessageContentImageUrl;\n\nexport type StreamContentData = TMessageContentParts & {\n  /** The index of the current content part */\n  index: number;\n  /** The current text content was already served but edited to replace elements therein */\n  edited?: boolean;\n};\n\nexport type TContentData = StreamContentData & {\n  messageId: string;\n  conversationId: string;\n  userMessageId: string;\n  thread_id: string;\n  stream?: boolean;\n};\n\nexport const actionDelimiter = '_action_';\nexport const actionDomainSeparator = '---';\nexport const hostImageIdSuffix = '_host_copy';\nexport const hostImageNamePrefix = 'host_copy_';\n\nexport type AssistantAvatar = {\n  filepath: string;\n  source: string;\n};\n\nexport type AssistantDocument = {\n  user: string;\n  assistant_id: string;\n  conversation_starters?: string[];\n  avatar?: AssistantAvatar;\n  access_level?: number;\n  file_ids?: string[];\n  actions?: string[];\n  createdAt?: Date;\n  updatedAt?: Date;\n  append_current_datetime?: boolean;\n};\n\n/* Agent types */\n\nexport type AgentAvatar = {\n  filepath: string;\n  source: string;\n};\n\nexport enum FilePurpose {\n  Vision = 'vision',\n  FineTune = 'fine-tune',\n  FineTuneResults = 'fine-tune-results',\n  Assistants = 'assistants',\n  AssistantsOutput = 'assistants_output',\n}\n\nexport const defaultOrderQuery: {\n  order: 'desc';\n  limit: 100;\n} = {\n  order: 'desc',\n  limit: 100,\n};\n\nexport enum AssistantStreamEvents {\n  ThreadCreated = 'thread.created',\n  ThreadRunCreated = 'thread.run.created',\n  ThreadRunQueued = 'thread.run.queued',\n  ThreadRunInProgress = 'thread.run.in_progress',\n  ThreadRunRequiresAction = 'thread.run.requires_action',\n  ThreadRunCompleted = 'thread.run.completed',\n  ThreadRunFailed = 'thread.run.failed',\n  ThreadRunCancelling = 'thread.run.cancelling',\n  ThreadRunCancelled = 'thread.run.cancelled',\n  ThreadRunExpired = 'thread.run.expired',\n  ThreadRunStepCreated = 'thread.run.step.created',\n  ThreadRunStepInProgress = 'thread.run.step.in_progress',\n  ThreadRunStepCompleted = 'thread.run.step.completed',\n  ThreadRunStepFailed = 'thread.run.step.failed',\n  ThreadRunStepCancelled = 'thread.run.step.cancelled',\n  ThreadRunStepExpired = 'thread.run.step.expired',\n  ThreadRunStepDelta = 'thread.run.step.delta',\n  ThreadMessageCreated = 'thread.message.created',\n  ThreadMessageInProgress = 'thread.message.in_progress',\n  ThreadMessageCompleted = 'thread.message.completed',\n  ThreadMessageIncomplete = 'thread.message.incomplete',\n  ThreadMessageDelta = 'thread.message.delta',\n  ErrorEvent = 'error',\n}\n","import { z } from 'zod';\n\nexport type TFeedbackRating = 'thumbsUp' | 'thumbsDown';\nexport const FEEDBACK_RATINGS = ['thumbsUp', 'thumbsDown'] as const;\n\nexport const FEEDBACK_REASON_KEYS = [\n  // Down\n  'not_matched',\n  'inaccurate',\n  'bad_style',\n  'missing_image',\n  'unjustified_refusal',\n  'not_helpful',\n  'other',\n  // Up\n  'accurate_reliable',\n  'creative_solution',\n  'clear_well_written',\n  'attention_to_detail',\n] as const;\n\nexport type TFeedbackTagKey = (typeof FEEDBACK_REASON_KEYS)[number];\n\nexport interface TFeedbackTag {\n  key: TFeedbackTagKey;\n  label: string;\n  direction: TFeedbackRating;\n  icon: string;\n}\n\n// --- Tag Registry ---\nexport const FEEDBACK_TAGS: TFeedbackTag[] = [\n  // Thumbs Down\n  {\n    key: 'not_matched',\n    label: 'com_ui_feedback_tag_not_matched',\n    direction: 'thumbsDown',\n    icon: 'AlertCircle',\n  },\n  {\n    key: 'inaccurate',\n    label: 'com_ui_feedback_tag_inaccurate',\n    direction: 'thumbsDown',\n    icon: 'AlertCircle',\n  },\n  {\n    key: 'bad_style',\n    label: 'com_ui_feedback_tag_bad_style',\n    direction: 'thumbsDown',\n    icon: 'PenTool',\n  },\n  {\n    key: 'missing_image',\n    label: 'com_ui_feedback_tag_missing_image',\n    direction: 'thumbsDown',\n    icon: 'ImageOff',\n  },\n  {\n    key: 'unjustified_refusal',\n    label: 'com_ui_feedback_tag_unjustified_refusal',\n    direction: 'thumbsDown',\n    icon: 'Ban',\n  },\n  {\n    key: 'not_helpful',\n    label: 'com_ui_feedback_tag_not_helpful',\n    direction: 'thumbsDown',\n    icon: 'ThumbsDown',\n  },\n  {\n    key: 'other',\n    label: 'com_ui_feedback_tag_other',\n    direction: 'thumbsDown',\n    icon: 'HelpCircle',\n  },\n  // Thumbs Up\n  {\n    key: 'accurate_reliable',\n    label: 'com_ui_feedback_tag_accurate_reliable',\n    direction: 'thumbsUp',\n    icon: 'CheckCircle',\n  },\n  {\n    key: 'creative_solution',\n    label: 'com_ui_feedback_tag_creative_solution',\n    direction: 'thumbsUp',\n    icon: 'Lightbulb',\n  },\n  {\n    key: 'clear_well_written',\n    label: 'com_ui_feedback_tag_clear_well_written',\n    direction: 'thumbsUp',\n    icon: 'PenTool',\n  },\n  {\n    key: 'attention_to_detail',\n    label: 'com_ui_feedback_tag_attention_to_detail',\n    direction: 'thumbsUp',\n    icon: 'Search',\n  },\n];\n\nexport function getTagsForRating(rating: TFeedbackRating): TFeedbackTag[] {\n  return FEEDBACK_TAGS.filter((tag) => tag.direction === rating);\n}\n\nexport const feedbackTagKeySchema = z.enum(FEEDBACK_REASON_KEYS);\nexport const feedbackRatingSchema = z.enum(FEEDBACK_RATINGS);\n\nexport const feedbackSchema = z.object({\n  rating: feedbackRatingSchema,\n  tag: feedbackTagKeySchema,\n  text: z.string().max(1024).optional(),\n});\n\nexport type TMinimalFeedback = z.infer<typeof feedbackSchema>;\n\nexport type TFeedback = {\n  rating: TFeedbackRating;\n  tag: TFeedbackTag | undefined;\n  text?: string;\n};\n\nexport function toMinimalFeedback(feedback: TFeedback | undefined): TMinimalFeedback | undefined {\n  if (!feedback?.rating || !feedback?.tag || !feedback.tag.key) {\n    return undefined;\n  }\n\n  return {\n    rating: feedback.rating,\n    tag: feedback.tag.key,\n    text: feedback.text,\n  };\n}\n\nexport function getTagByKey(key: TFeedbackTagKey | undefined): TFeedbackTag | undefined {\n  if (!key) {\n    return undefined;\n  }\n  return FEEDBACK_TAGS.find((tag) => tag.key === key);\n}\n","import { z } from 'zod';\nimport { Tools } from './types/assistants';\nimport type { TMessageContentParts, FunctionTool, FunctionToolCall } from './types/assistants';\nimport { TFeedback, feedbackSchema } from './feedback';\nimport type { SearchResultData } from './types/web';\nimport type { TFile } from './types/files';\n\nexport const isUUID = z.string().uuid();\n\nexport enum AuthType {\n  OVERRIDE_AUTH = 'override_auth',\n  USER_PROVIDED = 'user_provided',\n  SYSTEM_DEFINED = 'system_defined',\n}\n\nexport const authTypeSchema = z.nativeEnum(AuthType);\n\nexport enum EModelEndpoint {\n  azureOpenAI = 'azureOpenAI',\n  openAI = 'openAI',\n  google = 'google',\n  anthropic = 'anthropic',\n  assistants = 'assistants',\n  azureAssistants = 'azureAssistants',\n  agents = 'agents',\n  custom = 'custom',\n  bedrock = 'bedrock',\n}\n\n/** Mirrors `@librechat/agents` providers */\nexport enum Providers {\n  OPENAI = 'openAI',\n  ANTHROPIC = 'anthropic',\n  AZURE = 'azureOpenAI',\n  GOOGLE = 'google',\n  VERTEXAI = 'vertexai',\n  BEDROCK = 'bedrock',\n  MISTRALAI = 'mistralai',\n  MISTRAL = 'mistral',\n  DEEPSEEK = 'deepseek',\n  OPENROUTER = 'openrouter',\n  XAI = 'xai',\n}\n\n/**\n * Endpoints that support direct PDF processing in the agent system\n */\nexport const documentSupportedProviders = new Set<string>([\n  EModelEndpoint.anthropic,\n  EModelEndpoint.openAI,\n  EModelEndpoint.custom,\n  EModelEndpoint.azureOpenAI,\n  EModelEndpoint.google,\n  Providers.VERTEXAI,\n  Providers.MISTRALAI,\n  Providers.MISTRAL,\n  Providers.DEEPSEEK,\n  Providers.OPENROUTER,\n  Providers.XAI,\n]);\n\nconst openAILikeProviders = new Set<string>([\n  Providers.OPENAI,\n  Providers.AZURE,\n  EModelEndpoint.custom,\n  Providers.MISTRALAI,\n  Providers.MISTRAL,\n  Providers.DEEPSEEK,\n  Providers.OPENROUTER,\n  Providers.XAI,\n]);\n\nexport const isOpenAILikeProvider = (provider?: string | null): boolean => {\n  return openAILikeProviders.has(provider ?? '');\n};\n\nexport const isDocumentSupportedProvider = (provider?: string | null): boolean => {\n  return documentSupportedProviders.has(provider ?? '');\n};\n\nexport const paramEndpoints = new Set<EModelEndpoint | string>([\n  EModelEndpoint.agents,\n  EModelEndpoint.openAI,\n  EModelEndpoint.bedrock,\n  EModelEndpoint.azureOpenAI,\n  EModelEndpoint.anthropic,\n  EModelEndpoint.custom,\n  EModelEndpoint.google,\n]);\n\nexport enum BedrockProviders {\n  AI21 = 'ai21',\n  Amazon = 'amazon',\n  Anthropic = 'anthropic',\n  Cohere = 'cohere',\n  Meta = 'meta',\n  MistralAI = 'mistral',\n  StabilityAI = 'stability',\n  DeepSeek = 'deepseek',\n}\n\nexport const getModelKey = (endpoint: EModelEndpoint | string, model: string) => {\n  if (endpoint === EModelEndpoint.bedrock) {\n    const parts = model.split('.');\n    const provider = [parts[0], parts[1]].find((part) =>\n      Object.values(BedrockProviders).includes(part as BedrockProviders),\n    );\n    return (provider ?? parts[0]) as BedrockProviders;\n  }\n  return model;\n};\n\nexport const getSettingsKeys = (endpoint: EModelEndpoint | string, model: string) => {\n  const endpointKey = endpoint;\n  const modelKey = getModelKey(endpointKey, model);\n  const combinedKey = `${endpointKey}-${modelKey}`;\n  return [combinedKey, endpointKey];\n};\n\nexport type AssistantsEndpoint = EModelEndpoint.assistants | EModelEndpoint.azureAssistants;\n\nexport const isAssistantsEndpoint = (_endpoint?: AssistantsEndpoint | null | string): boolean => {\n  const endpoint = _endpoint ?? '';\n  if (!endpoint) {\n    return false;\n  }\n  return endpoint.toLowerCase().endsWith(EModelEndpoint.assistants);\n};\n\nexport type AgentProvider = Exclude<keyof typeof EModelEndpoint, EModelEndpoint.agents> | string;\n\nexport const isAgentsEndpoint = (_endpoint?: EModelEndpoint.agents | null | string): boolean => {\n  const endpoint = _endpoint ?? '';\n  if (!endpoint) {\n    return false;\n  }\n  return endpoint === EModelEndpoint.agents;\n};\n\nexport const isParamEndpoint = (\n  endpoint: EModelEndpoint | string,\n  endpointType?: EModelEndpoint | string,\n): boolean => {\n  if (paramEndpoints.has(endpoint)) {\n    return true;\n  }\n\n  if (endpointType != null) {\n    return paramEndpoints.has(endpointType);\n  }\n\n  return false;\n};\n\nexport enum ImageDetail {\n  low = 'low',\n  auto = 'auto',\n  high = 'high',\n}\n\nexport enum ReasoningEffort {\n  unset = '',\n  none = 'none',\n  minimal = 'minimal',\n  low = 'low',\n  medium = 'medium',\n  high = 'high',\n}\n\nexport enum ReasoningSummary {\n  none = '',\n  auto = 'auto',\n  concise = 'concise',\n  detailed = 'detailed',\n}\n\nexport enum Verbosity {\n  none = '',\n  low = 'low',\n  medium = 'medium',\n  high = 'high',\n}\n\nexport const imageDetailNumeric = {\n  [ImageDetail.low]: 0,\n  [ImageDetail.auto]: 1,\n  [ImageDetail.high]: 2,\n};\n\nexport const imageDetailValue = {\n  0: ImageDetail.low,\n  1: ImageDetail.auto,\n  2: ImageDetail.high,\n};\n\nexport const eImageDetailSchema = z.nativeEnum(ImageDetail);\nexport const eReasoningEffortSchema = z.nativeEnum(ReasoningEffort);\nexport const eReasoningSummarySchema = z.nativeEnum(ReasoningSummary);\nexport const eVerbositySchema = z.nativeEnum(Verbosity);\n\nexport const defaultAssistantFormValues = {\n  assistant: '',\n  id: '',\n  name: '',\n  description: '',\n  instructions: '',\n  conversation_starters: [],\n  model: '',\n  functions: [],\n  code_interpreter: false,\n  image_vision: false,\n  retrieval: false,\n  append_current_datetime: false,\n};\n\nexport const defaultAgentFormValues = {\n  agent: {},\n  id: '',\n  name: '',\n  description: '',\n  instructions: '',\n  model: '',\n  model_parameters: {},\n  tools: [],\n  provider: {},\n  projectIds: [],\n  edges: [],\n  artifacts: '',\n  /** @deprecated Use ACL permissions instead */\n  isCollaborative: false,\n  recursion_limit: undefined,\n  [Tools.execute_code]: false,\n  [Tools.file_search]: false,\n  [Tools.web_search]: false,\n  category: 'general',\n  support_contact: {\n    name: '',\n    email: '',\n  },\n};\n\nexport const ImageVisionTool: FunctionTool = {\n  type: Tools.function,\n  [Tools.function]: {\n    name: 'image_vision',\n    description: 'Get detailed text descriptions for all current image attachments.',\n    parameters: {\n      type: 'object',\n      properties: {},\n      required: [],\n    },\n  },\n};\n\nexport const isImageVisionTool = (tool: FunctionTool | FunctionToolCall) =>\n  tool.type === 'function' && tool.function?.name === ImageVisionTool.function?.name;\n\nexport const openAISettings = {\n  model: {\n    default: 'gpt-4o-mini' as const,\n  },\n  temperature: {\n    min: 0 as const,\n    max: 2 as const,\n    step: 0.01 as const,\n    default: 1 as const,\n  },\n  top_p: {\n    min: 0 as const,\n    max: 1 as const,\n    step: 0.01 as const,\n    default: 1 as const,\n  },\n  presence_penalty: {\n    min: -2 as const,\n    max: 2 as const,\n    step: 0.01 as const,\n    default: 0 as const,\n  },\n  frequency_penalty: {\n    min: -2 as const,\n    max: 2 as const,\n    step: 0.01 as const,\n    default: 0 as const,\n  },\n  resendFiles: {\n    default: true as const,\n  },\n  maxContextTokens: {\n    default: undefined,\n  },\n  max_tokens: {\n    default: undefined,\n  },\n  imageDetail: {\n    default: ImageDetail.auto as const,\n    min: 0 as const,\n    max: 2 as const,\n    step: 1 as const,\n  },\n};\n\nexport const googleSettings = {\n  model: {\n    default: 'gemini-1.5-flash-latest' as const,\n  },\n  maxOutputTokens: {\n    min: 1 as const,\n    max: 64000 as const,\n    step: 1 as const,\n    default: 8192 as const,\n  },\n  temperature: {\n    min: 0 as const,\n    max: 2 as const,\n    step: 0.01 as const,\n    default: 1 as const,\n  },\n  topP: {\n    min: 0 as const,\n    max: 1 as const,\n    step: 0.01 as const,\n    default: 0.95 as const,\n  },\n  topK: {\n    min: 1 as const,\n    max: 40 as const,\n    step: 1 as const,\n    default: 40 as const,\n  },\n  thinking: {\n    default: true as const,\n  },\n  thinkingBudget: {\n    min: -1 as const,\n    max: 32000 as const,\n    step: 1 as const,\n    /** `-1` = Dynamic Thinking, meaning the model will adjust\n     * the budget based on the complexity of the request.\n     */\n    default: -1 as const,\n  },\n};\n\nconst ANTHROPIC_MAX_OUTPUT = 128000 as const;\nconst CLAUDE_4_64K_MAX_OUTPUT = 64000 as const;\nconst CLAUDE_32K_MAX_OUTPUT = 32000 as const;\nconst DEFAULT_MAX_OUTPUT = 8192 as const;\nconst LEGACY_ANTHROPIC_MAX_OUTPUT = 4096 as const;\nexport const anthropicSettings = {\n  model: {\n    default: 'claude-3-5-sonnet-latest' as const,\n  },\n  temperature: {\n    min: 0 as const,\n    max: 1 as const,\n    step: 0.01 as const,\n    default: 1 as const,\n  },\n  promptCache: {\n    default: true as const,\n  },\n  thinking: {\n    default: true as const,\n  },\n  thinkingBudget: {\n    min: 1024 as const,\n    step: 100 as const,\n    max: 200000 as const,\n    default: 2000 as const,\n  },\n  maxOutputTokens: {\n    min: 1 as const,\n    max: ANTHROPIC_MAX_OUTPUT,\n    step: 1 as const,\n    default: DEFAULT_MAX_OUTPUT,\n    reset: (modelName: string) => {\n      if (/claude-(?:sonnet|haiku)[-.]?[4-9]/.test(modelName)) {\n        return CLAUDE_4_64K_MAX_OUTPUT;\n      }\n\n      if (/claude-opus[-.]?(?:[5-9]|4[-.]?([5-9]|\\d{2,}))/.test(modelName)) {\n        return CLAUDE_4_64K_MAX_OUTPUT;\n      }\n\n      if (/claude-opus[-.]?[4-9]/.test(modelName)) {\n        return CLAUDE_32K_MAX_OUTPUT;\n      }\n\n      return DEFAULT_MAX_OUTPUT;\n    },\n    set: (value: number, modelName: string) => {\n      if (/claude-(?:sonnet|haiku)[-.]?[4-9]/.test(modelName) && value > CLAUDE_4_64K_MAX_OUTPUT) {\n        return CLAUDE_4_64K_MAX_OUTPUT;\n      }\n\n      if (/claude-opus[-.]?(?:[5-9]|4[-.]?([5-9]|\\d{2,}))/.test(modelName)) {\n        if (value > CLAUDE_4_64K_MAX_OUTPUT) {\n          return CLAUDE_4_64K_MAX_OUTPUT;\n        }\n        return value;\n      }\n\n      if (/claude-opus[-.]?[4-9]/.test(modelName) && value > CLAUDE_32K_MAX_OUTPUT) {\n        return CLAUDE_32K_MAX_OUTPUT;\n      }\n\n      if (value > ANTHROPIC_MAX_OUTPUT) {\n        return ANTHROPIC_MAX_OUTPUT;\n      }\n\n      return value;\n    },\n  },\n  topP: {\n    min: 0 as const,\n    max: 1 as const,\n    step: 0.01 as const,\n    default: 0.7 as const,\n  },\n  topK: {\n    min: 1 as const,\n    max: 40 as const,\n    step: 1 as const,\n    default: 5 as const,\n  },\n  resendFiles: {\n    default: true as const,\n  },\n  maxContextTokens: {\n    default: undefined,\n  },\n  legacy: {\n    maxOutputTokens: {\n      min: 1 as const,\n      max: LEGACY_ANTHROPIC_MAX_OUTPUT,\n      step: 1 as const,\n      default: LEGACY_ANTHROPIC_MAX_OUTPUT,\n    },\n  },\n  web_search: {\n    default: false as const,\n  },\n};\n\nexport const agentsSettings = {\n  model: {\n    default: 'gpt-3.5-turbo-test' as const,\n  },\n  temperature: {\n    min: 0 as const,\n    max: 1 as const,\n    step: 0.01 as const,\n    default: 1 as const,\n  },\n  top_p: {\n    min: 0 as const,\n    max: 1 as const,\n    step: 0.01 as const,\n    default: 1 as const,\n  },\n  presence_penalty: {\n    min: -2 as const,\n    max: 2 as const,\n    step: 0.01 as const,\n    default: 0 as const,\n  },\n  frequency_penalty: {\n    min: -2 as const,\n    max: 2 as const,\n    step: 0.01 as const,\n    default: 0 as const,\n  },\n  resendFiles: {\n    default: true as const,\n  },\n  maxContextTokens: {\n    default: undefined,\n  },\n  max_tokens: {\n    default: undefined,\n  },\n  imageDetail: {\n    default: ImageDetail.auto as const,\n  },\n};\n\nexport const endpointSettings = {\n  [EModelEndpoint.openAI]: openAISettings,\n  [EModelEndpoint.google]: googleSettings,\n  [EModelEndpoint.anthropic]: anthropicSettings,\n  [EModelEndpoint.agents]: agentsSettings,\n  [EModelEndpoint.bedrock]: agentsSettings,\n};\n\nconst google = endpointSettings[EModelEndpoint.google];\n\nexport const eModelEndpointSchema = z.nativeEnum(EModelEndpoint);\n\nexport const extendedModelEndpointSchema = z.union([eModelEndpointSchema, z.string()]);\n\nexport const tPluginAuthConfigSchema = z.object({\n  authField: z.string(),\n  label: z.string(),\n  description: z.string(),\n});\n\nexport type TPluginAuthConfig = z.infer<typeof tPluginAuthConfigSchema>;\n\nexport const tPluginSchema = z.object({\n  name: z.string(),\n  pluginKey: z.string(),\n  description: z.string().optional(),\n  icon: z.string().optional(),\n  authConfig: z.array(tPluginAuthConfigSchema).optional(),\n  authenticated: z.boolean().optional(),\n  chatMenu: z.boolean().optional(),\n  isButton: z.boolean().optional(),\n  toolkit: z.boolean().optional(),\n});\n\nexport type TPlugin = z.infer<typeof tPluginSchema>;\n\nexport type TInput = {\n  inputStr: string;\n};\n\nexport const tExampleSchema = z.object({\n  input: z.object({\n    content: z.string(),\n  }),\n  output: z.object({\n    content: z.string(),\n  }),\n});\n\nexport type TExample = z.infer<typeof tExampleSchema>;\n\nexport const tMessageSchema = z.object({\n  messageId: z.string(),\n  endpoint: z.string().optional(),\n  clientId: z.string().nullable().optional(),\n  conversationId: z.string().nullable(),\n  parentMessageId: z.string().nullable(),\n  responseMessageId: z.string().nullable().optional(),\n  overrideParentMessageId: z.string().nullable().optional(),\n  bg: z.string().nullable().optional(),\n  model: z.string().nullable().optional(),\n  title: z.string().nullable().or(z.literal('New Chat')).default('New Chat'),\n  sender: z.string().optional(),\n  text: z.string(),\n  /** @deprecated */\n  generation: z.string().nullable().optional(),\n  isCreatedByUser: z.boolean(),\n  error: z.boolean().optional(),\n  clientTimestamp: z.string().optional(),\n  createdAt: z\n    .string()\n    .optional()\n    .default(() => new Date().toISOString()),\n  updatedAt: z\n    .string()\n    .optional()\n    .default(() => new Date().toISOString()),\n  current: z.boolean().optional(),\n  unfinished: z.boolean().optional(),\n  searchResult: z.boolean().optional(),\n  finish_reason: z.string().optional(),\n  /* assistant */\n  thread_id: z.string().optional(),\n  /* frontend components */\n  iconURL: z.string().nullable().optional(),\n  feedback: feedbackSchema.optional(),\n  /** metadata */\n  metadata: z.record(z.unknown()).optional(),\n});\n\nexport type MemoryArtifact = {\n  key: string;\n  value?: string;\n  tokenCount?: number;\n  type: 'update' | 'delete' | 'error';\n};\n\nexport type UIResource = {\n  resourceId: string;\n  uri: string;\n  mimeType?: string;\n  text?: string;\n  [key: string]: unknown;\n};\n\nexport type TAttachmentMetadata = {\n  type?: Tools;\n  messageId: string;\n  toolCallId: string;\n  [Tools.memory]?: MemoryArtifact;\n  [Tools.ui_resources]?: UIResource[];\n  [Tools.web_search]?: SearchResultData;\n  [Tools.file_search]?: SearchResultData;\n};\n\nexport type TAttachment =\n  | (TFile & TAttachmentMetadata)\n  | (Pick<TFile, 'filename' | 'filepath' | 'conversationId'> & {\n      expiresAt: number;\n    } & TAttachmentMetadata)\n  | (Partial<Pick<TFile, 'filename' | 'filepath'>> &\n      Pick<TFile, 'conversationId'> &\n      TAttachmentMetadata);\n\nexport type TMessage = z.input<typeof tMessageSchema> & {\n  children?: TMessage[];\n  content?: TMessageContentParts[];\n  files?: Partial<TFile>[];\n  depth?: number;\n  siblingIndex?: number;\n  attachments?: TAttachment[];\n  clientTimestamp?: string;\n  feedback?: TFeedback;\n};\n\nexport const coerceNumber = z.union([z.number(), z.string()]).transform((val) => {\n  if (typeof val === 'string') {\n    return val.trim() === '' ? undefined : parseFloat(val);\n  }\n  return val;\n});\n\ntype DocumentTypeValue =\n  | null\n  | boolean\n  | number\n  | string\n  | DocumentTypeValue[]\n  | { [key: string]: DocumentTypeValue };\n\nconst DocumentType: z.ZodType<DocumentTypeValue> = z.lazy(() =>\n  z.union([\n    z.null(),\n    z.boolean(),\n    z.number(),\n    z.string(),\n    z.array(z.lazy(() => DocumentType)),\n    z.record(z.lazy(() => DocumentType)),\n  ]),\n);\n\nexport const tConversationSchema = z.object({\n  conversationId: z.string().nullable(),\n  endpoint: eModelEndpointSchema.nullable(),\n  endpointType: eModelEndpointSchema.nullable().optional(),\n  isArchived: z.boolean().optional(),\n  title: z.string().nullable().or(z.literal('New Chat')).default('New Chat'),\n  user: z.string().optional(),\n  messages: z.array(z.string()).optional(),\n  tools: z.union([z.array(tPluginSchema), z.array(z.string())]).optional(),\n  modelLabel: z.string().nullable().optional(),\n  userLabel: z.string().optional(),\n  model: z.string().nullable().optional(),\n  promptPrefix: z.string().nullable().optional(),\n  temperature: z.number().nullable().optional(),\n  topP: z.number().optional(),\n  topK: z.number().optional(),\n  top_p: z.number().optional(),\n  frequency_penalty: z.number().optional(),\n  presence_penalty: z.number().optional(),\n  parentMessageId: z.string().optional(),\n  maxOutputTokens: coerceNumber.nullable().optional(),\n  maxContextTokens: coerceNumber.optional(),\n  max_tokens: coerceNumber.optional(),\n  /* Anthropic */\n  promptCache: z.boolean().optional(),\n  system: z.string().optional(),\n  thinking: z.boolean().optional(),\n  thinkingBudget: coerceNumber.optional(),\n  stream: z.boolean().optional(),\n  /* artifacts */\n  artifacts: z.string().optional(),\n  /* google */\n  context: z.string().nullable().optional(),\n  examples: z.array(tExampleSchema).optional(),\n  /* DB */\n  tags: z.array(z.string()).optional(),\n  createdAt: z.string(),\n  updatedAt: z.string(),\n  /* Files */\n  resendFiles: z.boolean().optional(),\n  file_ids: z.array(z.string()).optional(),\n  /* vision */\n  imageDetail: eImageDetailSchema.optional(),\n  /* OpenAI: Reasoning models only */\n  reasoning_effort: eReasoningEffortSchema.optional().nullable(),\n  reasoning_summary: eReasoningSummarySchema.optional().nullable(),\n  /* OpenAI: Verbosity control */\n  verbosity: eVerbositySchema.optional().nullable(),\n  /* OpenAI: use Responses API */\n  useResponsesApi: z.boolean().optional(),\n  /* OpenAI Responses API / Anthropic API / Google API */\n  web_search: z.boolean().optional(),\n  /* disable streaming */\n  disableStreaming: z.boolean().optional(),\n  /* assistant */\n  assistant_id: z.string().optional(),\n  /* agents */\n  agent_id: z.string().optional(),\n  /* AWS Bedrock */\n  region: z.string().optional(),\n  maxTokens: coerceNumber.optional(),\n  additionalModelRequestFields: DocumentType.optional(),\n  /* assistants */\n  instructions: z.string().optional(),\n  additional_instructions: z.string().optional(),\n  append_current_datetime: z.boolean().optional(),\n  /** Used to overwrite active conversation settings when saving a Preset */\n  presetOverride: z.record(z.unknown()).optional(),\n  stop: z.array(z.string()).optional(),\n  /* frontend components */\n  greeting: z.string().optional(),\n  spec: z.string().nullable().optional(),\n  iconURL: z.string().nullable().optional(),\n  /* temporary chat */\n  expiredAt: z.string().nullable().optional(),\n  /* file token limits */\n  fileTokenLimit: coerceNumber.optional(),\n  /** @deprecated */\n  resendImages: z.boolean().optional(),\n  /** @deprecated Prefer `modelLabel` over `chatGptLabel` */\n  chatGptLabel: z.string().nullable().optional(),\n});\n\nexport const tPresetSchema = tConversationSchema\n  .omit({\n    conversationId: true,\n    createdAt: true,\n    updatedAt: true,\n    title: true,\n  })\n  .merge(\n    z.object({\n      conversationId: z.string().nullable().optional(),\n      presetId: z.string().nullable().optional(),\n      title: z.string().nullable().optional(),\n      defaultPreset: z.boolean().optional(),\n      order: z.number().optional(),\n      endpoint: extendedModelEndpointSchema.nullable(),\n    }),\n  );\n\nexport const tConvoUpdateSchema = tConversationSchema.merge(\n  z.object({\n    endpoint: extendedModelEndpointSchema.nullable(),\n    createdAt: z.string().optional(),\n    updatedAt: z.string().optional(),\n  }),\n);\n\nexport const tQueryParamsSchema = tConversationSchema\n  .pick({\n    // librechat settings\n    /** The model spec to be used */\n    spec: true,\n    /** The AI context window, overrides the system-defined window as determined by `model` value */\n    maxContextTokens: true,\n    /**\n     * Whether or not to re-submit files from previous messages on subsequent messages\n     * */\n    resendFiles: true,\n    /**\n     * @endpoints openAI, custom, azureOpenAI\n     *\n     * System parameter that only affects the above endpoints.\n     * Image detail for re-sizing according to OpenAI spec, defaults to `auto`\n     * */\n    imageDetail: true,\n    /**\n     * AKA Custom Instructions, dynamically added to chat history as a system message;\n     * for `bedrock` endpoint, this is used as the `system` model param if the provider uses it;\n     * for `assistants` endpoint, this is used as the `additional_instructions` model param:\n     * https://platform.openai.com/docs/api-reference/runs/createRun#runs-createrun-additional_instructions\n     * ; otherwise, a message with `system` role is added to the chat history\n     */\n    promptPrefix: true,\n    // Model parameters\n    /** @endpoints openAI, custom, azureOpenAI, google, anthropic, assistants, azureAssistants, bedrock */\n    model: true,\n    /** @endpoints openAI, custom, azureOpenAI, google, anthropic, bedrock */\n    temperature: true,\n    /** @endpoints openAI, custom, azureOpenAI */\n    presence_penalty: true,\n    /** @endpoints openAI, custom, azureOpenAI */\n    frequency_penalty: true,\n    /** @endpoints openAI, custom, azureOpenAI */\n    stop: true,\n    /** @endpoints openAI, custom, azureOpenAI */\n    top_p: true,\n    /** @endpoints openAI, custom, azureOpenAI */\n    max_tokens: true,\n    /** @endpoints openAI, custom, azureOpenAI */\n    reasoning_effort: true,\n    /** @endpoints openAI, custom, azureOpenAI */\n    reasoning_summary: true,\n    /** @endpoints openAI, custom, azureOpenAI */\n    verbosity: true,\n    /** @endpoints openAI, custom, azureOpenAI */\n    useResponsesApi: true,\n    /** @endpoints openAI, anthropic, google */\n    web_search: true,\n    /** @endpoints openAI, custom, azureOpenAI */\n    disableStreaming: true,\n    /** @endpoints google, anthropic, bedrock */\n    topP: true,\n    /** @endpoints google, anthropic */\n    topK: true,\n    /** @endpoints google, anthropic */\n    maxOutputTokens: true,\n    /** @endpoints anthropic */\n    promptCache: true,\n    thinking: true,\n    thinkingBudget: true,\n    /** @endpoints bedrock */\n    region: true,\n    /** @endpoints bedrock */\n    maxTokens: true,\n    /** @endpoints agents */\n    agent_id: true,\n    /** @endpoints assistants, azureAssistants */\n    assistant_id: true,\n    /** @endpoints assistants, azureAssistants */\n    append_current_datetime: true,\n    /**\n     * @endpoints assistants, azureAssistants\n     *\n     * Overrides existing assistant instructions, only used for the current run:\n     * https://platform.openai.com/docs/api-reference/runs/createRun#runs-createrun-instructions\n     * */\n    instructions: true,\n    /** @endpoints openAI, google, anthropic */\n    fileTokenLimit: true,\n  })\n  .merge(\n    z.object({\n      /** @endpoints openAI, custom, azureOpenAI, google, anthropic, assistants, azureAssistants, bedrock, agents */\n      endpoint: extendedModelEndpointSchema.nullable(),\n    }),\n  );\n\nexport type TPreset = z.infer<typeof tPresetSchema>;\n\nexport type TSetOption = (\n  param: number | string,\n) => (newValue: number | string | boolean | string[] | Partial<TPreset>) => void;\n\nexport type TConversation = z.infer<typeof tConversationSchema> & {\n  presetOverride?: Partial<TPreset>;\n  disableParams?: boolean;\n};\n\nexport const tSharedLinkSchema = z.object({\n  conversationId: z.string(),\n  shareId: z.string(),\n  messages: z.array(z.string()),\n  isPublic: z.boolean(),\n  title: z.string(),\n  createdAt: z.string(),\n  updatedAt: z.string(),\n});\n\nexport type TSharedLink = z.infer<typeof tSharedLinkSchema>;\n\nexport const tConversationTagSchema = z.object({\n  _id: z.string(),\n  user: z.string(),\n  tag: z.string(),\n  description: z.string().optional(),\n  createdAt: z.string(),\n  updatedAt: z.string(),\n  count: z.number(),\n  position: z.number(),\n});\nexport type TConversationTag = z.infer<typeof tConversationTagSchema>;\n\nexport const googleBaseSchema = tConversationSchema.pick({\n  model: true,\n  modelLabel: true,\n  promptPrefix: true,\n  examples: true,\n  temperature: true,\n  maxOutputTokens: true,\n  artifacts: true,\n  topP: true,\n  topK: true,\n  thinking: true,\n  thinkingBudget: true,\n  web_search: true,\n  fileTokenLimit: true,\n  iconURL: true,\n  greeting: true,\n  spec: true,\n  maxContextTokens: true,\n});\n\nexport const googleSchema = googleBaseSchema\n  .transform((obj: Partial<TConversation>) => removeNullishValues(obj))\n  .catch(() => ({}));\n\n/**\n   * TODO: Map the following fields:\n  - presence_penalty -> presencePenalty\n  - frequency_penalty -> frequencyPenalty\n  - stop -> stopSequences\n   */\nexport const googleGenConfigSchema = z\n  .object({\n    maxOutputTokens: coerceNumber.optional(),\n    temperature: coerceNumber.optional(),\n    topP: coerceNumber.optional(),\n    topK: coerceNumber.optional(),\n    presencePenalty: coerceNumber.optional(),\n    frequencyPenalty: coerceNumber.optional(),\n    stopSequences: z.array(z.string()).optional(),\n    thinkingConfig: z\n      .object({\n        includeThoughts: z.boolean().optional(),\n        thinkingBudget: coerceNumber.optional(),\n      })\n      .optional(),\n    web_search: z.boolean().optional(),\n  })\n  .strip()\n  .optional();\n\nexport function removeNullishValues<T extends Record<string, unknown>>(\n  obj: T,\n  removeEmptyStrings?: boolean,\n): Partial<T> {\n  const newObj: Partial<T> = { ...obj };\n\n  (Object.keys(newObj) as Array<keyof T>).forEach((key) => {\n    const value = newObj[key];\n    if (value === undefined || value === null) {\n      delete newObj[key];\n    }\n    if (removeEmptyStrings && typeof value === 'string' && value === '') {\n      delete newObj[key];\n    }\n  });\n\n  return newObj;\n}\n\nconst assistantBaseSchema = tConversationSchema.pick({\n  model: true,\n  assistant_id: true,\n  instructions: true,\n  artifacts: true,\n  promptPrefix: true,\n  iconURL: true,\n  greeting: true,\n  spec: true,\n  append_current_datetime: true,\n});\n\nexport const assistantSchema = assistantBaseSchema\n  .transform((obj) => ({\n    ...obj,\n    model: obj.model ?? openAISettings.model.default,\n    assistant_id: obj.assistant_id ?? undefined,\n    instructions: obj.instructions ?? undefined,\n    promptPrefix: obj.promptPrefix ?? null,\n    iconURL: obj.iconURL ?? undefined,\n    greeting: obj.greeting ?? undefined,\n    spec: obj.spec ?? undefined,\n    append_current_datetime: obj.append_current_datetime ?? false,\n  }))\n  .catch(() => ({\n    model: openAISettings.model.default,\n    assistant_id: undefined,\n    instructions: undefined,\n    promptPrefix: null,\n    iconURL: undefined,\n    greeting: undefined,\n    spec: undefined,\n    append_current_datetime: false,\n  }));\n\nconst compactAssistantBaseSchema = tConversationSchema.pick({\n  model: true,\n  assistant_id: true,\n  instructions: true,\n  promptPrefix: true,\n  artifacts: true,\n  iconURL: true,\n  greeting: true,\n  spec: true,\n});\n\nexport const compactAssistantSchema = compactAssistantBaseSchema\n  .transform((obj) => removeNullishValues(obj))\n  .catch(() => ({}));\n\nexport const agentsBaseSchema = tConversationSchema.pick({\n  model: true,\n  modelLabel: true,\n  temperature: true,\n  top_p: true,\n  presence_penalty: true,\n  frequency_penalty: true,\n  resendFiles: true,\n  imageDetail: true,\n  agent_id: true,\n  instructions: true,\n  promptPrefix: true,\n  iconURL: true,\n  greeting: true,\n  maxContextTokens: true,\n});\n\nexport const agentsSchema = agentsBaseSchema\n  .transform((obj) => ({\n    ...obj,\n    model: obj.model ?? agentsSettings.model.default,\n    modelLabel: obj.modelLabel ?? null,\n    temperature: obj.temperature ?? 1,\n    top_p: obj.top_p ?? 1,\n    presence_penalty: obj.presence_penalty ?? 0,\n    frequency_penalty: obj.frequency_penalty ?? 0,\n    resendFiles:\n      typeof obj.resendFiles === 'boolean' ? obj.resendFiles : agentsSettings.resendFiles.default,\n    imageDetail: obj.imageDetail ?? ImageDetail.auto,\n    agent_id: obj.agent_id ?? undefined,\n    instructions: obj.instructions ?? undefined,\n    promptPrefix: obj.promptPrefix ?? null,\n    iconURL: obj.iconURL ?? undefined,\n    greeting: obj.greeting ?? undefined,\n    maxContextTokens: obj.maxContextTokens ?? undefined,\n  }))\n  .catch(() => ({\n    model: agentsSettings.model.default,\n    modelLabel: null,\n    temperature: 1,\n    top_p: 1,\n    presence_penalty: 0,\n    frequency_penalty: 0,\n    resendFiles: agentsSettings.resendFiles.default,\n    imageDetail: ImageDetail.auto,\n    agent_id: undefined,\n    instructions: undefined,\n    promptPrefix: null,\n    iconURL: undefined,\n    greeting: undefined,\n    maxContextTokens: undefined,\n  }));\n\nexport const openAIBaseSchema = tConversationSchema.pick({\n  model: true,\n  modelLabel: true,\n  chatGptLabel: true,\n  promptPrefix: true,\n  temperature: true,\n  top_p: true,\n  presence_penalty: true,\n  frequency_penalty: true,\n  resendFiles: true,\n  artifacts: true,\n  imageDetail: true,\n  stop: true,\n  iconURL: true,\n  greeting: true,\n  spec: true,\n  maxContextTokens: true,\n  max_tokens: true,\n  reasoning_effort: true,\n  reasoning_summary: true,\n  verbosity: true,\n  useResponsesApi: true,\n  web_search: true,\n  disableStreaming: true,\n  fileTokenLimit: true,\n});\n\nexport const openAISchema = openAIBaseSchema\n  .transform((obj: Partial<TConversation>) => removeNullishValues(obj, true))\n  .catch(() => ({}));\n\nexport const compactGoogleSchema = googleBaseSchema\n  .transform((obj) => {\n    const newObj: Partial<TConversation> = { ...obj };\n    if (newObj.temperature === google.temperature.default) {\n      delete newObj.temperature;\n    }\n    if (newObj.maxOutputTokens === google.maxOutputTokens.default) {\n      delete newObj.maxOutputTokens;\n    }\n    if (newObj.topP === google.topP.default) {\n      delete newObj.topP;\n    }\n    if (newObj.topK === google.topK.default) {\n      delete newObj.topK;\n    }\n\n    return removeNullishValues(newObj);\n  })\n  .catch(() => ({}));\n\nexport const anthropicBaseSchema = tConversationSchema.pick({\n  model: true,\n  modelLabel: true,\n  promptPrefix: true,\n  temperature: true,\n  maxOutputTokens: true,\n  topP: true,\n  topK: true,\n  resendFiles: true,\n  promptCache: true,\n  thinking: true,\n  thinkingBudget: true,\n  artifacts: true,\n  iconURL: true,\n  greeting: true,\n  spec: true,\n  maxContextTokens: true,\n  web_search: true,\n  fileTokenLimit: true,\n  stop: true,\n  stream: true,\n});\n\nexport const anthropicSchema = anthropicBaseSchema\n  .transform((obj) => removeNullishValues(obj))\n  .catch(() => ({}));\n\nexport const tBannerSchema = z.object({\n  bannerId: z.string(),\n  message: z.string(),\n  displayFrom: z.string(),\n  displayTo: z.string(),\n  createdAt: z.string(),\n  updatedAt: z.string(),\n  isPublic: z.boolean(),\n  persistable: z.boolean().default(false),\n});\nexport type TBanner = z.infer<typeof tBannerSchema>;\n\nexport const compactAgentsBaseSchema = tConversationSchema.pick({\n  spec: true,\n  // model: true,\n  iconURL: true,\n  greeting: true,\n  agent_id: true,\n  instructions: true,\n  additional_instructions: true,\n});\n\nexport const compactAgentsSchema = compactAgentsBaseSchema\n  .transform((obj) => removeNullishValues(obj))\n  .catch(() => ({}));\n","import { z } from 'zod';\nimport type { TPreset } from './schemas';\nimport {\n  EModelEndpoint,\n  tPresetSchema,\n  eModelEndpointSchema,\n  AuthType,\n  authTypeSchema,\n} from './schemas';\n\nexport type TModelSpec = {\n  name: string;\n  label: string;\n  preset: TPreset;\n  order?: number;\n  default?: boolean;\n  description?: string;\n  /**\n   * Optional group name for organizing specs in the UI selector.\n   * - If it matches an endpoint name (e.g., \"openAI\", \"groq\"), the spec appears nested under that endpoint\n   * - If it's a custom name (doesn't match any endpoint), it creates a separate collapsible group\n   * - If omitted, the spec appears as a standalone item at the top level\n   */\n  group?: string;\n  showIconInMenu?: boolean;\n  showIconInHeader?: boolean;\n  iconURL?: string | EModelEndpoint; // Allow using project-included icons\n  authType?: AuthType;\n  webSearch?: boolean;\n  fileSearch?: boolean;\n  executeCode?: boolean;\n  mcpServers?: string[];\n};\n\nexport const tModelSpecSchema = z.object({\n  name: z.string(),\n  label: z.string(),\n  preset: tPresetSchema,\n  order: z.number().optional(),\n  default: z.boolean().optional(),\n  description: z.string().optional(),\n  group: z.string().optional(),\n  showIconInMenu: z.boolean().optional(),\n  showIconInHeader: z.boolean().optional(),\n  iconURL: z.union([z.string(), eModelEndpointSchema]).optional(),\n  authType: authTypeSchema.optional(),\n  webSearch: z.boolean().optional(),\n  fileSearch: z.boolean().optional(),\n  executeCode: z.boolean().optional(),\n  mcpServers: z.array(z.string()).optional(),\n});\n\nexport const specsConfigSchema = z.object({\n  enforce: z.boolean().default(false),\n  prioritize: z.boolean().default(true),\n  list: z.array(tModelSpecSchema).min(1),\n  addedEndpoints: z.array(z.union([z.string(), eModelEndpointSchema])).optional(),\n});\n\nexport type TSpecsConfig = z.infer<typeof specsConfigSchema>;\n","import { z } from 'zod';\nimport type { EndpointFileConfig, FileConfig } from './types/files';\nimport { EModelEndpoint, isAgentsEndpoint, isDocumentSupportedProvider } from './schemas';\nimport { normalizeEndpointName } from './utils';\n\nexport const supportsFiles = {\n  [EModelEndpoint.openAI]: true,\n  [EModelEndpoint.google]: true,\n  [EModelEndpoint.assistants]: true,\n  [EModelEndpoint.azureAssistants]: true,\n  [EModelEndpoint.agents]: true,\n  [EModelEndpoint.azureOpenAI]: true,\n  [EModelEndpoint.anthropic]: true,\n  [EModelEndpoint.custom]: true,\n  [EModelEndpoint.bedrock]: true,\n};\n\nexport const excelFileTypes = [\n  'application/vnd.ms-excel',\n  'application/msexcel',\n  'application/x-msexcel',\n  'application/x-ms-excel',\n  'application/x-excel',\n  'application/x-dos_ms_excel',\n  'application/xls',\n  'application/x-xls',\n  'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n];\n\nexport const fullMimeTypesList = [\n  'text/x-c',\n  'text/x-c++',\n  'application/csv',\n  'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n  'text/html',\n  'text/x-java',\n  'application/json',\n  'text/markdown',\n  'application/pdf',\n  'text/x-php',\n  'application/vnd.openxmlformats-officedocument.presentationml.presentation',\n  'text/x-python',\n  'text/x-script.python',\n  'text/x-ruby',\n  'text/x-tex',\n  'text/plain',\n  'text/css',\n  'text/vtt',\n  'image/jpeg',\n  'text/javascript',\n  'image/gif',\n  'image/png',\n  'image/heic',\n  'image/heif',\n  'application/x-tar',\n  'application/x-sh',\n  'application/typescript',\n  'application/sql',\n  'application/yaml',\n  'application/vnd.coffeescript',\n  'application/xml',\n  'application/zip',\n  'image/svg',\n  'image/svg+xml',\n  // Video formats\n  'video/mp4',\n  'video/avi',\n  'video/mov',\n  'video/wmv',\n  'video/flv',\n  'video/webm',\n  'video/mkv',\n  'video/m4v',\n  'video/3gp',\n  'video/ogv',\n  // Audio formats\n  'audio/mp3',\n  'audio/wav',\n  'audio/ogg',\n  'audio/m4a',\n  'audio/aac',\n  'audio/flac',\n  'audio/wma',\n  'audio/opus',\n  'audio/mpeg',\n  ...excelFileTypes,\n];\n\nexport const codeInterpreterMimeTypesList = [\n  'text/x-c',\n  'text/x-c++',\n  'application/csv',\n  'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n  'text/html',\n  'text/x-java',\n  'application/json',\n  'text/markdown',\n  'application/pdf',\n  'text/x-php',\n  'application/vnd.openxmlformats-officedocument.presentationml.presentation',\n  'text/x-python',\n  'text/x-script.python',\n  'text/x-ruby',\n  'text/x-tex',\n  'text/plain',\n  'text/css',\n  'image/jpeg',\n  'text/javascript',\n  'image/gif',\n  'image/png',\n  'image/heic',\n  'image/heif',\n  'application/x-tar',\n  'application/typescript',\n  'application/xml',\n  'application/zip',\n  ...excelFileTypes,\n];\n\nexport const retrievalMimeTypesList = [\n  'text/x-c',\n  'text/x-c++',\n  'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n  'text/html',\n  'text/x-java',\n  'application/json',\n  'text/markdown',\n  'application/pdf',\n  'text/x-php',\n  'application/vnd.openxmlformats-officedocument.presentationml.presentation',\n  'text/x-python',\n  'text/x-script.python',\n  'text/x-ruby',\n  'text/x-tex',\n  'text/plain',\n];\n\nexport const imageExtRegex = /\\.(jpg|jpeg|png|gif|webp|heic|heif)$/i;\n\nexport const excelMimeTypes =\n  /^application\\/(vnd\\.ms-excel|msexcel|x-msexcel|x-ms-excel|x-excel|x-dos_ms_excel|xls|x-xls|vnd\\.openxmlformats-officedocument\\.spreadsheetml\\.sheet)$/;\n\nexport const textMimeTypes =\n  /^(text\\/(x-c|x-csharp|tab-separated-values|x-c\\+\\+|x-h|x-java|html|markdown|x-php|x-python|x-script\\.python|x-ruby|x-tex|plain|css|vtt|javascript|csv|xml))$/;\n\nexport const applicationMimeTypes =\n  /^(application\\/(epub\\+zip|csv|json|pdf|x-tar|x-sh|typescript|sql|yaml|vnd\\.coffeescript|vnd\\.openxmlformats-officedocument\\.(wordprocessingml\\.document|presentationml\\.presentation|spreadsheetml\\.sheet)|xml|zip))$/;\n\nexport const imageMimeTypes = /^image\\/(jpeg|gif|png|webp|heic|heif)$/;\n\nexport const audioMimeTypes =\n  /^audio\\/(mp3|mpeg|mpeg3|wav|wave|x-wav|ogg|vorbis|mp4|m4a|x-m4a|flac|x-flac|webm|aac|wma|opus)$/;\n\nexport const videoMimeTypes = /^video\\/(mp4|avi|mov|wmv|flv|webm|mkv|m4v|3gp|ogv)$/;\n\nexport const defaultOCRMimeTypes = [\n  imageMimeTypes,\n  /^application\\/pdf$/,\n  /^application\\/vnd\\.openxmlformats-officedocument\\.(wordprocessingml\\.document|presentationml\\.presentation|spreadsheetml\\.sheet)$/,\n  /^application\\/vnd\\.ms-(word|powerpoint|excel)$/,\n  /^application\\/epub\\+zip$/,\n];\n\nexport const defaultTextMimeTypes = [/^[\\w.-]+\\/[\\w.-]+$/];\n\nexport const defaultSTTMimeTypes = [audioMimeTypes];\n\nexport const supportedMimeTypes = [\n  textMimeTypes,\n  excelMimeTypes,\n  applicationMimeTypes,\n  imageMimeTypes,\n  videoMimeTypes,\n  audioMimeTypes,\n  /** Supported by LC Code Interpreter API */\n  /^image\\/(svg|svg\\+xml)$/,\n];\n\nexport const codeInterpreterMimeTypes = [\n  textMimeTypes,\n  excelMimeTypes,\n  applicationMimeTypes,\n  imageMimeTypes,\n];\n\nexport const codeTypeMapping: { [key: string]: string } = {\n  c: 'text/x-c', // .c - C source\n  cs: 'text/x-csharp', // .cs - C# source\n  cpp: 'text/x-c++', // .cpp - C++ source\n  h: 'text/x-h', // .h - C/C++ header\n  md: 'text/markdown', // .md - Markdown\n  php: 'text/x-php', // .php - PHP source\n  py: 'text/x-python', // .py - Python source\n  rb: 'text/x-ruby', // .rb - Ruby source\n  tex: 'text/x-tex', // .tex - LaTeX source\n  js: 'text/javascript', // .js - JavaScript source\n  sh: 'application/x-sh', // .sh - Shell script\n  ts: 'application/typescript', // .ts - TypeScript source\n  tar: 'application/x-tar', // .tar - Tar archive\n  zip: 'application/zip', // .zip - ZIP archive\n  log: 'text/plain', // .log - Log file\n  tsv: 'text/tab-separated-values', // .tsv - Tab-separated values\n  yml: 'application/yaml', // .yml - YAML\n  yaml: 'application/yaml', // .yaml - YAML\n  sql: 'application/sql', // .sql - SQL (IANA registered)\n  dart: 'text/plain', // .dart - Dart source\n  coffee: 'application/vnd.coffeescript', // .coffee - CoffeeScript (IANA registered)\n  go: 'text/plain', // .go - Go source\n  rs: 'text/plain', // .rs - Rust source\n  swift: 'text/plain', // .swift - Swift source\n  kt: 'text/plain', // .kt - Kotlin source\n  kts: 'text/plain', // .kts - Kotlin script\n  scala: 'text/plain', // .scala - Scala source\n  lua: 'text/plain', // .lua - Lua source\n  r: 'text/plain', // .r - R source\n  pl: 'text/plain', // .pl - Perl source\n  pm: 'text/plain', // .pm - Perl module\n  groovy: 'text/plain', // .groovy - Groovy source\n  gradle: 'text/plain', // .gradle - Gradle build script\n  clj: 'text/plain', // .clj - Clojure source\n  cljs: 'text/plain', // .cljs - ClojureScript source\n  cljc: 'text/plain', // .cljc - Clojure common source\n  elm: 'text/plain', // .elm - Elm source\n  erl: 'text/plain', // .erl - Erlang source\n  hrl: 'text/plain', // .hrl - Erlang header\n  ex: 'text/plain', // .ex - Elixir source\n  exs: 'text/plain', // .exs - Elixir script\n  hs: 'text/plain', // .hs - Haskell source\n  lhs: 'text/plain', // .lhs - Literate Haskell source\n  ml: 'text/plain', // .ml - OCaml source\n  mli: 'text/plain', // .mli - OCaml interface\n  fs: 'text/plain', // .fs - F# source\n  fsx: 'text/plain', // .fsx - F# script\n  lisp: 'text/plain', // .lisp - Lisp source\n  cl: 'text/plain', // .cl - Common Lisp source\n  scm: 'text/plain', // .scm - Scheme source\n  rkt: 'text/plain', // .rkt - Racket source\n  jsx: 'text/plain', // .jsx - React JSX\n  tsx: 'text/plain', // .tsx - React TSX\n  vue: 'text/plain', // .vue - Vue component\n  svelte: 'text/plain', // .svelte - Svelte component\n  astro: 'text/plain', // .astro - Astro component\n  scss: 'text/plain', // .scss - SCSS source\n  sass: 'text/plain', // .sass - Sass source\n  less: 'text/plain', // .less - Less source\n  styl: 'text/plain', // .styl - Stylus source\n  toml: 'text/plain', // .toml - TOML config\n  ini: 'text/plain', // .ini - INI config\n  cfg: 'text/plain', // .cfg - Config file\n  conf: 'text/plain', // .conf - Config file\n  env: 'text/plain', // .env - Environment file\n  properties: 'text/plain', // .properties - Java properties\n  graphql: 'text/plain', // .graphql - GraphQL schema/query\n  gql: 'text/plain', // .gql - GraphQL schema/query\n  proto: 'text/plain', // .proto - Protocol Buffers\n  dockerfile: 'text/plain', // Dockerfile\n  makefile: 'text/plain', // Makefile\n  cmake: 'text/plain', // .cmake - CMake script\n  rake: 'text/plain', // .rake - Rake task\n  gemspec: 'text/plain', // .gemspec - Ruby gem spec\n  bash: 'text/plain', // .bash - Bash script\n  zsh: 'text/plain', // .zsh - Zsh script\n  fish: 'text/plain', // .fish - Fish script\n  ps1: 'text/plain', // .ps1 - PowerShell script\n  psm1: 'text/plain', // .psm1 - PowerShell module\n  bat: 'text/plain', // .bat - Batch script\n  cmd: 'text/plain', // .cmd - Windows command script\n  asm: 'text/plain', // .asm - Assembly source\n  s: 'text/plain', // .s - Assembly source\n  v: 'text/plain', // .v - V or Verilog source\n  zig: 'text/plain', // .zig - Zig source\n  nim: 'text/plain', // .nim - Nim source\n  cr: 'text/plain', // .cr - Crystal source\n  d: 'text/plain', // .d - D source\n  pas: 'text/plain', // .pas - Pascal source\n  pp: 'text/plain', // .pp - Pascal/Puppet source\n  f90: 'text/plain', // .f90 - Fortran 90 source\n  f95: 'text/plain', // .f95 - Fortran 95 source\n  f03: 'text/plain', // .f03 - Fortran 2003 source\n  jl: 'text/plain', // .jl - Julia source\n  m: 'text/plain', // .m - Objective-C/MATLAB source\n  mm: 'text/plain', // .mm - Objective-C++ source\n  ada: 'text/plain', // .ada - Ada source\n  adb: 'text/plain', // .adb - Ada body\n  ads: 'text/plain', // .ads - Ada spec\n  cob: 'text/plain', // .cob - COBOL source\n  cbl: 'text/plain', // .cbl - COBOL source\n  tcl: 'text/plain', // .tcl - Tcl source\n  awk: 'text/plain', // .awk - AWK script\n  sed: 'text/plain', // .sed - Sed script\n};\n\n/** Maps image extensions to MIME types for formats browsers may not recognize */\nexport const imageTypeMapping: { [key: string]: string } = {\n  heic: 'image/heic',\n  heif: 'image/heif',\n};\n\n/**\n * Infers the MIME type from a file's extension when the browser doesn't recognize it\n * @param fileName - The name of the file including extension\n * @param currentType - The current MIME type reported by the browser (may be empty)\n * @returns The inferred MIME type if browser didn't provide one, otherwise the original type\n */\nexport function inferMimeType(fileName: string, currentType: string): string {\n  if (currentType) {\n    return currentType;\n  }\n\n  const extension = fileName.split('.').pop()?.toLowerCase() ?? '';\n  return codeTypeMapping[extension] || imageTypeMapping[extension] || currentType;\n}\n\nexport const retrievalMimeTypes = [\n  /^(text\\/(x-c|x-c\\+\\+|x-h|html|x-java|markdown|x-php|x-python|x-script\\.python|x-ruby|x-tex|plain|vtt|xml))$/,\n  /^(application\\/(json|pdf|vnd\\.openxmlformats-officedocument\\.(wordprocessingml\\.document|presentationml\\.presentation)))$/,\n];\n\nexport const megabyte = 1024 * 1024;\n/** Helper function to get megabytes value */\nexport const mbToBytes = (mb: number): number => mb * megabyte;\n\nconst defaultSizeLimit = mbToBytes(512);\nconst defaultTokenLimit = 100000;\nconst assistantsFileConfig = {\n  fileLimit: 10,\n  fileSizeLimit: defaultSizeLimit,\n  totalSizeLimit: defaultSizeLimit,\n  supportedMimeTypes,\n  disabled: false,\n};\n\nexport const fileConfig = {\n  endpoints: {\n    [EModelEndpoint.assistants]: assistantsFileConfig,\n    [EModelEndpoint.azureAssistants]: assistantsFileConfig,\n    [EModelEndpoint.agents]: assistantsFileConfig,\n    [EModelEndpoint.anthropic]: {\n      fileLimit: 10,\n      fileSizeLimit: defaultSizeLimit,\n      totalSizeLimit: defaultSizeLimit,\n      supportedMimeTypes,\n      disabled: false,\n    },\n    default: {\n      fileLimit: 10,\n      fileSizeLimit: defaultSizeLimit,\n      totalSizeLimit: defaultSizeLimit,\n      supportedMimeTypes,\n      disabled: false,\n    },\n  },\n  serverFileSizeLimit: defaultSizeLimit,\n  avatarSizeLimit: mbToBytes(2),\n  fileTokenLimit: defaultTokenLimit,\n  clientImageResize: {\n    enabled: false,\n    maxWidth: 1900,\n    maxHeight: 1900,\n    quality: 0.92,\n  },\n  ocr: {\n    supportedMimeTypes: defaultOCRMimeTypes,\n  },\n  text: {\n    supportedMimeTypes: defaultTextMimeTypes,\n  },\n  stt: {\n    supportedMimeTypes: defaultSTTMimeTypes,\n  },\n  checkType: function (fileType: string, supportedTypes: RegExp[] = supportedMimeTypes) {\n    return supportedTypes.some((regex) => regex.test(fileType));\n  },\n};\n\nconst supportedMimeTypesSchema = z\n  .array(z.any())\n  .optional()\n  .refine(\n    (mimeTypes) => {\n      if (!mimeTypes) {\n        return true;\n      }\n      return mimeTypes.every(\n        (mimeType) => mimeType instanceof RegExp || typeof mimeType === 'string',\n      );\n    },\n    {\n      message: 'Each mimeType must be a string or a RegExp object.',\n    },\n  );\n\nexport const endpointFileConfigSchema = z.object({\n  disabled: z.boolean().optional(),\n  fileLimit: z.number().min(0).optional(),\n  fileSizeLimit: z.number().min(0).optional(),\n  totalSizeLimit: z.number().min(0).optional(),\n  supportedMimeTypes: supportedMimeTypesSchema.optional(),\n});\n\nexport const fileConfigSchema = z.object({\n  endpoints: z.record(endpointFileConfigSchema).optional(),\n  serverFileSizeLimit: z.number().min(0).optional(),\n  avatarSizeLimit: z.number().min(0).optional(),\n  fileTokenLimit: z.number().min(0).optional(),\n  imageGeneration: z\n    .object({\n      percentage: z.number().min(0).max(100).optional(),\n      px: z.number().min(0).optional(),\n    })\n    .optional(),\n  clientImageResize: z\n    .object({\n      enabled: z.boolean().optional(),\n      maxWidth: z.number().min(0).optional(),\n      maxHeight: z.number().min(0).optional(),\n      quality: z.number().min(0).max(1).optional(),\n    })\n    .optional(),\n  ocr: z\n    .object({\n      supportedMimeTypes: supportedMimeTypesSchema.optional(),\n    })\n    .optional(),\n  text: z\n    .object({\n      supportedMimeTypes: supportedMimeTypesSchema.optional(),\n    })\n    .optional(),\n});\n\nexport type TFileConfig = z.infer<typeof fileConfigSchema>;\n\n/** Helper function to safely convert string patterns to RegExp objects */\nexport const convertStringsToRegex = (patterns: string[]): RegExp[] =>\n  patterns.reduce((acc: RegExp[], pattern) => {\n    try {\n      const regex = new RegExp(pattern);\n      acc.push(regex);\n    } catch (error) {\n      console.error(`Invalid regex pattern \"${pattern}\" skipped.`, error);\n    }\n    return acc;\n  }, []);\n\n/**\n * Gets the appropriate endpoint file configuration with standardized lookup logic.\n *\n * @param params - Object containing fileConfig, endpoint, and optional conversationEndpoint\n * @param params.fileConfig - The merged file configuration\n * @param params.endpoint - The endpoint name to look up\n * @param params.conversationEndpoint - Optional conversation endpoint for additional context\n * @returns The endpoint file configuration or undefined\n */\n/**\n * Merges an endpoint config with the default config to ensure all fields are populated.\n * For document-supported providers, uses the comprehensive MIME type list (includes videos/audio).\n */\nfunction mergeWithDefault(\n  endpointConfig: EndpointFileConfig,\n  defaultConfig: EndpointFileConfig,\n  endpoint?: string | null,\n): EndpointFileConfig {\n  /** Use comprehensive MIME types for document-supported providers */\n  const defaultMimeTypes = isDocumentSupportedProvider(endpoint)\n    ? supportedMimeTypes\n    : defaultConfig.supportedMimeTypes;\n\n  return {\n    disabled: endpointConfig.disabled ?? defaultConfig.disabled,\n    fileLimit: endpointConfig.fileLimit ?? defaultConfig.fileLimit,\n    fileSizeLimit: endpointConfig.fileSizeLimit ?? defaultConfig.fileSizeLimit,\n    totalSizeLimit: endpointConfig.totalSizeLimit ?? defaultConfig.totalSizeLimit,\n    supportedMimeTypes: endpointConfig.supportedMimeTypes ?? defaultMimeTypes,\n  };\n}\n\nexport function getEndpointFileConfig(params: {\n  fileConfig?: FileConfig | null;\n  endpoint?: string | null;\n  endpointType?: string | null;\n}): EndpointFileConfig {\n  const { fileConfig: mergedFileConfig, endpoint, endpointType } = params;\n\n  if (!mergedFileConfig?.endpoints) {\n    return fileConfig.endpoints.default;\n  }\n\n  /** Compute an effective default by merging user-configured default over the base default */\n  const baseDefaultConfig = fileConfig.endpoints.default;\n  const userDefaultConfig = mergedFileConfig.endpoints.default;\n  const defaultConfig = userDefaultConfig\n    ? mergeWithDefault(userDefaultConfig, baseDefaultConfig, 'default')\n    : baseDefaultConfig;\n\n  const normalizedEndpoint = normalizeEndpointName(endpoint ?? '');\n  const standardEndpoints = new Set([\n    'default',\n    EModelEndpoint.agents,\n    EModelEndpoint.assistants,\n    EModelEndpoint.azureAssistants,\n    EModelEndpoint.openAI,\n    EModelEndpoint.azureOpenAI,\n    EModelEndpoint.anthropic,\n    EModelEndpoint.google,\n    EModelEndpoint.bedrock,\n  ]);\n\n  const normalizedEndpointType = normalizeEndpointName(endpointType ?? '');\n  const isCustomEndpoint =\n    endpointType === EModelEndpoint.custom ||\n    (!standardEndpoints.has(normalizedEndpointType) &&\n      normalizedEndpoint &&\n      !standardEndpoints.has(normalizedEndpoint));\n\n  if (isCustomEndpoint) {\n    /** 1. Check direct endpoint lookup (could be normalized or not) */\n    if (endpoint && mergedFileConfig.endpoints[endpoint]) {\n      return mergeWithDefault(mergedFileConfig.endpoints[endpoint], defaultConfig, endpoint);\n    }\n    /** 2. Check normalized endpoint lookup (skip standard endpoint keys) */\n    for (const key in mergedFileConfig.endpoints) {\n      if (!standardEndpoints.has(key) && normalizeEndpointName(key) === normalizedEndpoint) {\n        return mergeWithDefault(mergedFileConfig.endpoints[key], defaultConfig, key);\n      }\n    }\n    /** 3. Fallback to generic 'custom' config if any */\n    if (mergedFileConfig.endpoints[EModelEndpoint.custom]) {\n      return mergeWithDefault(\n        mergedFileConfig.endpoints[EModelEndpoint.custom],\n        defaultConfig,\n        endpoint,\n      );\n    }\n    /** 4. Fallback to 'agents' (all custom endpoints are non-assistants) */\n    if (mergedFileConfig.endpoints[EModelEndpoint.agents]) {\n      return mergeWithDefault(\n        mergedFileConfig.endpoints[EModelEndpoint.agents],\n        defaultConfig,\n        endpoint,\n      );\n    }\n    /** 5. Fallback to default */\n    return defaultConfig;\n  }\n\n  /** Check endpointType first (most reliable for standard endpoints) */\n  if (endpointType && mergedFileConfig.endpoints[endpointType]) {\n    return mergeWithDefault(mergedFileConfig.endpoints[endpointType], defaultConfig, endpointType);\n  }\n\n  /** Check direct endpoint lookup */\n  if (endpoint && mergedFileConfig.endpoints[endpoint]) {\n    return mergeWithDefault(mergedFileConfig.endpoints[endpoint], defaultConfig, endpoint);\n  }\n\n  /** Check normalized endpoint */\n  if (normalizedEndpoint && mergedFileConfig.endpoints[normalizedEndpoint]) {\n    return mergeWithDefault(\n      mergedFileConfig.endpoints[normalizedEndpoint],\n      defaultConfig,\n      normalizedEndpoint,\n    );\n  }\n\n  /** Fallback to agents if endpoint is explicitly agents */\n  const isAgents = isAgentsEndpoint(normalizedEndpointType || normalizedEndpoint);\n  if (isAgents && mergedFileConfig.endpoints[EModelEndpoint.agents]) {\n    return mergeWithDefault(\n      mergedFileConfig.endpoints[EModelEndpoint.agents],\n      defaultConfig,\n      EModelEndpoint.agents,\n    );\n  }\n\n  /** Return default config */\n  return defaultConfig;\n}\n\nexport function mergeFileConfig(dynamic: z.infer<typeof fileConfigSchema> | undefined): FileConfig {\n  const mergedConfig: FileConfig = {\n    ...fileConfig,\n    endpoints: {\n      ...fileConfig.endpoints,\n    },\n    ocr: {\n      ...fileConfig.ocr,\n      supportedMimeTypes: fileConfig.ocr?.supportedMimeTypes || [],\n    },\n    text: {\n      ...fileConfig.text,\n      supportedMimeTypes: fileConfig.text?.supportedMimeTypes || [],\n    },\n    stt: {\n      ...fileConfig.stt,\n      supportedMimeTypes: fileConfig.stt?.supportedMimeTypes || [],\n    },\n  };\n  if (!dynamic) {\n    return mergedConfig;\n  }\n\n  if (dynamic.serverFileSizeLimit !== undefined) {\n    mergedConfig.serverFileSizeLimit = mbToBytes(dynamic.serverFileSizeLimit);\n  }\n\n  if (dynamic.avatarSizeLimit !== undefined) {\n    mergedConfig.avatarSizeLimit = mbToBytes(dynamic.avatarSizeLimit);\n  }\n\n  if (dynamic.fileTokenLimit !== undefined) {\n    mergedConfig.fileTokenLimit = dynamic.fileTokenLimit;\n  }\n\n  // Merge clientImageResize configuration\n  if (dynamic.clientImageResize !== undefined) {\n    mergedConfig.clientImageResize = {\n      ...mergedConfig.clientImageResize,\n      ...dynamic.clientImageResize,\n    };\n  }\n\n  if (dynamic.ocr !== undefined) {\n    mergedConfig.ocr = {\n      ...mergedConfig.ocr,\n      ...dynamic.ocr,\n    };\n    if (dynamic.ocr.supportedMimeTypes) {\n      mergedConfig.ocr.supportedMimeTypes = convertStringsToRegex(dynamic.ocr.supportedMimeTypes);\n    }\n  }\n\n  if (dynamic.text !== undefined) {\n    mergedConfig.text = {\n      ...mergedConfig.text,\n      ...dynamic.text,\n    };\n    if (dynamic.text.supportedMimeTypes) {\n      mergedConfig.text.supportedMimeTypes = convertStringsToRegex(dynamic.text.supportedMimeTypes);\n    }\n  }\n\n  if (!dynamic.endpoints) {\n    return mergedConfig;\n  }\n\n  for (const key in dynamic.endpoints) {\n    const dynamicEndpoint = (dynamic.endpoints as Record<string, EndpointFileConfig>)[key];\n\n    /** Deep copy the base endpoint config if it exists to prevent mutation */\n    if (!mergedConfig.endpoints[key]) {\n      mergedConfig.endpoints[key] = {};\n    } else {\n      mergedConfig.endpoints[key] = { ...mergedConfig.endpoints[key] };\n    }\n\n    const mergedEndpoint = mergedConfig.endpoints[key];\n\n    if (dynamicEndpoint.disabled === true) {\n      mergedEndpoint.disabled = true;\n      mergedEndpoint.fileLimit = 0;\n      mergedEndpoint.fileSizeLimit = 0;\n      mergedEndpoint.totalSizeLimit = 0;\n      mergedEndpoint.supportedMimeTypes = [];\n      continue;\n    }\n\n    if (dynamicEndpoint.fileSizeLimit !== undefined) {\n      mergedEndpoint.fileSizeLimit = mbToBytes(dynamicEndpoint.fileSizeLimit);\n    }\n\n    if (dynamicEndpoint.totalSizeLimit !== undefined) {\n      mergedEndpoint.totalSizeLimit = mbToBytes(dynamicEndpoint.totalSizeLimit);\n    }\n\n    const configKeys = ['fileLimit'] as const;\n    configKeys.forEach((field) => {\n      if (dynamicEndpoint[field] !== undefined) {\n        mergedEndpoint[field] = dynamicEndpoint[field];\n      }\n    });\n\n    if (dynamicEndpoint.disabled !== undefined) {\n      mergedEndpoint.disabled = dynamicEndpoint.disabled;\n    }\n\n    if (dynamicEndpoint.supportedMimeTypes) {\n      mergedEndpoint.supportedMimeTypes = convertStringsToRegex(\n        dynamicEndpoint.supportedMimeTypes as unknown as string[],\n      );\n    }\n  }\n\n  return mergedConfig;\n}\n","import type { AssistantsEndpoint } from './schemas';\nimport * as q from './types/queries';\nimport { ResourceType } from './accessPermissions';\n\nlet BASE_URL = '';\n\n// Helper function to safely get Vite environment variable\nconst getViteApiBaseUrl = (): string => {\n  try {\n    // This will be replaced by Vite at build time if VITE_API_BASE_URL is set\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore - import.meta.env is injected by Vite at build time\n    if (typeof globalThis !== 'undefined' && globalThis.__VITE_API_BASE_URL__) {\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore\n      return globalThis.__VITE_API_BASE_URL__;\n    }\n  } catch {\n    // Ignore errors in non-Vite environments\n  }\n  return '';\n};\n\nconst envApiBaseUrl = getViteApiBaseUrl();\n\nif (envApiBaseUrl) {\n  // Use environment variable if set (for separate backend/frontend deployment)\n  BASE_URL = envApiBaseUrl;\n} else if (\n  typeof process === 'undefined' ||\n  (process as typeof process & { browser?: boolean }).browser === true\n) {\n  // process is only available in node context, or process.browser is true in client-side code\n  // This is to ensure that the BASE_URL is set correctly based on the <base>\n  // element in the HTML document, if it exists.\n  const baseEl = document.querySelector('base');\n  BASE_URL = baseEl?.getAttribute('href') || '/';\n}\n\nif (BASE_URL && BASE_URL.endsWith('/')) {\n  BASE_URL = BASE_URL.slice(0, -1);\n}\n\n// Function to set BASE_URL from outside (useful for runtime configuration)\nexport const setApiBaseUrl = (url: string) => {\n  BASE_URL = url.endsWith('/') ? url.slice(0, -1) : url;\n};\n\nexport const apiBaseUrl = () => BASE_URL;\n\n// Testing this buildQuery function\nconst buildQuery = (params: Record<string, unknown>): string => {\n  const query = Object.entries(params)\n    .filter(([, value]) => {\n      if (Array.isArray(value)) {\n        return value.length > 0;\n      }\n      return value !== undefined && value !== null && value !== '';\n    })\n    .map(([key, value]) => {\n      if (Array.isArray(value)) {\n        return value.map((v) => `${key}=${encodeURIComponent(v)}`).join('&');\n      }\n      return `${key}=${encodeURIComponent(String(value))}`;\n    })\n    .join('&');\n  return query ? `?${query}` : '';\n};\n\nexport const health = () => `${BASE_URL}/health`;\nexport const user = () => `${BASE_URL}/api/user`;\n\nexport const balance = () => `${BASE_URL}/api/balance`;\n\nexport const userPlugins = () => `${BASE_URL}/api/user/plugins`;\n\nexport const deleteUser = () => `${BASE_URL}/api/user/delete`;\n\nconst messagesRoot = `${BASE_URL}/api/messages`;\n\nexport const messages = (params: q.MessagesListParams) => {\n  const { conversationId, messageId, ...rest } = params;\n\n  if (conversationId && messageId) {\n    return `${messagesRoot}/${conversationId}/${messageId}`;\n  }\n\n  if (conversationId) {\n    return `${messagesRoot}/${conversationId}`;\n  }\n\n  return `${messagesRoot}${buildQuery(rest)}`;\n};\n\nexport const messagesArtifacts = (messageId: string) => `${messagesRoot}/artifact/${messageId}`;\n\nconst shareRoot = `${BASE_URL}/api/share`;\nexport const shareMessages = (shareId: string) => `${shareRoot}/${shareId}`;\nexport const getSharedLink = (conversationId: string) => `${shareRoot}/link/${conversationId}`;\nexport const getSharedLinks = (\n  pageSize: number,\n  isPublic: boolean,\n  sortBy: 'title' | 'createdAt',\n  sortDirection: 'asc' | 'desc',\n  search?: string,\n  cursor?: string,\n) =>\n  `${shareRoot}?pageSize=${pageSize}&isPublic=${isPublic}&sortBy=${sortBy}&sortDirection=${sortDirection}${\n    search ? `&search=${search}` : ''\n  }${cursor ? `&cursor=${cursor}` : ''}`;\nexport const createSharedLink = (conversationId: string) => `${shareRoot}/${conversationId}`;\nexport const updateSharedLink = (shareId: string) => `${shareRoot}/${shareId}`;\n\nconst keysEndpoint = `${BASE_URL}/api/keys`;\n\nexport const keys = () => keysEndpoint;\n\nexport const userKeyQuery = (name: string) => `${keysEndpoint}?name=${name}`;\n\nexport const revokeUserKey = (name: string) => `${keysEndpoint}/${name}`;\n\nexport const revokeAllUserKeys = () => `${keysEndpoint}?all=true`;\n\nexport const conversationsRoot = `${BASE_URL}/api/convos`;\n\nexport const conversations = (params: q.ConversationListParams) => {\n  return `${conversationsRoot}${buildQuery(params)}`;\n};\n\nexport const conversationById = (id: string) => `${conversationsRoot}/${id}`;\n\nexport const genTitle = () => `${conversationsRoot}/gen_title`;\n\nexport const updateConversation = () => `${conversationsRoot}/update`;\n\nexport const deleteConversation = () => `${conversationsRoot}`;\n\nexport const deleteAllConversation = () => `${conversationsRoot}/all`;\n\nexport const importConversation = () => `${conversationsRoot}/import`;\n\nexport const forkConversation = () => `${conversationsRoot}/fork`;\n\nexport const duplicateConversation = () => `${conversationsRoot}/duplicate`;\n\nexport const search = (q: string, cursor?: string | null) =>\n  `${BASE_URL}/api/search?q=${q}${cursor ? `&cursor=${cursor}` : ''}`;\n\nexport const searchEnabled = () => `${BASE_URL}/api/search/enable`;\n\nexport const presets = () => `${BASE_URL}/api/presets`;\n\nexport const deletePreset = () => `${BASE_URL}/api/presets/delete`;\n\nexport const aiEndpoints = () => `${BASE_URL}/api/endpoints`;\n\nexport const models = () => `${BASE_URL}/api/models`;\n\nexport const tokenizer = () => `${BASE_URL}/api/tokenizer`;\n\nexport const login = () => `${BASE_URL}/api/auth/login`;\n\nexport const logout = () => `${BASE_URL}/api/auth/logout`;\n\nexport const register = () => `${BASE_URL}/api/auth/register`;\n\nexport const loginFacebook = () => `${BASE_URL}/api/auth/facebook`;\n\nexport const loginGoogle = () => `${BASE_URL}/api/auth/google`;\n\nexport const refreshToken = (retry?: boolean) =>\n  `${BASE_URL}/api/auth/refresh${retry === true ? '?retry=true' : ''}`;\n\nexport const requestPasswordReset = () => `${BASE_URL}/api/auth/requestPasswordReset`;\n\nexport const resetPassword = () => `${BASE_URL}/api/auth/resetPassword`;\n\nexport const verifyEmail = () => `${BASE_URL}/api/user/verify`;\n\n// Auth page URLs (for client-side navigation and redirects)\nexport const loginPage = () => `${BASE_URL}/login`;\nexport const registerPage = () => `${BASE_URL}/register`;\n\nexport const resendVerificationEmail = () => `${BASE_URL}/api/user/verify/resend`;\n\nexport const plugins = () => `${BASE_URL}/api/plugins`;\n\nexport const mcpReinitialize = (serverName: string) =>\n  `${BASE_URL}/api/mcp/${serverName}/reinitialize`;\nexport const mcpConnectionStatus = () => `${BASE_URL}/api/mcp/connection/status`;\nexport const mcpServerConnectionStatus = (serverName: string) =>\n  `${BASE_URL}/api/mcp/connection/status/${serverName}`;\nexport const mcpAuthValues = (serverName: string) => {\n  return `${BASE_URL}/api/mcp/${serverName}/auth-values`;\n};\n\nexport const cancelMCPOAuth = (serverName: string) => {\n  return `${BASE_URL}/api/mcp/oauth/cancel/${serverName}`;\n};\n\nexport const config = () => `${BASE_URL}/api/config`;\n\nexport const prompts = () => `${BASE_URL}/api/prompts`;\n\nexport const addPromptToGroup = (groupId: string) =>\n  `${BASE_URL}/api/prompts/groups/${groupId}/prompts`;\n\nexport const assistants = ({\n  path = '',\n  options,\n  version,\n  endpoint,\n  isAvatar,\n}: {\n  path?: string;\n  options?: object;\n  endpoint?: AssistantsEndpoint;\n  version: number | string;\n  isAvatar?: boolean;\n}) => {\n  let url = isAvatar === true ? `${images()}/assistants` : `${BASE_URL}/api/assistants/v${version}`;\n\n  if (path && path !== '') {\n    url += `/${path}`;\n  }\n\n  if (endpoint) {\n    options = {\n      ...(options ?? {}),\n      endpoint,\n    };\n  }\n\n  if (options && Object.keys(options).length > 0) {\n    const queryParams = new URLSearchParams(options as Record<string, string>).toString();\n    url += `?${queryParams}`;\n  }\n\n  return url;\n};\n\nexport const agents = ({ path = '', options }: { path?: string; options?: object }) => {\n  let url = `${BASE_URL}/api/agents`;\n\n  if (path && path !== '') {\n    url += `/${path}`;\n  }\n\n  if (options && Object.keys(options).length > 0) {\n    const queryParams = new URLSearchParams(options as Record<string, string>).toString();\n    url += `?${queryParams}`;\n  }\n\n  return url;\n};\n\nexport const mcp = {\n  tools: `${BASE_URL}/api/mcp/tools`,\n  servers: `${BASE_URL}/api/mcp/servers`,\n};\n\nexport const mcpServer = (serverName: string) => `${BASE_URL}/api/mcp/servers/${serverName}`;\n\nexport const revertAgentVersion = (agent_id: string) => `${agents({ path: `${agent_id}/revert` })}`;\n\nexport const files = () => `${BASE_URL}/api/files`;\nexport const fileUpload = () => `${BASE_URL}/api/files`;\nexport const fileDelete = () => `${BASE_URL}/api/files`;\nexport const fileDownload = (userId: string, fileId: string) =>\n  `${BASE_URL}/api/files/download/${userId}/${fileId}`;\nexport const fileConfig = () => `${BASE_URL}/api/files/config`;\nexport const agentFiles = (agentId: string) => `${BASE_URL}/api/files/agent/${agentId}`;\n\nexport const images = () => `${files()}/images`;\n\nexport const avatar = () => `${images()}/avatar`;\n\nexport const speech = () => `${files()}/speech`;\n\nexport const speechToText = () => `${speech()}/stt`;\n\nexport const textToSpeech = () => `${speech()}/tts`;\n\nexport const textToSpeechManual = () => `${textToSpeech()}/manual`;\n\nexport const textToSpeechVoices = () => `${textToSpeech()}/voices`;\n\nexport const getCustomConfigSpeech = () => `${speech()}/config/get`;\n\nexport const getPromptGroup = (_id: string) => `${prompts()}/groups/${_id}`;\n\nexport const getPromptGroupsWithFilters = (filter: object) => {\n  let url = `${prompts()}/groups`;\n  // Filter out undefined/null values\n  const cleanedFilter = Object.entries(filter).reduce(\n    (acc, [key, value]) => {\n      if (value !== undefined && value !== null && value !== '') {\n        acc[key] = value;\n      }\n      return acc;\n    },\n    {} as Record<string, string>,\n  );\n\n  if (Object.keys(cleanedFilter).length > 0) {\n    const queryParams = new URLSearchParams(cleanedFilter).toString();\n    url += `?${queryParams}`;\n  }\n  return url;\n};\n\nexport const getPromptsWithFilters = (filter: object) => {\n  let url = prompts();\n  if (Object.keys(filter).length > 0) {\n    const queryParams = new URLSearchParams(filter as Record<string, string>).toString();\n    url += `?${queryParams}`;\n  }\n  return url;\n};\n\nexport const getPrompt = (_id: string) => `${prompts()}/${_id}`;\n\nexport const getRandomPrompts = (limit: number, skip: number) =>\n  `${prompts()}/random?limit=${limit}&skip=${skip}`;\n\nexport const postPrompt = prompts;\n\nexport const updatePromptGroup = getPromptGroup;\n\nexport const updatePromptLabels = (_id: string) => `${getPrompt(_id)}/labels`;\n\nexport const updatePromptTag = (_id: string) => `${getPrompt(_id)}/tags/production`;\n\nexport const deletePromptGroup = getPromptGroup;\n\nexport const deletePrompt = ({ _id, groupId }: { _id: string; groupId: string }) => {\n  return `${prompts()}/${_id}?groupId=${groupId}`;\n};\n\nexport const getCategories = () => `${BASE_URL}/api/categories`;\n\nexport const getAllPromptGroups = () => `${prompts()}/all`;\n\n/* Roles */\nexport const roles = () => `${BASE_URL}/api/roles`;\nexport const getRole = (roleName: string) => `${roles()}/${roleName.toLowerCase()}`;\nexport const updatePromptPermissions = (roleName: string) => `${getRole(roleName)}/prompts`;\nexport const updateMemoryPermissions = (roleName: string) => `${getRole(roleName)}/memories`;\nexport const updateAgentPermissions = (roleName: string) => `${getRole(roleName)}/agents`;\nexport const updatePeoplePickerPermissions = (roleName: string) =>\n  `${getRole(roleName)}/people-picker`;\nexport const updateMCPServersPermissions = (roleName: string) => `${getRole(roleName)}/mcp-servers`;\n\nexport const updateMarketplacePermissions = (roleName: string) =>\n  `${getRole(roleName)}/marketplace`;\n\n/* Conversation Tags */\nexport const conversationTags = (tag?: string) =>\n  `${BASE_URL}/api/tags${tag != null && tag ? `/${encodeURIComponent(tag)}` : ''}`;\n\nexport const conversationTagsList = (pageNumber: string, sort?: string, order?: string) =>\n  `${conversationTags()}/list?pageNumber=${pageNumber}${sort ? `&sort=${sort}` : ''}${\n    order ? `&order=${order}` : ''\n  }`;\n\nexport const addTagToConversation = (conversationId: string) =>\n  `${conversationTags()}/convo/${conversationId}`;\n\nexport const userTerms = () => `${BASE_URL}/api/user/terms`;\nexport const acceptUserTerms = () => `${BASE_URL}/api/user/terms/accept`;\nexport const banner = () => `${BASE_URL}/api/banner`;\n\n// Message Feedback\nexport const feedback = (conversationId: string, messageId: string) =>\n  `${BASE_URL}/api/messages/${conversationId}/${messageId}/feedback`;\n\n// Two-Factor Endpoints\nexport const enableTwoFactor = () => `${BASE_URL}/api/auth/2fa/enable`;\nexport const verifyTwoFactor = () => `${BASE_URL}/api/auth/2fa/verify`;\nexport const confirmTwoFactor = () => `${BASE_URL}/api/auth/2fa/confirm`;\nexport const disableTwoFactor = () => `${BASE_URL}/api/auth/2fa/disable`;\nexport const regenerateBackupCodes = () => `${BASE_URL}/api/auth/2fa/backup/regenerate`;\nexport const verifyTwoFactorTemp = () => `${BASE_URL}/api/auth/2fa/verify-temp`;\n\n/* Memories */\nexport const memories = () => `${BASE_URL}/api/memories`;\nexport const memory = (key: string) => `${memories()}/${encodeURIComponent(key)}`;\nexport const memoryPreferences = () => `${memories()}/preferences`;\n\nexport const searchPrincipals = (params: q.PrincipalSearchParams) => {\n  const { q: query, limit, types } = params;\n  let url = `${BASE_URL}/api/permissions/search-principals?q=${encodeURIComponent(query)}`;\n\n  if (limit !== undefined) {\n    url += `&limit=${limit}`;\n  }\n\n  if (types && types.length > 0) {\n    url += `&types=${types.join(',')}`;\n  }\n\n  return url;\n};\n\nexport const getAccessRoles = (resourceType: ResourceType) =>\n  `${BASE_URL}/api/permissions/${resourceType}/roles`;\n\nexport const getResourcePermissions = (resourceType: ResourceType, resourceId: string) =>\n  `${BASE_URL}/api/permissions/${resourceType}/${resourceId}`;\n\nexport const updateResourcePermissions = (resourceType: ResourceType, resourceId: string) =>\n  `${BASE_URL}/api/permissions/${resourceType}/${resourceId}`;\n\nexport const getEffectivePermissions = (resourceType: ResourceType, resourceId: string) =>\n  `${BASE_URL}/api/permissions/${resourceType}/${resourceId}/effective`;\n\nexport const getAllEffectivePermissions = (resourceType: ResourceType) =>\n  `${BASE_URL}/api/permissions/${resourceType}/effective/all`;\n\n// SharePoint Graph API Token\nexport const graphToken = (scopes: string) =>\n  `${BASE_URL}/api/auth/graph-token?scopes=${encodeURIComponent(scopes)}`;\n","import { EToolResources } from './assistants';\n\nexport enum FileSources {\n  local = 'local',\n  firebase = 'firebase',\n  azure = 'azure',\n  azure_blob = 'azure_blob',\n  openai = 'openai',\n  s3 = 's3',\n  vectordb = 'vectordb',\n  execute_code = 'execute_code',\n  mistral_ocr = 'mistral_ocr',\n  azure_mistral_ocr = 'azure_mistral_ocr',\n  vertexai_mistral_ocr = 'vertexai_mistral_ocr',\n  text = 'text',\n}\n\nexport const checkOpenAIStorage = (source: string) =>\n  source === FileSources.openai || source === FileSources.azure;\n\nexport enum FileContext {\n  avatar = 'avatar',\n  unknown = 'unknown',\n  agents = 'agents',\n  assistants = 'assistants',\n  execute_code = 'execute_code',\n  image_generation = 'image_generation',\n  assistants_output = 'assistants_output',\n  message_attachment = 'message_attachment',\n  filename = 'filename',\n  updatedAt = 'updatedAt',\n  source = 'source',\n  filterSource = 'filterSource',\n  context = 'context',\n  bytes = 'bytes',\n}\n\nexport type EndpointFileConfig = {\n  disabled?: boolean;\n  fileLimit?: number;\n  fileSizeLimit?: number;\n  totalSizeLimit?: number;\n  supportedMimeTypes?: RegExp[];\n};\n\nexport type FileConfig = {\n  endpoints: {\n    [key: string]: EndpointFileConfig;\n  };\n  fileTokenLimit?: number;\n  serverFileSizeLimit?: number;\n  avatarSizeLimit?: number;\n  clientImageResize?: {\n    enabled?: boolean;\n    maxWidth?: number;\n    maxHeight?: number;\n    quality?: number;\n  };\n  ocr?: {\n    supportedMimeTypes?: RegExp[];\n  };\n  text?: {\n    supportedMimeTypes?: RegExp[];\n  };\n  stt?: {\n    supportedMimeTypes?: RegExp[];\n  };\n  checkType?: (fileType: string, supportedTypes: RegExp[]) => boolean;\n};\n\nexport type FileConfigInput = {\n  endpoints?: {\n    [key: string]: EndpointFileConfig;\n  };\n  serverFileSizeLimit?: number;\n  avatarSizeLimit?: number;\n  clientImageResize?: {\n    enabled?: boolean;\n    maxWidth?: number;\n    maxHeight?: number;\n    quality?: number;\n  };\n  ocr?: {\n    supportedMimeTypes?: string[];\n  };\n  text?: {\n    supportedMimeTypes?: string[];\n  };\n  stt?: {\n    supportedMimeTypes?: string[];\n  };\n  checkType?: (fileType: string, supportedTypes: RegExp[]) => boolean;\n};\n\nexport type TFile = {\n  _id?: string;\n  __v?: number;\n  user: string;\n  conversationId?: string;\n  message?: string;\n  file_id: string;\n  temp_file_id?: string;\n  bytes: number;\n  embedded: boolean;\n  filename: string;\n  filepath: string;\n  object: 'file';\n  type: string;\n  usage: number;\n  context?: FileContext;\n  source?: FileSources;\n  filterSource?: FileSources;\n  width?: number;\n  height?: number;\n  expiresAt?: string | Date;\n  preview?: string;\n  metadata?: { fileIdentifier?: string };\n  createdAt?: string | Date;\n  updatedAt?: string | Date;\n};\n\nexport type TFileUpload = TFile & {\n  temp_file_id: string;\n};\n\nexport type AvatarUploadResponse = {\n  url: string;\n};\n\nexport type SpeechToTextResponse = {\n  text: string;\n};\n\nexport type VoiceResponse = string[];\n\nexport type UploadMutationOptions = {\n  onSuccess?: (data: TFileUpload, variables: FormData, context?: unknown) => void;\n  onMutate?: (variables: FormData) => void | Promise<unknown>;\n  onError?: (error: unknown, variables: FormData, context?: unknown) => void;\n};\n\nexport type UploadAvatarOptions = {\n  onSuccess?: (data: AvatarUploadResponse, variables: FormData, context?: unknown) => void;\n  onMutate?: (variables: FormData) => void | Promise<unknown>;\n  onError?: (error: unknown, variables: FormData, context?: unknown) => void;\n};\n\nexport type SpeechToTextOptions = {\n  onSuccess?: (data: SpeechToTextResponse, variables: FormData, context?: unknown) => void;\n  onMutate?: (variables: FormData) => void | Promise<unknown>;\n  onError?: (error: unknown, variables: FormData, context?: unknown) => void;\n};\n\nexport type TextToSpeechOptions = {\n  onSuccess?: (data: ArrayBuffer, variables: FormData, context?: unknown) => void;\n  onMutate?: (variables: FormData) => void | Promise<unknown>;\n  onError?: (error: unknown, variables: FormData, context?: unknown) => void;\n};\n\nexport type VoiceOptions = {\n  onSuccess?: (data: VoiceResponse, variables: unknown, context?: unknown) => void;\n  onMutate?: () => void | Promise<unknown>;\n  onError?: (error: unknown, variables: unknown, context?: unknown) => void;\n};\n\nexport type DeleteFilesResponse = {\n  message: string;\n  result: Record<string, unknown>;\n};\n\nexport type BatchFile = {\n  file_id: string;\n  filepath: string;\n  embedded: boolean;\n  source: FileSources;\n  temp_file_id?: string;\n};\n\nexport type DeleteFilesBody = {\n  files: BatchFile[];\n  agent_id?: string;\n  assistant_id?: string;\n  tool_resource?: EToolResources;\n};\n\nexport type DeleteMutationOptions = {\n  onSuccess?: (data: DeleteFilesResponse, variables: DeleteFilesBody, context?: unknown) => void;\n  onMutate?: (variables: DeleteFilesBody) => void | Promise<unknown>;\n  onError?: (error: unknown, variables: DeleteFilesBody, context?: unknown) => void;\n};\n","/* eslint-disable @typescript-eslint/no-namespace */\nimport { StepTypes, ContentTypes, ToolCallTypes } from './runs';\nimport type { TAttachment, TPlugin } from 'src/schemas';\nimport type { FunctionToolCall } from './assistants';\n\nexport namespace Agents {\n  export type MessageType = 'human' | 'ai' | 'generic' | 'system' | 'function' | 'tool' | 'remove';\n\n  export type ImageDetail = 'auto' | 'low' | 'high';\n\n  export type ReasoningContentText = {\n    type: ContentTypes.THINK;\n    think: string;\n  };\n\n  export type MessageContentText = {\n    type: ContentTypes.TEXT;\n    text: string;\n    tool_call_ids?: string[];\n  };\n\n  export type AgentUpdate = {\n    type: ContentTypes.AGENT_UPDATE;\n    agent_update: {\n      index: number;\n      runId: string;\n      agentId: string;\n    };\n  };\n\n  export type MessageContentImageUrl = {\n    type: ContentTypes.IMAGE_URL;\n    image_url: string | { url: string; detail?: ImageDetail };\n  };\n\n  export type MessageContentComplex =\n    | ReasoningContentText\n    | AgentUpdate\n    | MessageContentText\n    | MessageContentImageUrl\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    | (Record<string, any> & { type?: ContentTypes | string })\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    | (Record<string, any> & { type?: never });\n\n  export type MessageContent = string | MessageContentComplex[];\n\n  /**\n   * A call to a tool.\n   */\n  export type ToolCall = {\n    /** Type (\"tool_call\") according to Assistants Tool Call Structure */\n    type: ToolCallTypes.TOOL_CALL;\n    /** The name of the tool to be called */\n    name: string;\n\n    /** The arguments to the tool call */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    args?: string | Record<string, any>;\n\n    /** If provided, an identifier associated with the tool call */\n    id?: string;\n    /** If provided, the output of the tool call */\n    output?: string;\n    /** Auth URL */\n    auth?: string;\n    /** Expiration time */\n    expires_at?: number;\n  };\n\n  export type ToolEndEvent = {\n    /** The Step Id of the Tool Call */\n    id: string;\n    /** The Completed Tool Call */\n    tool_call?: ToolCall;\n    /** The content index of the tool call */\n    index: number;\n  };\n\n  export type ToolCallContent = {\n    type: ContentTypes.TOOL_CALL;\n    tool_call?: ToolCall;\n  };\n\n  /**\n   * A chunk of a tool call (e.g., as part of a stream).\n   * When merging ToolCallChunks (e.g., via AIMessageChunk.__add__),\n   * all string attributes are concatenated. Chunks are only merged if their\n   * values of `index` are equal and not None.\n   *\n   * @example\n   * ```ts\n   * const leftChunks = [\n   *   {\n   *     name: \"foo\",\n   *     args: '{\"a\":',\n   *     index: 0\n   *   }\n   * ];\n   *\n   * const leftAIMessageChunk = new AIMessageChunk({\n   *   content: \"\",\n   *   tool_call_chunks: leftChunks\n   * });\n   *\n   * const rightChunks = [\n   *   {\n   *     name: undefined,\n   *     args: '1}',\n   *     index: 0\n   *   }\n   * ];\n   *\n   * const rightAIMessageChunk = new AIMessageChunk({\n   *   content: \"\",\n   *   tool_call_chunks: rightChunks\n   * });\n   *\n   * const result = leftAIMessageChunk.concat(rightAIMessageChunk);\n   * // result.tool_call_chunks is equal to:\n   * // [\n   * //   {\n   * //     name: \"foo\",\n   * //     args: '{\"a\":1}'\n   * //     index: 0\n   * //   }\n   * // ]\n   * ```\n   *\n   * @property {string} [name] - If provided, a substring of the name of the tool to be called\n   * @property {string} [args] - If provided, a JSON substring of the arguments to the tool call\n   * @property {string} [id] - If provided, a substring of an identifier for the tool call\n   * @property {number} [index] - If provided, the index of the tool call in a sequence\n   */\n  export type ToolCallChunk = {\n    name?: string;\n\n    args?: string;\n\n    id?: string;\n\n    index?: number;\n\n    type?: 'tool_call_chunk';\n  };\n\n  /** Event names are of the format: on_[runnable_type]_(start|stream|end).\n\n  Runnable types are one of:\n\n  llm - used by non chat models\n  chat_model - used by chat models\n  prompt -- e.g., ChatPromptTemplate\n  tool -- LangChain tools\n  chain - most Runnables are of this type\n  Further, the events are categorized as one of:\n\n  start - when the runnable starts\n  stream - when the runnable is streaming\n  end - when the runnable ends\n  start, stream and end are associated with slightly different data payload.\n\n  Please see the documentation for EventData for more details. */\n  export type EventName = string;\n  export type RunStep = {\n    type: StepTypes;\n    id: string; // #new\n    runId?: string; // #new\n    index: number; // #new\n    stepIndex?: number; // #new\n    stepDetails: StepDetails;\n    usage: null | object;\n  };\n  /**\n   * Represents a run step delta i.e. any changed fields on a run step during\n   * streaming.\n   */\n  export interface RunStepDeltaEvent {\n    /**\n     * The identifier of the run step, which can be referenced in API endpoints.\n     */\n    id: string;\n    /**\n     * The delta containing the fields that have changed on the run step.\n     */\n    delta: ToolCallDelta;\n  }\n  export type StepDetails = MessageCreationDetails | ToolCallsDetails;\n  export type MessageCreationDetails = {\n    type: StepTypes.MESSAGE_CREATION;\n    message_creation: {\n      message_id: string;\n    };\n  };\n  export type ToolCallsDetails = {\n    type: StepTypes.TOOL_CALLS;\n    tool_calls: AgentToolCall[];\n  };\n  export type ToolCallDelta = {\n    type: StepTypes.TOOL_CALLS | string;\n    tool_calls?: ToolCallChunk[];\n    auth?: string;\n    expires_at?: number;\n  };\n  export type AgentToolCall = FunctionToolCall | ToolCall;\n  export interface ExtendedMessageContent {\n    type?: string;\n    text?: string;\n    input?: string;\n    index?: number;\n    id?: string;\n    name?: string;\n  }\n  /**\n   * Represents a message delta i.e. any changed fields on a message during\n   * streaming.\n   */\n  export interface MessageDeltaEvent {\n    /**\n     * The identifier of the message, which can be referenced in API endpoints.\n     */\n    id: string;\n    /**\n     * The delta containing the fields that have changed on the Message.\n     */\n    delta: MessageDelta;\n  }\n  /**\n   * The delta containing the fields that have changed on the Message.\n   */\n  export interface MessageDelta {\n    /**\n     * The content of the message in array of text and/or images.\n     */\n    content?: Agents.MessageContentComplex[];\n  }\n\n  /**\n   * Represents a reasoning delta i.e. any changed fields on a message during\n   * streaming.\n   */\n  export interface ReasoningDeltaEvent {\n    /**\n     * The identifier of the message, which can be referenced in API endpoints.\n     */\n    id: string;\n\n    /**\n     * The delta containing the fields that have changed.\n     */\n    delta: ReasoningDelta;\n  }\n\n  /**\n   * The reasoning delta containing the fields that have changed on the Message.\n   */\n  export interface ReasoningDelta {\n    /**\n     * The content of the message in array of text and/or images.\n     */\n    content?: MessageContentComplex[];\n  }\n\n  export type ReasoningDeltaUpdate = { type: ContentTypes.THINK; think: string };\n  export type ContentType =\n    | ContentTypes.THINK\n    | ContentTypes.TEXT\n    | ContentTypes.IMAGE_URL\n    | string;\n}\n\nexport type ToolCallResult = {\n  user: string;\n  toolId: string;\n  result?: unknown;\n  messageId: string;\n  partIndex?: number;\n  blockIndex?: number;\n  conversationId: string;\n  attachments?: TAttachment[];\n};\n\nexport enum AuthTypeEnum {\n  ServiceHttp = 'service_http',\n  OAuth = 'oauth',\n  None = 'none',\n}\n\nexport enum AuthorizationTypeEnum {\n  Bearer = 'bearer',\n  Basic = 'basic',\n  Custom = 'custom',\n}\n\nexport enum TokenExchangeMethodEnum {\n  DefaultPost = 'default_post',\n  BasicAuthHeader = 'basic_auth_header',\n}\n\nexport type Action = {\n  action_id: string;\n  type?: string;\n  settings?: Record<string, unknown>;\n  metadata: ActionMetadata;\n  version: number | string;\n} & ({ assistant_id: string; agent_id?: never } | { assistant_id?: never; agent_id: string });\n\nexport type ActionMetadata = {\n  api_key?: string;\n  auth?: ActionAuth;\n  domain?: string;\n  privacy_policy_url?: string;\n  raw_spec?: string;\n  oauth_client_id?: string;\n  oauth_client_secret?: string;\n};\n\nexport type ActionAuth = {\n  authorization_type?: AuthorizationTypeEnum;\n  custom_auth_header?: string;\n  type?: AuthTypeEnum;\n  authorization_content_type?: string;\n  authorization_url?: string;\n  client_url?: string;\n  scope?: string;\n  token_exchange_method?: TokenExchangeMethodEnum;\n};\n\nexport type ActionMetadataRuntime = ActionMetadata & {\n  oauth_access_token?: string;\n  oauth_refresh_token?: string;\n  oauth_token_expires_at?: Date;\n};\n\nexport type MCP = {\n  serverName: string;\n  metadata: MCPMetadata;\n} & ({ assistant_id: string; agent_id?: never } | { assistant_id?: never; agent_id?: string });\n\nexport type MCPMetadata = Omit<ActionMetadata, 'auth'> & {\n  name?: string;\n  description?: string;\n  url?: string;\n  tools?: string[];\n  auth?: MCPAuth;\n  icon?: string;\n  trust?: boolean;\n};\n\nexport type MCPAuth = ActionAuth;\n\nexport type AgentToolType = {\n  tool_id: string;\n  metadata: ToolMetadata;\n} & ({ assistant_id: string; agent_id?: never } | { assistant_id?: never; agent_id?: string });\n\nexport type ToolMetadata = TPlugin;\n\nexport interface BaseMessage {\n  content: string;\n  role?: string;\n  [key: string]: unknown;\n}\n\nexport interface BaseGraphState {\n  [key: string]: unknown;\n}\n\nexport type GraphEdge = {\n  /** Agent ID, use a list for multiple sources */\n  from: string | string[];\n  /** Agent ID, use a list for multiple destinations */\n  to: string | string[];\n  description?: string;\n  /** Can return boolean or specific destination(s) */\n  condition?: (state: BaseGraphState) => boolean | string | string[];\n  /** 'handoff' creates tools for dynamic routing, 'direct' creates direct edges, which also allow parallel execution */\n  edgeType?: 'handoff' | 'direct';\n  /**\n   * For direct edges: Optional prompt to add when transitioning through this edge.\n   * String prompts can include variables like {results} which will be replaced with\n   * messages from startIndex onwards. When {results} is used, excludeResults defaults to true.\n   *\n   * For handoff edges: Description for the input parameter that the handoff tool accepts,\n   * allowing the supervisor to pass specific instructions/context to the transferred agent.\n   */\n  prompt?: string | ((messages: BaseMessage[], runStartIndex: number) => string | undefined);\n  /**\n   * When true, excludes messages from startIndex when adding prompt.\n   * Automatically set to true when {results} variable is used in prompt.\n   */\n  excludeResults?: boolean;\n  /**\n   * For handoff edges: Customizes the parameter name for the handoff input.\n   * Defaults to \"instructions\" if not specified.\n   * Only applies when prompt is provided for handoff edges.\n   */\n  promptKey?: string;\n};\n","import { z } from 'zod';\nimport { TokenExchangeMethodEnum } from './types/agents';\nimport { extractEnvVariable } from './utils';\n\nconst BaseOptionsSchema = z.object({\n  /** Display name for the MCP server - only letters, numbers, and spaces allowed */\n  title: z\n    .string()\n    .regex(/^[a-zA-Z0-9 ]+$/, 'Title can only contain letters, numbers, and spaces')\n    .optional(),\n  /** Description of the MCP server */\n  description: z.string().optional(),\n  /**\n   * Controls whether the MCP server is initialized during application startup.\n   * - true (default): Server is initialized during app startup and included in app-level connections\n   * - false: Skips initialization at startup and excludes from app-level connections - useful for servers\n   *   requiring manual authentication (e.g., GitHub PAT tokens) that need to be configured through the UI after startup\n   */\n  startup: z.boolean().optional(),\n  iconPath: z.string().optional(),\n  timeout: z.number().optional(),\n  initTimeout: z.number().optional(),\n  /** Controls visibility in chat dropdown menu (MCPSelect) */\n  chatMenu: z.boolean().optional(),\n  /**\n   * Controls server instruction behavior:\n   * - undefined/not set: No instructions included (default)\n   * - true: Use server-provided instructions\n   * - string: Use custom instructions (overrides server-provided)\n   */\n  serverInstructions: z.union([z.boolean(), z.string()]).optional(),\n  /**\n   * Whether this server requires OAuth authentication\n   * If not specified, will be auto-detected during construction\n   */\n  requiresOAuth: z.boolean().optional(),\n  /**\n   * OAuth configuration for SSE and Streamable HTTP transports\n   * - Optional: OAuth can be auto-discovered on 401 responses\n   * - Pre-configured values will skip discovery steps\n   */\n  oauth: z\n    .object({\n      /** OAuth authorization endpoint (optional - can be auto-discovered) */\n      authorization_url: z.string().url().optional(),\n      /** OAuth token endpoint (optional - can be auto-discovered) */\n      token_url: z.string().url().optional(),\n      /** OAuth client ID (optional - can use dynamic registration) */\n      client_id: z.string().optional(),\n      /** OAuth client secret (optional - can use dynamic registration) */\n      client_secret: z.string().optional(),\n      /** OAuth scopes to request */\n      scope: z.string().optional(),\n      /** OAuth redirect URI (defaults to /api/mcp/{serverName}/oauth/callback) */\n      redirect_uri: z.string().url().optional(),\n      /** Token exchange method */\n      token_exchange_method: z.nativeEnum(TokenExchangeMethodEnum).optional(),\n      /** Supported grant types (defaults to ['authorization_code', 'refresh_token']) */\n      grant_types_supported: z.array(z.string()).optional(),\n      /** Supported token endpoint authentication methods (defaults to ['client_secret_basic', 'client_secret_post']) */\n      token_endpoint_auth_methods_supported: z.array(z.string()).optional(),\n      /** Supported response types (defaults to ['code']) */\n      response_types_supported: z.array(z.string()).optional(),\n      /** Supported code challenge methods (defaults to ['S256', 'plain']) */\n      code_challenge_methods_supported: z.array(z.string()).optional(),\n      /** Skip code challenge validation and force S256 (useful for providers like AWS Cognito that support S256 but don't advertise it) */\n      skip_code_challenge_check: z.boolean().optional(),\n      /** OAuth revocation endpoint (optional - can be auto-discovered) */\n      revocation_endpoint: z.string().url().optional(),\n      /** OAuth revocation endpoint authentication methods supported (optional - can be auto-discovered) */\n      revocation_endpoint_auth_methods_supported: z.array(z.string()).optional(),\n    })\n    .optional(),\n  /** Custom headers to send with OAuth requests (registration, discovery, token exchange, etc.) */\n  oauth_headers: z.record(z.string(), z.string()).optional(),\n  /**\n   * API Key authentication configuration for SSE and Streamable HTTP transports\n   * - source: 'admin' means the key is provided by admin and shared by all users\n   * - source: 'user' means each user provides their own key via customUserVars\n   */\n  apiKey: z\n    .object({\n      /** API key value (only for admin-provided mode, stored encrypted) */\n      key: z.string().optional(),\n      /** Whether key is provided by admin or each user */\n      source: z.enum(['admin', 'user']),\n      /** How to format the authorization header */\n      authorization_type: z.enum(['basic', 'bearer', 'custom']),\n      /** Custom header name when authorization_type is 'custom' */\n      custom_header: z.string().optional(),\n    })\n    .optional(),\n  customUserVars: z\n    .record(\n      z.string(),\n      z.object({\n        title: z.string(),\n        description: z.string(),\n      }),\n    )\n    .optional(),\n});\n\nexport const StdioOptionsSchema = BaseOptionsSchema.extend({\n  type: z.literal('stdio').optional(),\n  /**\n   * The executable to run to start the server.\n   */\n  command: z.string(),\n  /**\n   * Command line arguments to pass to the executable.\n   */\n  args: z.array(z.string()),\n  /**\n   * The environment to use when spawning the process.\n   *\n   * If not specified, the result of getDefaultEnvironment() will be used.\n   * Environment variables can be referenced using ${VAR_NAME} syntax.\n   */\n  env: z\n    .record(z.string(), z.string())\n    .optional()\n    .transform((env) => {\n      if (!env) {\n        return env;\n      }\n\n      const processedEnv: Record<string, string> = {};\n      for (const [key, value] of Object.entries(env)) {\n        processedEnv[key] = extractEnvVariable(value);\n      }\n      return processedEnv;\n    }),\n  /**\n   * How to handle stderr of the child process. This matches the semantics of Node's `child_process.spawn`.\n   *\n   * @type {import('node:child_process').IOType | import('node:stream').Stream | number}\n   *\n   * The default is \"inherit\", meaning messages to stderr will be printed to the parent process's stderr.\n   */\n  stderr: z.any().optional(),\n});\n\nexport const WebSocketOptionsSchema = BaseOptionsSchema.extend({\n  type: z.literal('websocket').optional(),\n  url: z\n    .string()\n    .transform((val: string) => extractEnvVariable(val))\n    .pipe(z.string().url())\n    .refine(\n      (val: string) => {\n        const protocol = new URL(val).protocol;\n        return protocol === 'ws:' || protocol === 'wss:';\n      },\n      {\n        message: 'WebSocket URL must start with ws:// or wss://',\n      },\n    ),\n});\n\nexport const SSEOptionsSchema = BaseOptionsSchema.extend({\n  type: z.literal('sse').optional(),\n  headers: z.record(z.string(), z.string()).optional(),\n  url: z\n    .string()\n    .transform((val: string) => extractEnvVariable(val))\n    .pipe(z.string().url())\n    .refine(\n      (val: string) => {\n        const protocol = new URL(val).protocol;\n        return protocol !== 'ws:' && protocol !== 'wss:';\n      },\n      {\n        message: 'SSE URL must not start with ws:// or wss://',\n      },\n    ),\n});\n\nexport const StreamableHTTPOptionsSchema = BaseOptionsSchema.extend({\n  type: z.union([z.literal('streamable-http'), z.literal('http')]),\n  headers: z.record(z.string(), z.string()).optional(),\n  url: z\n    .string()\n    .transform((val: string) => extractEnvVariable(val))\n    .pipe(z.string().url())\n    .refine(\n      (val: string) => {\n        const protocol = new URL(val).protocol;\n        return protocol !== 'ws:' && protocol !== 'wss:';\n      },\n      {\n        message: 'Streamable HTTP URL must not start with ws:// or wss://',\n      },\n    ),\n});\n\nexport const MCPOptionsSchema = z.union([\n  StdioOptionsSchema,\n  WebSocketOptionsSchema,\n  SSEOptionsSchema,\n  StreamableHTTPOptionsSchema,\n]);\n\nexport const MCPServersSchema = z.record(z.string(), MCPOptionsSchema);\n\nexport type MCPOptions = z.infer<typeof MCPOptionsSchema>;\n\n/**\n * Helper to omit server-managed fields that should not come from UI\n */\nconst omitServerManagedFields = <T extends z.ZodObject<z.ZodRawShape>>(schema: T) =>\n  schema.omit({\n    startup: true,\n    timeout: true,\n    initTimeout: true,\n    chatMenu: true,\n    serverInstructions: true,\n    requiresOAuth: true,\n    customUserVars: true,\n    oauth_headers: true,\n  });\n\n/**\n * MCP Server configuration that comes from UI input only\n * Omits server-managed fields like startup, timeout, customUserVars, etc.\n * Allows: title, description, url, iconPath, oauth (user credentials)\n */\nexport const MCPServerUserInputSchema = z.union([\n  omitServerManagedFields(StdioOptionsSchema),\n  omitServerManagedFields(WebSocketOptionsSchema),\n  omitServerManagedFields(SSEOptionsSchema),\n  omitServerManagedFields(StreamableHTTPOptionsSchema),\n]);\n\nexport type MCPServerUserInput = z.infer<typeof MCPServerUserInputSchema>;\n","import { z } from 'zod';\nimport type { ZodError } from 'zod';\nimport type { TEndpointsConfig, TModelsConfig, TConfig } from './types';\nimport { EModelEndpoint, eModelEndpointSchema } from './schemas';\nimport { specsConfigSchema, TSpecsConfig } from './models';\nimport { fileConfigSchema } from './file-config';\nimport { apiBaseUrl } from './api-endpoints';\nimport { FileSources } from './types/files';\nimport { MCPServersSchema } from './mcp';\n\nexport const defaultSocialLogins = ['google', 'facebook', 'openid', 'github', 'discord', 'saml'];\n\nexport const defaultRetrievalModels = [\n  'gpt-4o',\n  'o1-preview-2024-09-12',\n  'o1-preview',\n  'o1-mini-2024-09-12',\n  'o1-mini',\n  'o3-mini',\n  'chatgpt-4o-latest',\n  'gpt-4o-2024-05-13',\n  'gpt-4o-2024-08-06',\n  'gpt-4o-mini',\n  'gpt-4o-mini-2024-07-18',\n  'gpt-4-turbo-preview',\n  'gpt-3.5-turbo-0125',\n  'gpt-4-0125-preview',\n  'gpt-4-1106-preview',\n  'gpt-3.5-turbo-1106',\n  'gpt-3.5-turbo-0125',\n  'gpt-4-turbo',\n  'gpt-4-0125',\n  'gpt-4-1106',\n];\n\nexport const excludedKeys = new Set([\n  'conversationId',\n  'title',\n  'iconURL',\n  'greeting',\n  'endpoint',\n  'endpointType',\n  'createdAt',\n  'updatedAt',\n  'expiredAt',\n  'messages',\n  'isArchived',\n  'tags',\n  'user',\n  '__v',\n  '_id',\n  'tools',\n  'model',\n  'files',\n  'spec',\n  'disableParams',\n]);\n\nexport enum SettingsViews {\n  default = 'default',\n  advanced = 'advanced',\n}\n\nexport const fileSourceSchema = z.nativeEnum(FileSources);\n\nexport const fileStrategiesSchema = z\n  .object({\n    default: fileSourceSchema.optional(),\n    avatar: fileSourceSchema.optional(),\n    image: fileSourceSchema.optional(),\n    document: fileSourceSchema.optional(),\n  })\n  .optional();\n\n// Helper type to extract the shape of the Zod object schema\ntype SchemaShape<T> = T extends z.ZodObject<infer U> ? U : never;\n\n// Helper type to determine the default value or undefined based on whether the field has a default\ntype DefaultValue<T> =\n  T extends z.ZodDefault<z.ZodTypeAny> ? ReturnType<T['_def']['defaultValue']> : undefined;\n\n// Extract default values or undefined from the schema shape\ntype ExtractDefaults<T> = {\n  [P in keyof T]: DefaultValue<T[P]>;\n};\n\nexport type SchemaDefaults<T> = ExtractDefaults<SchemaShape<T>>;\n\nexport type TConfigDefaults = SchemaDefaults<typeof configSchema>;\n\nexport function getSchemaDefaults<Schema extends z.AnyZodObject>(\n  schema: Schema,\n): ExtractDefaults<SchemaShape<Schema>> {\n  const shape = schema.shape;\n  const entries = Object.entries(shape).map(([key, value]) => {\n    if (value instanceof z.ZodDefault) {\n      // Extract default value if it exists\n      return [key, value._def.defaultValue()];\n    }\n    return [key, undefined];\n  });\n\n  // Create the object with the right types\n  return Object.fromEntries(entries) as ExtractDefaults<SchemaShape<Schema>>;\n}\n\nexport const modelConfigSchema = z\n  .object({\n    deploymentName: z.string().optional(),\n    version: z.string().optional(),\n    assistants: z.boolean().optional(),\n  })\n  .or(z.boolean());\n\nexport type TAzureModelConfig = z.infer<typeof modelConfigSchema>;\n\nexport const azureBaseSchema = z.object({\n  apiKey: z.string(),\n  serverless: z.boolean().optional(),\n  instanceName: z.string().optional(),\n  deploymentName: z.string().optional(),\n  assistants: z.boolean().optional(),\n  addParams: z.record(z.any()).optional(),\n  dropParams: z.array(z.string()).optional(),\n  forcePrompt: z.boolean().optional(),\n  version: z.string().optional(),\n  baseURL: z.string().optional(),\n  additionalHeaders: z.record(z.any()).optional(),\n});\n\nexport type TAzureBaseSchema = z.infer<typeof azureBaseSchema>;\n\nexport const azureGroupSchema = z\n  .object({\n    group: z.string(),\n    models: z.record(z.string(), modelConfigSchema),\n  })\n  .required()\n  .and(azureBaseSchema);\n\nexport const azureGroupConfigsSchema = z.array(azureGroupSchema).min(1);\nexport type TAzureGroup = z.infer<typeof azureGroupSchema>;\nexport type TAzureGroups = z.infer<typeof azureGroupConfigsSchema>;\nexport type TAzureModelMapSchema = {\n  // deploymentName?: string;\n  // version?: string;\n  group: string;\n};\n\nexport type TAzureModelGroupMap = Record<string, TAzureModelMapSchema | undefined>;\nexport type TAzureGroupMap = Record<\n  string,\n  (TAzureBaseSchema & { models: Record<string, TAzureModelConfig | undefined> }) | undefined\n>;\n\nexport type TValidatedAzureConfig = {\n  modelNames: string[];\n  groupMap: TAzureGroupMap;\n  assistantModels?: string[];\n  assistantGroups?: string[];\n  modelGroupMap: TAzureModelGroupMap;\n};\n\nexport type TAzureConfigValidationResult = TValidatedAzureConfig & {\n  isValid: boolean;\n  errors: (ZodError | string)[];\n};\n\nexport enum Capabilities {\n  code_interpreter = 'code_interpreter',\n  image_vision = 'image_vision',\n  retrieval = 'retrieval',\n  actions = 'actions',\n  tools = 'tools',\n}\n\nexport enum AgentCapabilities {\n  hide_sequential_outputs = 'hide_sequential_outputs',\n  end_after_tools = 'end_after_tools',\n  execute_code = 'execute_code',\n  file_search = 'file_search',\n  web_search = 'web_search',\n  artifacts = 'artifacts',\n  actions = 'actions',\n  context = 'context',\n  tools = 'tools',\n  chain = 'chain',\n  ocr = 'ocr',\n}\n\nexport const defaultAssistantsVersion = {\n  [EModelEndpoint.assistants]: 2,\n  [EModelEndpoint.azureAssistants]: 1,\n};\n\nexport const baseEndpointSchema = z.object({\n  streamRate: z.number().optional(),\n  baseURL: z.string().optional(),\n  titlePrompt: z.string().optional(),\n  titleModel: z.string().optional(),\n  titleConvo: z.boolean().optional(),\n  titleMethod: z\n    .union([z.literal('completion'), z.literal('functions'), z.literal('structured')])\n    .optional(),\n  titleEndpoint: z.string().optional(),\n  titlePromptTemplate: z.string().optional(),\n});\n\nexport type TBaseEndpoint = z.infer<typeof baseEndpointSchema>;\n\nexport const bedrockEndpointSchema = baseEndpointSchema.merge(\n  z.object({\n    availableRegions: z.array(z.string()).optional(),\n  }),\n);\n\nconst modelItemSchema = z.union([\n  z.string(),\n  z.object({\n    name: z.string(),\n    description: z.string().optional(),\n  }),\n]);\n\nexport const assistantEndpointSchema = baseEndpointSchema.merge(\n  z.object({\n    /* assistants specific */\n    disableBuilder: z.boolean().optional(),\n    pollIntervalMs: z.number().optional(),\n    timeoutMs: z.number().optional(),\n    version: z.union([z.string(), z.number()]).default(2),\n    supportedIds: z.array(z.string()).min(1).optional(),\n    excludedIds: z.array(z.string()).min(1).optional(),\n    privateAssistants: z.boolean().optional(),\n    retrievalModels: z.array(z.string()).min(1).optional().default(defaultRetrievalModels),\n    capabilities: z\n      .array(z.nativeEnum(Capabilities))\n      .optional()\n      .default([\n        Capabilities.code_interpreter,\n        Capabilities.image_vision,\n        Capabilities.retrieval,\n        Capabilities.actions,\n        Capabilities.tools,\n      ]),\n    /* general */\n    apiKey: z.string().optional(),\n    models: z\n      .object({\n        default: z.array(modelItemSchema).min(1),\n        fetch: z.boolean().optional(),\n        userIdQuery: z.boolean().optional(),\n      })\n      .optional(),\n    headers: z.record(z.any()).optional(),\n  }),\n);\n\nexport type TAssistantEndpoint = z.infer<typeof assistantEndpointSchema>;\n\nexport const defaultAgentCapabilities = [\n  AgentCapabilities.execute_code,\n  AgentCapabilities.file_search,\n  AgentCapabilities.web_search,\n  AgentCapabilities.artifacts,\n  AgentCapabilities.actions,\n  AgentCapabilities.context,\n  AgentCapabilities.tools,\n  AgentCapabilities.chain,\n  AgentCapabilities.ocr,\n];\n\nexport const agentsEndpointSchema = baseEndpointSchema\n  .merge(\n    z.object({\n      /* agents specific */\n      recursionLimit: z.number().optional(),\n      disableBuilder: z.boolean().optional().default(false),\n      maxRecursionLimit: z.number().optional(),\n      maxCitations: z.number().min(1).max(50).optional().default(30),\n      maxCitationsPerFile: z.number().min(1).max(10).optional().default(7),\n      minRelevanceScore: z.number().min(0.0).max(1.0).optional().default(0.45),\n      allowedProviders: z.array(z.union([z.string(), eModelEndpointSchema])).optional(),\n      capabilities: z\n        .array(z.nativeEnum(AgentCapabilities))\n        .optional()\n        .default(defaultAgentCapabilities),\n    }),\n  )\n  .default({\n    disableBuilder: false,\n    capabilities: defaultAgentCapabilities,\n    maxCitations: 30,\n    maxCitationsPerFile: 7,\n    minRelevanceScore: 0.45,\n  });\n\nexport type TAgentsEndpoint = z.infer<typeof agentsEndpointSchema>;\n\nexport const endpointSchema = baseEndpointSchema.merge(\n  z.object({\n    name: z.string().refine((value) => !eModelEndpointSchema.safeParse(value).success, {\n      message: `Value cannot be one of the default endpoint (EModelEndpoint) values: ${Object.values(\n        EModelEndpoint,\n      ).join(', ')}`,\n    }),\n    apiKey: z.string(),\n    baseURL: z.string(),\n    models: z.object({\n      default: z.array(modelItemSchema).min(1),\n      fetch: z.boolean().optional(),\n      userIdQuery: z.boolean().optional(),\n    }),\n    summarize: z.boolean().optional(),\n    summaryModel: z.string().optional(),\n    iconURL: z.string().optional(),\n    forcePrompt: z.boolean().optional(),\n    modelDisplayLabel: z.string().optional(),\n    headers: z.record(z.any()).optional(),\n    addParams: z.record(z.any()).optional(),\n    dropParams: z.array(z.string()).optional(),\n    customParams: z\n      .object({\n        defaultParamsEndpoint: z.string().default('custom'),\n        paramDefinitions: z.array(z.record(z.any())).optional(),\n      })\n      .strict()\n      .optional(),\n    customOrder: z.number().optional(),\n    directEndpoint: z.boolean().optional(),\n    titleMessageRole: z.string().optional(),\n  }),\n);\n\nexport type TEndpoint = z.infer<typeof endpointSchema>;\n\nexport const azureEndpointSchema = z\n  .object({\n    groups: azureGroupConfigsSchema,\n    plugins: z.boolean().optional(),\n    assistants: z.boolean().optional(),\n  })\n  .and(\n    endpointSchema\n      .pick({\n        streamRate: true,\n        titleConvo: true,\n        titleMethod: true,\n        titleModel: true,\n        titlePrompt: true,\n        titlePromptTemplate: true,\n        summarize: true,\n        summaryModel: true,\n        customOrder: true,\n      })\n      .partial(),\n  );\n\nexport type TAzureConfig = Omit<z.infer<typeof azureEndpointSchema>, 'groups'> &\n  TAzureConfigValidationResult;\n\nconst ttsOpenaiSchema = z.object({\n  url: z.string().optional(),\n  apiKey: z.string(),\n  model: z.string(),\n  voices: z.array(z.string()),\n});\n\nconst ttsAzureOpenAISchema = z.object({\n  instanceName: z.string(),\n  apiKey: z.string(),\n  deploymentName: z.string(),\n  apiVersion: z.string(),\n  model: z.string(),\n  voices: z.array(z.string()),\n});\n\nconst ttsElevenLabsSchema = z.object({\n  url: z.string().optional(),\n  websocketUrl: z.string().optional(),\n  apiKey: z.string(),\n  model: z.string(),\n  voices: z.array(z.string()),\n  voice_settings: z\n    .object({\n      similarity_boost: z.number().optional(),\n      stability: z.number().optional(),\n      style: z.number().optional(),\n      use_speaker_boost: z.boolean().optional(),\n    })\n    .optional(),\n  pronunciation_dictionary_locators: z.array(z.string()).optional(),\n});\n\nconst ttsLocalaiSchema = z.object({\n  url: z.string(),\n  apiKey: z.string().optional(),\n  voices: z.array(z.string()),\n  backend: z.string(),\n});\n\nconst ttsSchema = z.object({\n  openai: ttsOpenaiSchema.optional(),\n  azureOpenAI: ttsAzureOpenAISchema.optional(),\n  elevenlabs: ttsElevenLabsSchema.optional(),\n  localai: ttsLocalaiSchema.optional(),\n});\n\nconst sttOpenaiSchema = z.object({\n  url: z.string().optional(),\n  apiKey: z.string(),\n  model: z.string(),\n});\n\nconst sttAzureOpenAISchema = z.object({\n  instanceName: z.string(),\n  apiKey: z.string(),\n  deploymentName: z.string(),\n  apiVersion: z.string(),\n});\n\nconst sttSchema = z.object({\n  openai: sttOpenaiSchema.optional(),\n  azureOpenAI: sttAzureOpenAISchema.optional(),\n});\n\nconst speechTab = z\n  .object({\n    conversationMode: z.boolean().optional(),\n    advancedMode: z.boolean().optional(),\n    speechToText: z\n      .boolean()\n      .optional()\n      .or(\n        z.object({\n          engineSTT: z.string().optional(),\n          languageSTT: z.string().optional(),\n          autoTranscribeAudio: z.boolean().optional(),\n          decibelValue: z.number().optional(),\n          autoSendText: z.number().optional(),\n        }),\n      )\n      .optional(),\n    textToSpeech: z\n      .boolean()\n      .optional()\n      .or(\n        z.object({\n          engineTTS: z.string().optional(),\n          voice: z.string().optional(),\n          languageTTS: z.string().optional(),\n          automaticPlayback: z.boolean().optional(),\n          playbackRate: z.number().optional(),\n          cacheTTS: z.boolean().optional(),\n        }),\n      )\n      .optional(),\n  })\n  .optional();\n\nexport enum RateLimitPrefix {\n  FILE_UPLOAD = 'FILE_UPLOAD',\n  IMPORT = 'IMPORT',\n  TTS = 'TTS',\n  STT = 'STT',\n}\n\nexport const rateLimitSchema = z.object({\n  fileUploads: z\n    .object({\n      ipMax: z.number().optional(),\n      ipWindowInMinutes: z.number().optional(),\n      userMax: z.number().optional(),\n      userWindowInMinutes: z.number().optional(),\n    })\n    .optional(),\n  conversationsImport: z\n    .object({\n      ipMax: z.number().optional(),\n      ipWindowInMinutes: z.number().optional(),\n      userMax: z.number().optional(),\n      userWindowInMinutes: z.number().optional(),\n    })\n    .optional(),\n  tts: z\n    .object({\n      ipMax: z.number().optional(),\n      ipWindowInMinutes: z.number().optional(),\n      userMax: z.number().optional(),\n      userWindowInMinutes: z.number().optional(),\n    })\n    .optional(),\n  stt: z\n    .object({\n      ipMax: z.number().optional(),\n      ipWindowInMinutes: z.number().optional(),\n      userMax: z.number().optional(),\n      userWindowInMinutes: z.number().optional(),\n    })\n    .optional(),\n});\n\nexport enum EImageOutputType {\n  PNG = 'png',\n  WEBP = 'webp',\n  JPEG = 'jpeg',\n}\n\nconst termsOfServiceSchema = z.object({\n  externalUrl: z.string().optional(),\n  openNewTab: z.boolean().optional(),\n  modalAcceptance: z.boolean().optional(),\n  modalTitle: z.string().optional(),\n  modalContent: z.string().or(z.array(z.string())).optional(),\n});\n\nexport type TTermsOfService = z.infer<typeof termsOfServiceSchema>;\n\n// Schema for localized string (either simple string or language-keyed object)\nconst localizedStringSchema = z.union([z.string(), z.record(z.string())]);\nexport type LocalizedString = z.infer<typeof localizedStringSchema>;\n\nconst mcpServersSchema = z\n  .object({\n    placeholder: z.string().optional(),\n    use: z.boolean().optional(),\n    create: z.boolean().optional(),\n    share: z.boolean().optional(),\n    trustCheckbox: z\n      .object({\n        label: localizedStringSchema.optional(),\n        subLabel: localizedStringSchema.optional(),\n      })\n      .optional(),\n  })\n  .optional();\n\nexport type TMcpServersConfig = z.infer<typeof mcpServersSchema>;\n\nexport const interfaceSchema = z\n  .object({\n    privacyPolicy: z\n      .object({\n        externalUrl: z.string().optional(),\n        openNewTab: z.boolean().optional(),\n      })\n      .optional(),\n    termsOfService: termsOfServiceSchema.optional(),\n    customWelcome: z.string().optional(),\n    mcpServers: mcpServersSchema.optional(),\n    endpointsMenu: z.boolean().optional(),\n    modelSelect: z.boolean().optional(),\n    parameters: z.boolean().optional(),\n    sidePanel: z.boolean().optional(),\n    multiConvo: z.boolean().optional(),\n    bookmarks: z.boolean().optional(),\n    memories: z.boolean().optional(),\n    presets: z.boolean().optional(),\n    prompts: z.boolean().optional(),\n    agents: z.boolean().optional(),\n    temporaryChat: z.boolean().optional(),\n    temporaryChatRetention: z.number().min(1).max(8760).optional(),\n    runCode: z.boolean().optional(),\n    webSearch: z.boolean().optional(),\n    peoplePicker: z\n      .object({\n        users: z.boolean().optional(),\n        groups: z.boolean().optional(),\n        roles: z.boolean().optional(),\n      })\n      .optional(),\n    marketplace: z\n      .object({\n        use: z.boolean().optional(),\n      })\n      .optional(),\n    fileSearch: z.boolean().optional(),\n    fileCitations: z.boolean().optional(),\n  })\n  .default({\n    endpointsMenu: true,\n    modelSelect: true,\n    parameters: true,\n    sidePanel: true,\n    presets: true,\n    multiConvo: true,\n    bookmarks: true,\n    memories: true,\n    prompts: true,\n    agents: true,\n    temporaryChat: true,\n    runCode: true,\n    webSearch: true,\n    peoplePicker: {\n      users: true,\n      groups: true,\n      roles: true,\n    },\n    marketplace: {\n      use: false,\n    },\n    mcpServers: {\n      use: true,\n      create: true,\n      share: false,\n    },\n    fileSearch: true,\n    fileCitations: true,\n  });\n\nexport type TInterfaceConfig = z.infer<typeof interfaceSchema>;\nexport type TBalanceConfig = z.infer<typeof balanceSchema>;\nexport type TTransactionsConfig = z.infer<typeof transactionsSchema>;\n\nexport const turnstileOptionsSchema = z\n  .object({\n    language: z.string().default('auto'),\n    size: z.enum(['normal', 'compact', 'flexible', 'invisible']).default('normal'),\n  })\n  .default({\n    language: 'auto',\n    size: 'normal',\n  });\n\nexport const turnstileSchema = z.object({\n  siteKey: z.string(),\n  options: turnstileOptionsSchema.optional(),\n});\n\nexport type TTurnstileConfig = z.infer<typeof turnstileSchema>;\n\nexport type TStartupConfig = {\n  appTitle: string;\n  socialLogins?: string[];\n  interface?: TInterfaceConfig;\n  turnstile?: TTurnstileConfig;\n  balance?: TBalanceConfig;\n  transactions?: TTransactionsConfig;\n  discordLoginEnabled: boolean;\n  facebookLoginEnabled: boolean;\n  githubLoginEnabled: boolean;\n  googleLoginEnabled: boolean;\n  openidLoginEnabled: boolean;\n  appleLoginEnabled: boolean;\n  samlLoginEnabled: boolean;\n  openidLabel: string;\n  openidImageUrl: string;\n  openidAutoRedirect: boolean;\n  samlLabel: string;\n  samlImageUrl: string;\n  /** LDAP Auth Configuration */\n  ldap?: {\n    /** LDAP enabled */\n    enabled: boolean;\n    /** Whether LDAP uses username vs. email */\n    username?: boolean;\n  };\n  serverDomain: string;\n  emailLoginEnabled: boolean;\n  registrationEnabled: boolean;\n  socialLoginEnabled: boolean;\n  passwordResetEnabled: boolean;\n  emailEnabled: boolean;\n  showBirthdayIcon: boolean;\n  helpAndFaqURL: string;\n  customFooter?: string;\n  modelSpecs?: TSpecsConfig;\n  modelDescriptions?: Record<string, Record<string, string>>;\n  sharedLinksEnabled: boolean;\n  publicSharedLinksEnabled: boolean;\n  analyticsGtmId?: string;\n  instanceProjectId: string;\n  bundlerURL?: string;\n  staticBundlerURL?: string;\n  sharePointFilePickerEnabled?: boolean;\n  sharePointBaseUrl?: string;\n  sharePointPickerGraphScope?: string;\n  sharePointPickerSharePointScope?: string;\n  openidReuseTokens?: boolean;\n  minPasswordLength?: number;\n  webSearch?: {\n    searchProvider?: SearchProviders;\n    scraperProvider?: ScraperProviders;\n    rerankerType?: RerankerTypes;\n  };\n  mcpServers?: Record<\n    string,\n    {\n      customUserVars: Record<\n        string,\n        {\n          title: string;\n          description: string;\n        }\n      >;\n      chatMenu?: boolean;\n      isOAuth?: boolean;\n      startup?: boolean;\n      iconPath?: string;\n    }\n  >;\n  mcpPlaceholder?: string;\n  conversationImportMaxFileSize?: number;\n};\n\nexport enum OCRStrategy {\n  MISTRAL_OCR = 'mistral_ocr',\n  CUSTOM_OCR = 'custom_ocr',\n  AZURE_MISTRAL_OCR = 'azure_mistral_ocr',\n  VERTEXAI_MISTRAL_OCR = 'vertexai_mistral_ocr',\n}\n\nexport enum SearchCategories {\n  PROVIDERS = 'providers',\n  SCRAPERS = 'scrapers',\n  RERANKERS = 'rerankers',\n}\n\nexport enum SearchProviders {\n  SERPER = 'serper',\n  SEARXNG = 'searxng',\n}\n\nexport enum ScraperProviders {\n  FIRECRAWL = 'firecrawl',\n  SERPER = 'serper',\n}\n\nexport enum RerankerTypes {\n  JINA = 'jina',\n  COHERE = 'cohere',\n}\n\nexport enum SafeSearchTypes {\n  OFF = 0,\n  MODERATE = 1,\n  STRICT = 2,\n}\n\nexport const webSearchSchema = z.object({\n  serperApiKey: z.string().optional().default('${SERPER_API_KEY}'),\n  searxngInstanceUrl: z.string().optional().default('${SEARXNG_INSTANCE_URL}'),\n  searxngApiKey: z.string().optional().default('${SEARXNG_API_KEY}'),\n  firecrawlApiKey: z.string().optional().default('${FIRECRAWL_API_KEY}'),\n  firecrawlApiUrl: z.string().optional().default('${FIRECRAWL_API_URL}'),\n  firecrawlVersion: z.string().optional().default('${FIRECRAWL_VERSION}'),\n  jinaApiKey: z.string().optional().default('${JINA_API_KEY}'),\n  jinaApiUrl: z.string().optional().default('${JINA_API_URL}'),\n  cohereApiKey: z.string().optional().default('${COHERE_API_KEY}'),\n  searchProvider: z.nativeEnum(SearchProviders).optional(),\n  scraperProvider: z.nativeEnum(ScraperProviders).optional(),\n  rerankerType: z.nativeEnum(RerankerTypes).optional(),\n  scraperTimeout: z.number().optional(),\n  safeSearch: z.nativeEnum(SafeSearchTypes).default(SafeSearchTypes.MODERATE),\n  firecrawlOptions: z\n    .object({\n      formats: z.array(z.string()).optional(),\n      includeTags: z.array(z.string()).optional(),\n      excludeTags: z.array(z.string()).optional(),\n      headers: z.record(z.string()).optional(),\n      waitFor: z.number().optional(),\n      timeout: z.number().optional(),\n      maxAge: z.number().optional(),\n      mobile: z.boolean().optional(),\n      skipTlsVerification: z.boolean().optional(),\n      blockAds: z.boolean().optional(),\n      removeBase64Images: z.boolean().optional(),\n      parsePDF: z.boolean().optional(),\n      storeInCache: z.boolean().optional(),\n      zeroDataRetention: z.boolean().optional(),\n      location: z\n        .object({\n          country: z.string().optional(),\n          languages: z.array(z.string()).optional(),\n        })\n        .optional(),\n      onlyMainContent: z.boolean().optional(),\n      changeTrackingOptions: z\n        .object({\n          modes: z.array(z.string()).optional(),\n          schema: z.record(z.unknown()).optional(),\n          prompt: z.string().optional(),\n          tag: z.string().nullable().optional(),\n        })\n        .optional(),\n    })\n    .optional(),\n});\n\nexport type TWebSearchConfig = DeepPartial<z.infer<typeof webSearchSchema>>;\n\nexport const ocrSchema = z.object({\n  mistralModel: z.string().optional(),\n  apiKey: z.string().optional().default('${OCR_API_KEY}'),\n  baseURL: z.string().optional().default('${OCR_BASEURL}'),\n  strategy: z.nativeEnum(OCRStrategy).default(OCRStrategy.MISTRAL_OCR),\n});\n\nexport const balanceSchema = z.object({\n  enabled: z.boolean().optional().default(false),\n  startBalance: z.number().optional().default(20000),\n  autoRefillEnabled: z.boolean().optional().default(false),\n  refillIntervalValue: z.number().optional().default(30),\n  refillIntervalUnit: z\n    .enum(['seconds', 'minutes', 'hours', 'days', 'weeks', 'months'])\n    .optional()\n    .default('days'),\n  refillAmount: z.number().optional().default(10000),\n});\n\nexport const transactionsSchema = z.object({\n  enabled: z.boolean().optional().default(true),\n});\n\nexport const memorySchema = z.object({\n  disabled: z.boolean().optional(),\n  validKeys: z.array(z.string()).optional(),\n  tokenLimit: z.number().optional(),\n  charLimit: z.number().optional().default(10000),\n  personalize: z.boolean().default(true),\n  messageWindowSize: z.number().optional().default(5),\n  agent: z\n    .union([\n      z.object({\n        id: z.string(),\n      }),\n      z.object({\n        provider: z.string(),\n        model: z.string(),\n        instructions: z.string().optional(),\n        model_parameters: z.record(z.any()).optional(),\n      }),\n    ])\n    .optional(),\n});\n\nexport type TMemoryConfig = DeepPartial<z.infer<typeof memorySchema>>;\n\nconst customEndpointsSchema = z.array(endpointSchema.partial()).optional();\n\nexport const configSchema = z.object({\n  version: z.string(),\n  cache: z.boolean().default(true),\n  ocr: ocrSchema.optional(),\n  webSearch: webSearchSchema.optional(),\n  memory: memorySchema.optional(),\n  secureImageLinks: z.boolean().optional(),\n  imageOutputType: z.nativeEnum(EImageOutputType).default(EImageOutputType.PNG),\n  includedTools: z.array(z.string()).optional(),\n  filteredTools: z.array(z.string()).optional(),\n  mcpServers: MCPServersSchema.optional(),\n  mcpSettings: z\n    .object({\n      allowedDomains: z.array(z.string()).optional(),\n    })\n    .optional(),\n  interface: interfaceSchema,\n  turnstile: turnstileSchema.optional(),\n  fileStrategy: fileSourceSchema.default(FileSources.local),\n  fileStrategies: fileStrategiesSchema,\n  actions: z\n    .object({\n      allowedDomains: z.array(z.string()).optional(),\n    })\n    .optional(),\n  registration: z\n    .object({\n      socialLogins: z.array(z.string()).optional(),\n      allowedDomains: z.array(z.string()).optional(),\n    })\n    .default({ socialLogins: defaultSocialLogins }),\n  balance: balanceSchema.optional(),\n  transactions: transactionsSchema.optional(),\n  speech: z\n    .object({\n      tts: ttsSchema.optional(),\n      stt: sttSchema.optional(),\n      speechTab: speechTab.optional(),\n    })\n    .optional(),\n  rateLimits: rateLimitSchema.optional(),\n  fileConfig: fileConfigSchema.optional(),\n  modelSpecs: specsConfigSchema.optional(),\n  endpoints: z\n    .object({\n      all: baseEndpointSchema.optional(),\n      [EModelEndpoint.openAI]: baseEndpointSchema.optional(),\n      [EModelEndpoint.google]: baseEndpointSchema.optional(),\n      [EModelEndpoint.anthropic]: baseEndpointSchema.optional(),\n      [EModelEndpoint.azureOpenAI]: azureEndpointSchema.optional(),\n      [EModelEndpoint.azureAssistants]: assistantEndpointSchema.optional(),\n      [EModelEndpoint.assistants]: assistantEndpointSchema.optional(),\n      [EModelEndpoint.agents]: agentsEndpointSchema.optional(),\n      [EModelEndpoint.custom]: customEndpointsSchema.optional(),\n      [EModelEndpoint.bedrock]: baseEndpointSchema.optional(),\n    })\n    .strict()\n    .refine((data) => Object.keys(data).length > 0, {\n      message: 'At least one `endpoints` field must be provided.',\n    })\n    .optional(),\n});\n\n/**\n * Recursively makes all properties of T optional, including nested objects.\n * Handles arrays, primitives, functions, and Date objects correctly.\n */\nexport type DeepPartial<T> = T extends (infer U)[]\n  ? DeepPartial<U>[]\n  : T extends ReadonlyArray<infer U>\n    ? ReadonlyArray<DeepPartial<U>>\n    : // eslint-disable-next-line @typescript-eslint/no-unsafe-function-type\n      T extends Function\n      ? T\n      : T extends Date\n        ? T\n        : T extends object\n          ? {\n              [P in keyof T]?: DeepPartial<T[P]>;\n            }\n          : T;\n\nexport const getConfigDefaults = () => getSchemaDefaults(configSchema);\nexport type TCustomConfig = DeepPartial<z.infer<typeof configSchema>>;\nexport type TCustomEndpoints = z.infer<typeof customEndpointsSchema>;\n\nexport type TProviderSchema =\n  | z.infer<typeof ttsOpenaiSchema>\n  | z.infer<typeof ttsElevenLabsSchema>\n  | z.infer<typeof ttsLocalaiSchema>\n  | undefined;\n\nexport enum KnownEndpoints {\n  anyscale = 'anyscale',\n  apipie = 'apipie',\n  cohere = 'cohere',\n  fireworks = 'fireworks',\n  deepseek = 'deepseek',\n  groq = 'groq',\n  helicone = 'helicone',\n  huggingface = 'huggingface',\n  mistral = 'mistral',\n  mlx = 'mlx',\n  ollama = 'ollama',\n  openrouter = 'openrouter',\n  perplexity = 'perplexity',\n  shuttleai = 'shuttleai',\n  'together.ai' = 'together.ai',\n  unify = 'unify',\n  vercel = 'vercel',\n  xai = 'xai',\n}\n\nexport enum FetchTokenConfig {\n  openrouter = KnownEndpoints.openrouter,\n  helicone = KnownEndpoints.helicone,\n}\n\nexport const defaultEndpoints: EModelEndpoint[] = [\n  EModelEndpoint.openAI,\n  EModelEndpoint.assistants,\n  EModelEndpoint.azureAssistants,\n  EModelEndpoint.azureOpenAI,\n  EModelEndpoint.agents,\n  EModelEndpoint.google,\n  EModelEndpoint.anthropic,\n  EModelEndpoint.custom,\n  EModelEndpoint.bedrock,\n];\n\nexport const alternateName = {\n  [EModelEndpoint.openAI]: 'OpenAI',\n  [EModelEndpoint.assistants]: 'Assistants',\n  [EModelEndpoint.agents]: 'My Agents',\n  [EModelEndpoint.azureAssistants]: 'Azure Assistants',\n  [EModelEndpoint.azureOpenAI]: 'Azure OpenAI',\n  [EModelEndpoint.google]: 'Google',\n  [EModelEndpoint.anthropic]: 'Anthropic',\n  [EModelEndpoint.custom]: 'Custom',\n  [EModelEndpoint.bedrock]: 'AWS Bedrock',\n  [KnownEndpoints.ollama]: 'Ollama',\n  [KnownEndpoints.deepseek]: 'DeepSeek',\n  [KnownEndpoints.xai]: 'xAI',\n  [KnownEndpoints.vercel]: 'Vercel',\n  [KnownEndpoints.helicone]: 'Helicone',\n};\n\nconst sharedOpenAIModels = [\n  'gpt-5.1',\n  'gpt-5.1-chat-latest',\n  'gpt-5.1-codex',\n  'gpt-5.1-codex-mini',\n  'gpt-5',\n  'gpt-5-mini',\n  'gpt-5-nano',\n  'gpt-5-chat-latest',\n  'gpt-4.1',\n  'gpt-4.1-mini',\n  'gpt-4.1-nano',\n  'gpt-4o-mini',\n  'gpt-4o',\n  'gpt-4.5-preview',\n  'gpt-4.5-preview-2025-02-27',\n  'gpt-3.5-turbo',\n  'gpt-3.5-turbo-0125',\n  'gpt-4-turbo',\n  'gpt-4-turbo-2024-04-09',\n  'gpt-4-0125-preview',\n  'gpt-4-turbo-preview',\n  'gpt-4-1106-preview',\n  'gpt-3.5-turbo-1106',\n  'gpt-3.5-turbo-16k-0613',\n  'gpt-3.5-turbo-16k',\n  'gpt-4',\n  'gpt-4-0314',\n  'gpt-4-32k-0314',\n  'gpt-4-0613',\n  'gpt-3.5-turbo-0613',\n];\n\nconst sharedAnthropicModels = [\n  'claude-sonnet-4-5',\n  'claude-sonnet-4-5-20250929',\n  'claude-haiku-4-5',\n  'claude-haiku-4-5-20251001',\n  'claude-opus-4-1',\n  'claude-opus-4-1-20250805',\n  'claude-opus-4-5',\n  'claude-sonnet-4-20250514',\n  'claude-sonnet-4-0',\n  'claude-opus-4-20250514',\n  'claude-opus-4-0',\n  'claude-3-7-sonnet-latest',\n  'claude-3-7-sonnet-20250219',\n  'claude-3-5-haiku-20241022',\n  'claude-3-5-sonnet-20241022',\n  'claude-3-5-sonnet-20240620',\n  'claude-3-5-sonnet-latest',\n  'claude-3-opus-20240229',\n  'claude-3-sonnet-20240229',\n  'claude-3-haiku-20240307',\n  'claude-2.1',\n  'claude-2',\n  'claude-1.2',\n  'claude-1',\n  'claude-1-100k',\n  'claude-instant-1',\n  'claude-instant-1-100k',\n];\n\nexport const bedrockModels = [\n  'anthropic.claude-sonnet-4-5-20250929-v1:0',\n  'anthropic.claude-haiku-4-5-20251001-v1:0',\n  'anthropic.claude-opus-4-1-20250805-v1:0',\n  'anthropic.claude-3-5-sonnet-20241022-v2:0',\n  'anthropic.claude-3-5-sonnet-20240620-v1:0',\n  'anthropic.claude-3-5-haiku-20241022-v1:0',\n  'anthropic.claude-3-haiku-20240307-v1:0',\n  'anthropic.claude-3-opus-20240229-v1:0',\n  'anthropic.claude-3-sonnet-20240229-v1:0',\n  'anthropic.claude-v2',\n  'anthropic.claude-v2:1',\n  'anthropic.claude-instant-v1',\n  // 'cohere.command-text-v14', // no conversation history\n  // 'cohere.command-light-text-v14', // no conversation history\n  'cohere.command-r-v1:0',\n  'cohere.command-r-plus-v1:0',\n  'meta.llama2-13b-chat-v1',\n  'meta.llama2-70b-chat-v1',\n  'meta.llama3-8b-instruct-v1:0',\n  'meta.llama3-70b-instruct-v1:0',\n  'meta.llama3-1-8b-instruct-v1:0',\n  'meta.llama3-1-70b-instruct-v1:0',\n  'meta.llama3-1-405b-instruct-v1:0',\n  'mistral.mistral-7b-instruct-v0:2',\n  'mistral.mixtral-8x7b-instruct-v0:1',\n  'mistral.mistral-large-2402-v1:0',\n  'mistral.mistral-large-2407-v1:0',\n  'mistral.mistral-small-2402-v1:0',\n  'ai21.jamba-instruct-v1:0',\n  // 'ai21.j2-mid-v1', // no streaming\n  // 'ai21.j2-ultra-v1', no conversation history\n  'amazon.titan-text-lite-v1',\n  'amazon.titan-text-express-v1',\n  'amazon.titan-text-premier-v1:0',\n];\n\nexport const defaultModels = {\n  [EModelEndpoint.azureAssistants]: sharedOpenAIModels,\n  [EModelEndpoint.assistants]: [...sharedOpenAIModels, 'chatgpt-4o-latest'],\n  [EModelEndpoint.agents]: sharedOpenAIModels, // TODO: Add agent models (agentsModels)\n  [EModelEndpoint.google]: [\n    // Gemini 2.5 Models\n    'gemini-2.5-pro',\n    'gemini-2.5-flash',\n    'gemini-2.5-flash-lite',\n    // Gemini 2.0 Models\n    'gemini-2.0-flash-001',\n    'gemini-2.0-flash-lite',\n  ],\n  [EModelEndpoint.anthropic]: sharedAnthropicModels,\n  [EModelEndpoint.openAI]: [\n    ...sharedOpenAIModels,\n    'chatgpt-4o-latest',\n    'gpt-4-vision-preview',\n    'gpt-3.5-turbo-instruct-0914',\n    'gpt-3.5-turbo-instruct',\n  ],\n  [EModelEndpoint.bedrock]: bedrockModels,\n};\n\nconst fitlerAssistantModels = (str: string) => {\n  return /gpt-4|gpt-3\\\\.5/i.test(str) && !/vision|instruct/i.test(str);\n};\n\nconst openAIModels = defaultModels[EModelEndpoint.openAI];\n\nexport const initialModelsConfig: TModelsConfig = {\n  initial: [],\n  [EModelEndpoint.openAI]: openAIModels,\n  [EModelEndpoint.assistants]: openAIModels.filter(fitlerAssistantModels),\n  [EModelEndpoint.agents]: openAIModels, // TODO: Add agent models (agentsModels)\n  [EModelEndpoint.azureOpenAI]: openAIModels,\n  [EModelEndpoint.google]: defaultModels[EModelEndpoint.google],\n  [EModelEndpoint.anthropic]: defaultModels[EModelEndpoint.anthropic],\n  [EModelEndpoint.bedrock]: defaultModels[EModelEndpoint.bedrock],\n};\n\nexport const EndpointURLs = {\n  [EModelEndpoint.assistants]: `${apiBaseUrl()}/api/assistants/v2/chat`,\n  [EModelEndpoint.azureAssistants]: `${apiBaseUrl()}/api/assistants/v1/chat`,\n  [EModelEndpoint.agents]: `${apiBaseUrl()}/api/${EModelEndpoint.agents}/chat`,\n} as const;\n\nexport const modularEndpoints = new Set<EModelEndpoint | string>([\n  EModelEndpoint.anthropic,\n  EModelEndpoint.google,\n  EModelEndpoint.openAI,\n  EModelEndpoint.azureOpenAI,\n  EModelEndpoint.custom,\n  EModelEndpoint.agents,\n  EModelEndpoint.bedrock,\n]);\n\nexport const supportsBalanceCheck = {\n  [EModelEndpoint.custom]: true,\n  [EModelEndpoint.openAI]: true,\n  [EModelEndpoint.anthropic]: true,\n  [EModelEndpoint.assistants]: true,\n  [EModelEndpoint.agents]: true,\n  [EModelEndpoint.azureAssistants]: true,\n  [EModelEndpoint.azureOpenAI]: true,\n  [EModelEndpoint.bedrock]: true,\n  [EModelEndpoint.google]: true,\n};\n\nexport const visionModels = [\n  'qwen-vl',\n  'grok-vision',\n  'grok-2-vision',\n  'grok-3',\n  'gpt-4o-mini',\n  'gpt-4o',\n  'gpt-4-turbo',\n  'gpt-4-vision',\n  'o4-mini',\n  'o3',\n  'o1',\n  'gpt-4.1',\n  'gpt-4.5',\n  'llava',\n  'llava-13b',\n  'gemini-pro-vision',\n  'claude-3',\n  'gemma',\n  'gemini-exp',\n  'gemini-1.5',\n  'gemini-2',\n  'gemini-2.5',\n  'gemini-3',\n  'moondream',\n  'llama3.2-vision',\n  'llama-3.2-11b-vision',\n  'llama-3-2-11b-vision',\n  'llama-3.2-90b-vision',\n  'llama-3-2-90b-vision',\n  'llama-4',\n  'claude-opus-4',\n  'claude-sonnet-4',\n  'claude-haiku-4',\n];\nexport enum VisionModes {\n  generative = 'generative',\n  agents = 'agents',\n}\n\nexport function validateVisionModel({\n  model,\n  additionalModels = [],\n  availableModels,\n}: {\n  model: string;\n  additionalModels?: string[];\n  availableModels?: string[];\n}) {\n  if (!model) {\n    return false;\n  }\n\n  if (model.includes('gpt-4-turbo-preview') || model.includes('o1-mini')) {\n    return false;\n  }\n\n  if (availableModels && !availableModels.includes(model)) {\n    return false;\n  }\n\n  return visionModels.concat(additionalModels).some((visionModel) => model.includes(visionModel));\n}\n\nexport const imageGenTools = new Set(['dalle', 'dall-e', 'stable-diffusion', 'flux']);\n\n/**\n * Enum for collections using infinite queries\n */\nexport enum InfiniteCollections {\n  /**\n   * Collection for Prompt Groups\n   */\n  PROMPT_GROUPS = 'promptGroups',\n  /**\n   * Collection for Shared Links\n   */\n  SHARED_LINKS = 'sharedLinks',\n}\n\n/**\n * Enum for time intervals\n */\nexport enum Time {\n  ONE_DAY = 86400000,\n  TWELVE_HOURS = 43200000,\n  ONE_HOUR = 3600000,\n  THIRTY_MINUTES = 1800000,\n  TEN_MINUTES = 600000,\n  FIVE_MINUTES = 300000,\n  THREE_MINUTES = 180000,\n  TWO_MINUTES = 120000,\n  ONE_MINUTE = 60000,\n  THIRTY_SECONDS = 30000,\n}\n\n/**\n * Enum for cache keys.\n */\nexport enum CacheKeys {\n  /**\n   * Key for the config store namespace.\n   */\n  CONFIG_STORE = 'CONFIG_STORE',\n  /**\n   * Key for the roles cache.\n   */\n  ROLES = 'ROLES',\n  /**\n   * Key for the title generation cache.\n   */\n  GEN_TITLE = 'GEN_TITLE',\n  /**\n   * Key for the tools cache.\n   */\n  TOOLS = 'TOOLS',\n  /**\n   * Key for the model config cache.\n   */\n  MODELS_CONFIG = 'MODELS_CONFIG',\n  /**\n   * Key for the model queries cache.\n   */\n  MODEL_QUERIES = 'MODEL_QUERIES',\n  /**\n   * Key for the default startup config cache.\n   */\n  STARTUP_CONFIG = 'STARTUP_CONFIG',\n  /**\n   * Key for the default endpoint config cache.\n   */\n  ENDPOINT_CONFIG = 'ENDPOINT_CONFIG',\n  /**\n   * Key for accessing the model token config cache.\n   */\n  TOKEN_CONFIG = 'TOKEN_CONFIG',\n  /**\n   * Key for the app config namespace.\n   */\n  APP_CONFIG = 'APP_CONFIG',\n  /**\n   * Key for accessing Abort Keys\n   */\n  ABORT_KEYS = 'ABORT_KEYS',\n  /**\n   * Key for the bans cache.\n   */\n  BANS = 'BANS',\n  /**\n   * Key for the encoded domains cache.\n   * Used by Azure OpenAI Assistants.\n   */\n  ENCODED_DOMAINS = 'ENCODED_DOMAINS',\n  /**\n   * Key for the cached audio run Ids.\n   */\n  AUDIO_RUNS = 'AUDIO_RUNS',\n  /**\n   * Key for in-progress messages.\n   */\n  MESSAGES = 'MESSAGES',\n  /**\n   * Key for in-progress flow states.\n   */\n  FLOWS = 'FLOWS',\n  /**\n   * Key for pending chat requests (concurrency check)\n   */\n  PENDING_REQ = 'PENDING_REQ',\n  /**\n   * Key for s3 check intervals per user\n   */\n  S3_EXPIRY_INTERVAL = 'S3_EXPIRY_INTERVAL',\n  /**\n   * key for open id exchanged tokens\n   */\n  OPENID_EXCHANGED_TOKENS = 'OPENID_EXCHANGED_TOKENS',\n  /**\n   * Key for OpenID session.\n   */\n  OPENID_SESSION = 'OPENID_SESSION',\n  /**\n   * Key for SAML session.\n   */\n  SAML_SESSION = 'SAML_SESSION',\n}\n\n/**\n * Enum for violation types, used to identify, log, and cache violations.\n */\nexport enum ViolationTypes {\n  /**\n   * File Upload Violations (exceeding limit).\n   */\n  FILE_UPLOAD_LIMIT = 'file_upload_limit',\n  /**\n   * Illegal Model Request (not available).\n   */\n  ILLEGAL_MODEL_REQUEST = 'illegal_model_request',\n  /**\n   * Token Limit Violation.\n   */\n  TOKEN_BALANCE = 'token_balance',\n  /**\n   * An issued ban.\n   */\n  BAN = 'ban',\n  /**\n   * TTS Request Limit Violation.\n   */\n  TTS_LIMIT = 'tts_limit',\n  /**\n   * STT Request Limit Violation.\n   */\n  STT_LIMIT = 'stt_limit',\n  /**\n   * Reset Password Limit Violation.\n   */\n  RESET_PASSWORD_LIMIT = 'reset_password_limit',\n  /**\n   * Verify Email Limit Violation.\n   */\n  VERIFY_EMAIL_LIMIT = 'verify_email_limit',\n  /**\n   * Verify Conversation Access violation.\n   */\n  CONVO_ACCESS = 'convo_access',\n  /**\n   * Tool Call Limit Violation.\n   */\n  TOOL_CALL_LIMIT = 'tool_call_limit',\n  /**\n   * General violation (catch-all).\n   */\n  GENERAL = 'general',\n  /**\n   * Login attempt violations.\n   */\n  LOGINS = 'logins',\n  /**\n   * Concurrent request violations.\n   */\n  CONCURRENT = 'concurrent',\n  /**\n   * Non-browser access violations.\n   */\n  NON_BROWSER = 'non_browser',\n  /**\n   * Message limit violations.\n   */\n  MESSAGE_LIMIT = 'message_limit',\n  /**\n   * Registration violations.\n   */\n  REGISTRATIONS = 'registrations',\n}\n\n/**\n * Enum for error message types that are not \"violations\" as above, used to identify client-facing errors.\n */\nexport enum ErrorTypes {\n  /**\n   * No User-provided Key.\n   */\n  NO_USER_KEY = 'no_user_key',\n  /**\n   * Expired User-provided Key.\n   */\n  EXPIRED_USER_KEY = 'expired_user_key',\n  /**\n   * Invalid User-provided Key.\n   */\n  INVALID_USER_KEY = 'invalid_user_key',\n  /**\n   * No Base URL Provided.\n   */\n  NO_BASE_URL = 'no_base_url',\n  /**\n   * Moderation error\n   */\n  MODERATION = 'moderation',\n  /**\n   * Prompt exceeds max length\n   */\n  INPUT_LENGTH = 'INPUT_LENGTH',\n  /**\n   * Invalid request error, API rejected request\n   */\n  INVALID_REQUEST = 'invalid_request_error',\n  /**\n   * Invalid action request error, likely not on list of allowed domains\n   */\n  INVALID_ACTION = 'invalid_action_error',\n  /**\n   * Invalid request error, API rejected request\n   */\n  NO_SYSTEM_MESSAGES = 'no_system_messages',\n  /**\n   * Google provider returned an error\n   */\n  GOOGLE_ERROR = 'google_error',\n  /**\n   * Google provider does not allow custom tools with built-in tools\n   */\n  GOOGLE_TOOL_CONFLICT = 'google_tool_conflict',\n  /**\n   * Invalid Agent Provider (excluded by Admin)\n   */\n  INVALID_AGENT_PROVIDER = 'invalid_agent_provider',\n  /**\n   * Missing model selection\n   */\n  MISSING_MODEL = 'missing_model',\n  /**\n   * Models configuration not loaded\n   */\n  MODELS_NOT_LOADED = 'models_not_loaded',\n  /**\n   * Endpoint models not loaded\n   */\n  ENDPOINT_MODELS_NOT_LOADED = 'endpoint_models_not_loaded',\n  /**\n   * Generic Authentication failure\n   */\n  AUTH_FAILED = 'auth_failed',\n  /**\n   * Model refused to respond (content policy violation)\n   */\n  REFUSAL = 'refusal',\n}\n\n/**\n * Enum for authentication keys.\n */\nexport enum AuthKeys {\n  /**\n   * Key for the Service Account to use Vertex AI.\n   */\n  GOOGLE_SERVICE_KEY = 'GOOGLE_SERVICE_KEY',\n  /**\n   * API key to use Google Generative AI.\n   *\n   * Note: this is not for Environment Variables, but to access encrypted object values.\n   */\n  GOOGLE_API_KEY = 'GOOGLE_API_KEY',\n}\n\n/**\n * Enum for Image Detail Cost.\n *\n * **Low Res Fixed Cost:** `85`\n *\n * **High Res Calculation:**\n *\n * Number of `512px` Tiles * `170` + `85` (Additional Cost)\n */\nexport enum ImageDetailCost {\n  /**\n   * Low resolution is a fixed value.\n   */\n  LOW = 85,\n  /**\n   * High resolution Cost Per Tile\n   */\n  HIGH = 170,\n  /**\n   * Additional Cost added to High Resolution Total Cost\n   */\n  // eslint-disable-next-line @typescript-eslint/no-duplicate-enum-values\n  ADDITIONAL = 85,\n}\n\n/**\n * Tab values for Settings Dialog\n */\nexport enum SettingsTabValues {\n  /**\n   * Tab for General Settings\n   */\n  GENERAL = 'general',\n  /**\n   * Tab for Chat Settings\n   */\n  CHAT = 'chat',\n  /**\n   * Tab for Speech Settings\n   */\n  SPEECH = 'speech',\n  /**\n   * Tab for Beta Features\n   */\n  BETA = 'beta',\n  /**\n   * Tab for Data Controls\n   */\n  DATA = 'data',\n  /**\n   * Tab for Balance Settings\n   */\n  BALANCE = 'balance',\n  /**\n   * Tab for Account Settings\n   */\n  ACCOUNT = 'account',\n  /**\n   * Chat input commands\n   */\n  COMMANDS = 'commands',\n  /**\n   * Tab for Personalization Settings\n   */\n  PERSONALIZATION = 'personalization',\n}\n\nexport enum STTProviders {\n  /**\n   * Provider for OpenAI STT\n   */\n  OPENAI = 'openai',\n  /**\n   * Provider for Microsoft Azure STT\n   */\n  AZURE_OPENAI = 'azureOpenAI',\n}\n\nexport enum TTSProviders {\n  /**\n   * Provider for OpenAI TTS\n   */\n  OPENAI = 'openai',\n  /**\n   * Provider for Microsoft Azure OpenAI TTS\n   */\n  AZURE_OPENAI = 'azureOpenAI',\n  /**\n   * Provider for ElevenLabs TTS\n   */\n  ELEVENLABS = 'elevenlabs',\n  /**\n   * Provider for LocalAI TTS\n   */\n  LOCALAI = 'localai',\n}\n\n/** Enum for app-wide constants */\nexport enum Constants {\n  /** Key for the app's version. */\n  VERSION = 'v0.8.2-rc1',\n  /** Key for the Custom Config's version (librechat.yaml). */\n  CONFIG_VERSION = '1.3.1',\n  /** Standard value for the first message's `parentMessageId` value, to indicate no parent exists. */\n  NO_PARENT = '00000000-0000-0000-0000-000000000000',\n  /** Standard value to use whatever the submission prelim. `responseMessageId` is */\n  USE_PRELIM_RESPONSE_MESSAGE_ID = 'USE_PRELIM_RESPONSE_MESSAGE_ID',\n  /** Standard value for the initial conversationId before a request is sent */\n  NEW_CONVO = 'new',\n  /** Standard value for the temporary conversationId after a request is sent and before the server responds */\n  PENDING_CONVO = 'PENDING',\n  /** Standard value for the conversationId used for search queries */\n  SEARCH = 'search',\n  /** Fixed, encoded domain length for Azure OpenAI Assistants Function name parsing. */\n  ENCODED_DOMAIN_LENGTH = 10,\n  /** Identifier for using current_model in multi-model requests. */\n  CURRENT_MODEL = 'current_model',\n  /** Common divider for text values */\n  COMMON_DIVIDER = '__',\n  /** Max length for commands */\n  COMMANDS_MAX_LENGTH = 56,\n  /** Default Stream Rate (ms) */\n  DEFAULT_STREAM_RATE = 1,\n  /** Saved Tag */\n  SAVED_TAG = 'Saved',\n  /** Max number of Conversation starters for Agents/Assistants */\n  MAX_CONVO_STARTERS = 4,\n  /** Global/instance Project Name */\n  GLOBAL_PROJECT_NAME = 'instance',\n  /** Delimiter for MCP tools */\n  mcp_delimiter = '_mcp_',\n  /** Prefix for MCP plugins */\n  mcp_prefix = 'mcp_',\n  /** Unique value to indicate all MCP servers. For backend use only. */\n  mcp_all = 'sys__all__sys',\n  /** Unique value to indicate clearing MCP servers from UI state. For frontend use only. */\n  mcp_clear = 'sys__clear__sys',\n  /**\n   * Unique value to indicate the MCP tool was added to an agent.\n   * This helps inform the UI if the mcp server was previously added.\n   * */\n  mcp_server = 'sys__server__sys',\n  /**\n   * Handoff Tool Name Prefix\n   */\n  LC_TRANSFER_TO_ = 'lc_transfer_to_',\n  /** Placeholder Agent ID for Ephemeral Agents */\n  EPHEMERAL_AGENT_ID = 'ephemeral',\n}\n\nexport enum LocalStorageKeys {\n  /** Key for the admin defined App Title */\n  APP_TITLE = 'appTitle',\n  /** Key for the last conversation setup. */\n  LAST_CONVO_SETUP = 'lastConversationSetup',\n  /** Key for the last selected model. */\n  LAST_MODEL = 'lastSelectedModel',\n  /** Key for the last selected tools. */\n  LAST_TOOLS = 'lastSelectedTools',\n  /** Key for the last selected spec by name*/\n  LAST_SPEC = 'lastSelectedSpec',\n  /** Key for temporary files to delete */\n  FILES_TO_DELETE = 'filesToDelete',\n  /** Prefix key for the last selected assistant ID by index */\n  ASST_ID_PREFIX = 'assistant_id__',\n  /** Prefix key for the last selected agent ID by index */\n  AGENT_ID_PREFIX = 'agent_id__',\n  /** Key for the last selected fork setting */\n  FORK_SETTING = 'forkSetting',\n  /** Key for remembering the last selected option, instead of manually selecting */\n  REMEMBER_FORK_OPTION = 'rememberDefaultFork',\n  /** Key for remembering the split at target fork option modifier */\n  FORK_SPLIT_AT_TARGET = 'splitAtTarget',\n  /** Key for saving text drafts */\n  TEXT_DRAFT = 'textDraft_',\n  /** Key for saving file drafts */\n  FILES_DRAFT = 'filesDraft_',\n  /** Key for last Selected Prompt Category */\n  LAST_PROMPT_CATEGORY = 'lastPromptCategory',\n  /** Key for rendering User Messages as Markdown */\n  ENABLE_USER_MSG_MARKDOWN = 'enableUserMsgMarkdown',\n  /** Key for displaying analysis tool code input */\n  SHOW_ANALYSIS_CODE = 'showAnalysisCode',\n  /** Last selected MCP values per conversation ID */\n  LAST_MCP_ = 'LAST_MCP_',\n  /** Last checked toggle for Code Interpreter API per conversation ID */\n  LAST_CODE_TOGGLE_ = 'LAST_CODE_TOGGLE_',\n  /** Last checked toggle for Web Search per conversation ID */\n  LAST_WEB_SEARCH_TOGGLE_ = 'LAST_WEB_SEARCH_TOGGLE_',\n  /** Last checked toggle for File Search per conversation ID */\n  LAST_FILE_SEARCH_TOGGLE_ = 'LAST_FILE_SEARCH_TOGGLE_',\n  /** Last checked toggle for Artifacts per conversation ID */\n  LAST_ARTIFACTS_TOGGLE_ = 'LAST_ARTIFACTS_TOGGLE_',\n  /** Key for the last selected agent provider */\n  LAST_AGENT_PROVIDER = 'lastAgentProvider',\n  /** Key for the last selected agent model */\n  LAST_AGENT_MODEL = 'lastAgentModel',\n  /** Pin state for MCP tools per conversation ID */\n  PIN_MCP_ = 'PIN_MCP_',\n  /** Pin state for Web Search per conversation ID */\n  PIN_WEB_SEARCH_ = 'PIN_WEB_SEARCH_',\n  /** Pin state for Code Interpreter per conversation ID */\n  PIN_CODE_INTERPRETER_ = 'PIN_CODE_INTERPRETER_',\n}\n\nexport enum ForkOptions {\n  /** Key for direct path option */\n  DIRECT_PATH = 'directPath',\n  /** Key for including branches */\n  INCLUDE_BRANCHES = 'includeBranches',\n  /** Key for target level fork (default) */\n  TARGET_LEVEL = 'targetLevel',\n  /** Default option */\n  DEFAULT = 'default',\n}\n\n/**\n * Enum for Cohere related constants\n */\nexport enum CohereConstants {\n  /**\n   * Cohere API Endpoint, for special handling\n   */\n  API_URL = 'https://api.cohere.ai/v1',\n  /**\n   * Role for \"USER\" messages\n   */\n  ROLE_USER = 'USER',\n  /**\n   * Role for \"SYSTEM\" messages\n   */\n  ROLE_SYSTEM = 'SYSTEM',\n  /**\n   * Role for \"CHATBOT\" messages\n   */\n  ROLE_CHATBOT = 'CHATBOT',\n  /**\n   * Title message as required by Cohere\n   */\n  TITLE_MESSAGE = 'TITLE:',\n}\n\nexport enum SystemCategories {\n  ALL = 'sys__all__sys',\n  MY_PROMPTS = 'sys__my__prompts__sys',\n  NO_CATEGORY = 'sys__no__category__sys',\n  SHARED_PROMPTS = 'sys__shared__prompts__sys',\n}\n\nexport const providerEndpointMap = {\n  [EModelEndpoint.openAI]: EModelEndpoint.openAI,\n  [EModelEndpoint.bedrock]: EModelEndpoint.bedrock,\n  [EModelEndpoint.anthropic]: EModelEndpoint.anthropic,\n  [EModelEndpoint.azureOpenAI]: EModelEndpoint.azureOpenAI,\n};\n\nexport const specialVariables = {\n  current_date: true,\n  current_user: true,\n  iso_datetime: true,\n  current_datetime: true,\n};\n\nexport type TSpecialVarLabel = `com_ui_special_var_${keyof typeof specialVariables}`;\n\n/**\n * Retrieves a specific field from the endpoints configuration for a given endpoint key.\n * Does not infer or default any endpoint type when absent.\n */\nexport function getEndpointField<\n  K extends TConfig[keyof TConfig] extends never ? never : keyof TConfig,\n>(\n  endpointsConfig: TEndpointsConfig | undefined | null,\n  endpoint: EModelEndpoint | string | null | undefined,\n  property: K,\n): TConfig[K] | undefined {\n  if (!endpointsConfig || endpoint === null || endpoint === undefined) {\n    return undefined;\n  }\n  const config = endpointsConfig[endpoint];\n  if (!config) {\n    return undefined;\n  }\n  return config[property];\n}\n","export enum ContentTypes {\n  TEXT = 'text',\n  THINK = 'think',\n  TEXT_DELTA = 'text_delta',\n  TOOL_CALL = 'tool_call',\n  IMAGE_FILE = 'image_file',\n  IMAGE_URL = 'image_url',\n  AGENT_UPDATE = 'agent_update',\n  ERROR = 'error',\n}\n\nexport enum StepTypes {\n  TOOL_CALLS = 'tool_calls',\n  MESSAGE_CREATION = 'message_creation',\n}\n\nexport enum ToolCallTypes {\n  FUNCTION = 'function',\n  RETRIEVAL = 'retrieval',\n  FILE_SEARCH = 'file_search',\n  CODE_INTERPRETER = 'code_interpreter',\n  /* Agents Tool Call */\n  TOOL_CALL = 'tool_call',\n}\n","import { z } from 'zod';\nimport * as s from './schemas';\n\ntype ThinkingConfig = {\n  type: 'enabled';\n  budget_tokens: number;\n};\ntype AnthropicReasoning = {\n  thinking?: ThinkingConfig | boolean;\n  thinkingBudget?: number;\n};\n\ntype AnthropicInput = BedrockConverseInput & {\n  additionalModelRequestFields: BedrockConverseInput['additionalModelRequestFields'] &\n    AnthropicReasoning;\n};\n\nexport const bedrockInputSchema = s.tConversationSchema\n  .pick({\n    /* LibreChat params; optionType: 'conversation' */\n    modelLabel: true,\n    promptPrefix: true,\n    resendFiles: true,\n    iconURL: true,\n    greeting: true,\n    spec: true,\n    maxOutputTokens: true,\n    maxContextTokens: true,\n    artifacts: true,\n    /* Bedrock params; optionType: 'model' */\n    region: true,\n    system: true,\n    model: true,\n    maxTokens: true,\n    temperature: true,\n    topP: true,\n    stop: true,\n    thinking: true,\n    thinkingBudget: true,\n    promptCache: true,\n    /* Catch-all fields */\n    topK: true,\n    additionalModelRequestFields: true,\n  })\n  .transform((obj) => {\n    if ((obj as AnthropicInput).additionalModelRequestFields?.thinking != null) {\n      const _obj = obj as AnthropicInput;\n      obj.thinking = !!_obj.additionalModelRequestFields.thinking;\n      obj.thinkingBudget =\n        typeof _obj.additionalModelRequestFields.thinking === 'object'\n          ? (_obj.additionalModelRequestFields.thinking as ThinkingConfig)?.budget_tokens\n          : undefined;\n      delete obj.additionalModelRequestFields;\n    }\n    return s.removeNullishValues(obj);\n  })\n  .catch(() => ({}));\n\nexport type BedrockConverseInput = z.infer<typeof bedrockInputSchema>;\n\nexport const bedrockInputParser = s.tConversationSchema\n  .pick({\n    /* LibreChat params; optionType: 'conversation' */\n    modelLabel: true,\n    promptPrefix: true,\n    resendFiles: true,\n    iconURL: true,\n    greeting: true,\n    spec: true,\n    artifacts: true,\n    maxOutputTokens: true,\n    maxContextTokens: true,\n    /* Bedrock params; optionType: 'model' */\n    region: true,\n    model: true,\n    maxTokens: true,\n    temperature: true,\n    topP: true,\n    stop: true,\n    thinking: true,\n    thinkingBudget: true,\n    promptCache: true,\n    /* Catch-all fields */\n    topK: true,\n    additionalModelRequestFields: true,\n  })\n  .catchall(z.any())\n  .transform((data) => {\n    const knownKeys = [\n      'modelLabel',\n      'promptPrefix',\n      'resendFiles',\n      'iconURL',\n      'greeting',\n      'spec',\n      'maxOutputTokens',\n      'artifacts',\n      'additionalModelRequestFields',\n      'region',\n      'model',\n      'maxTokens',\n      'temperature',\n      'topP',\n      'stop',\n      'promptCache',\n    ];\n\n    const additionalFields: Record<string, unknown> = {};\n    const typedData = data as Record<string, unknown>;\n\n    Object.entries(typedData).forEach(([key, value]) => {\n      if (!knownKeys.includes(key)) {\n        if (key === 'topK') {\n          additionalFields['top_k'] = value;\n        } else {\n          additionalFields[key] = value;\n        }\n        delete typedData[key];\n      }\n    });\n\n    /** Default thinking and thinkingBudget for 'anthropic.claude-3-7-sonnet' models, if not defined */\n    if (\n      typeof typedData.model === 'string' &&\n      (typedData.model.includes('anthropic.claude-3-7-sonnet') ||\n        /anthropic\\.claude-(?:[4-9](?:\\.\\d+)?(?:-\\d+)?-(?:sonnet|opus|haiku)|(?:sonnet|opus|haiku)-[4-9])/.test(\n          typedData.model,\n        ))\n    ) {\n      if (additionalFields.thinking === undefined) {\n        additionalFields.thinking = true;\n      } else if (additionalFields.thinking === false) {\n        delete additionalFields.thinking;\n        delete additionalFields.thinkingBudget;\n      }\n\n      if (additionalFields.thinking === true && additionalFields.thinkingBudget === undefined) {\n        additionalFields.thinkingBudget = 2000;\n      }\n      additionalFields.anthropic_beta = ['output-128k-2025-02-19'];\n    } else if (additionalFields.thinking != null || additionalFields.thinkingBudget != null) {\n      delete additionalFields.thinking;\n      delete additionalFields.thinkingBudget;\n    }\n\n    /** Default promptCache for claude and nova models, if not defined */\n    if (\n      typeof typedData.model === 'string' &&\n      (typedData.model.includes('claude') || typedData.model.includes('nova')) &&\n      typedData.promptCache === undefined\n    ) {\n      typedData.promptCache = true;\n    }\n\n    if (Object.keys(additionalFields).length > 0) {\n      typedData.additionalModelRequestFields = {\n        ...((typedData.additionalModelRequestFields as Record<string, unknown> | undefined) || {}),\n        ...additionalFields,\n      };\n    }\n\n    if (typedData.maxOutputTokens !== undefined) {\n      typedData.maxTokens = typedData.maxOutputTokens;\n    } else if (typedData.maxTokens !== undefined) {\n      typedData.maxOutputTokens = typedData.maxTokens;\n    }\n\n    return s.removeNullishValues(typedData) as BedrockConverseInput;\n  })\n  .catch(() => ({}));\n\n/**\n * Configures the \"thinking\" parameter based on given input and thinking options.\n *\n * @param data - The parsed Bedrock request options object\n * @returns The object with thinking configured appropriately\n */\nfunction configureThinking(data: AnthropicInput): AnthropicInput {\n  const updatedData = { ...data };\n  if (updatedData.additionalModelRequestFields?.thinking === true) {\n    updatedData.maxTokens = updatedData.maxTokens ?? updatedData.maxOutputTokens ?? 8192;\n    delete updatedData.maxOutputTokens;\n    const thinkingConfig: AnthropicReasoning['thinking'] = {\n      type: 'enabled',\n      budget_tokens: updatedData.additionalModelRequestFields.thinkingBudget ?? 2000,\n    };\n\n    if (thinkingConfig.budget_tokens > updatedData.maxTokens) {\n      thinkingConfig.budget_tokens = Math.floor(updatedData.maxTokens * 0.9);\n    }\n    updatedData.additionalModelRequestFields.thinking = thinkingConfig;\n    delete updatedData.additionalModelRequestFields.thinkingBudget;\n  }\n  return updatedData;\n}\n\nexport const bedrockOutputParser = (data: Record<string, unknown>) => {\n  const knownKeys = [...Object.keys(s.tConversationSchema.shape), 'topK', 'top_k'];\n  let result: Record<string, unknown> = {};\n\n  // Extract known fields from the root level\n  Object.entries(data).forEach(([key, value]) => {\n    if (knownKeys.includes(key)) {\n      result[key] = value;\n    }\n  });\n\n  // Extract known fields from additionalModelRequestFields\n  if (\n    typeof data.additionalModelRequestFields === 'object' &&\n    data.additionalModelRequestFields !== null\n  ) {\n    Object.entries(data.additionalModelRequestFields as Record<string, unknown>).forEach(\n      ([key, value]) => {\n        if (knownKeys.includes(key)) {\n          if (key === 'top_k') {\n            result['topK'] = value;\n          } else if (key === 'thinking' || key === 'thinkingBudget') {\n            return;\n          } else {\n            result[key] = value;\n          }\n        }\n      },\n    );\n  }\n\n  // Handle maxTokens and maxOutputTokens\n  if (result.maxTokens !== undefined && result.maxOutputTokens === undefined) {\n    result.maxOutputTokens = result.maxTokens;\n  } else if (result.maxOutputTokens !== undefined && result.maxTokens === undefined) {\n    result.maxTokens = result.maxOutputTokens;\n  }\n\n  result = configureThinking(result as AnthropicInput);\n  // Remove additionalModelRequestFields from the result if it doesn't thinking config\n  if ((result as AnthropicInput).additionalModelRequestFields?.thinking == null) {\n    delete result.additionalModelRequestFields;\n  }\n\n  return result;\n};\n","import dayjs from 'dayjs';\nimport type { ZodIssue } from 'zod';\nimport type * as a from './types/assistants';\nimport type * as s from './schemas';\nimport type * as t from './types';\nimport { ContentTypes } from './types/runs';\nimport {\n  openAISchema,\n  googleSchema,\n  EModelEndpoint,\n  anthropicSchema,\n  assistantSchema,\n  // agentsSchema,\n  compactAgentsSchema,\n  compactGoogleSchema,\n  compactAssistantSchema,\n} from './schemas';\nimport { bedrockInputSchema } from './bedrock';\nimport { alternateName } from './config';\n\ntype EndpointSchema =\n  | typeof openAISchema\n  | typeof googleSchema\n  | typeof anthropicSchema\n  | typeof assistantSchema\n  | typeof compactAgentsSchema\n  | typeof bedrockInputSchema;\n\nexport type EndpointSchemaKey = EModelEndpoint;\n\nconst endpointSchemas: Record<EndpointSchemaKey, EndpointSchema> = {\n  [EModelEndpoint.openAI]: openAISchema,\n  [EModelEndpoint.azureOpenAI]: openAISchema,\n  [EModelEndpoint.custom]: openAISchema,\n  [EModelEndpoint.google]: googleSchema,\n  [EModelEndpoint.anthropic]: anthropicSchema,\n  [EModelEndpoint.assistants]: assistantSchema,\n  [EModelEndpoint.azureAssistants]: assistantSchema,\n  [EModelEndpoint.agents]: compactAgentsSchema,\n  [EModelEndpoint.bedrock]: bedrockInputSchema,\n};\n\n// const schemaCreators: Record<EModelEndpoint, (customSchema: DefaultSchemaValues) => EndpointSchema> = {\n//   [EModelEndpoint.google]: createGoogleSchema,\n// };\n\n/** Get the enabled endpoints from the `ENDPOINTS` environment variable */\nexport function getEnabledEndpoints() {\n  const defaultEndpoints: string[] = [\n    EModelEndpoint.openAI,\n    EModelEndpoint.agents,\n    EModelEndpoint.assistants,\n    EModelEndpoint.azureAssistants,\n    EModelEndpoint.azureOpenAI,\n    EModelEndpoint.google,\n    EModelEndpoint.anthropic,\n    EModelEndpoint.bedrock,\n  ];\n\n  const endpointsEnv = process.env.ENDPOINTS ?? '';\n  let enabledEndpoints = defaultEndpoints;\n  if (endpointsEnv) {\n    enabledEndpoints = endpointsEnv\n      .split(',')\n      .filter((endpoint) => endpoint.trim())\n      .map((endpoint) => endpoint.trim());\n  }\n  return enabledEndpoints;\n}\n\n/** Orders an existing EndpointsConfig object based on enabled endpoint/custom ordering */\nexport function orderEndpointsConfig(endpointsConfig: t.TEndpointsConfig) {\n  if (!endpointsConfig) {\n    return {};\n  }\n  const enabledEndpoints = getEnabledEndpoints();\n  const endpointKeys = Object.keys(endpointsConfig);\n  const defaultCustomIndex = enabledEndpoints.indexOf(EModelEndpoint.custom);\n  return endpointKeys.reduce(\n    (accumulatedConfig: Record<string, t.TConfig | null | undefined>, currentEndpointKey) => {\n      const isCustom = !(currentEndpointKey in EModelEndpoint);\n      const isEnabled = enabledEndpoints.includes(currentEndpointKey);\n      if (!isEnabled && !isCustom) {\n        return accumulatedConfig;\n      }\n\n      const index = enabledEndpoints.indexOf(currentEndpointKey);\n\n      if (isCustom) {\n        accumulatedConfig[currentEndpointKey] = {\n          order: defaultCustomIndex >= 0 ? defaultCustomIndex : 9999,\n          ...(endpointsConfig[currentEndpointKey] as Omit<t.TConfig, 'order'> & { order?: number }),\n        };\n      } else if (endpointsConfig[currentEndpointKey]) {\n        accumulatedConfig[currentEndpointKey] = {\n          ...endpointsConfig[currentEndpointKey],\n          order: index,\n        };\n      }\n      return accumulatedConfig;\n    },\n    {},\n  );\n}\n\n/** Converts an array of Zod issues into a string. */\nexport function errorsToString(errors: ZodIssue[]) {\n  return errors\n    .map((error) => {\n      const field = error.path.join('.');\n      const message = error.message;\n\n      return `${field}: ${message}`;\n    })\n    .join(' ');\n}\n\nexport function getFirstDefinedValue(possibleValues: string[]) {\n  let returnValue;\n  for (const value of possibleValues) {\n    if (value) {\n      returnValue = value;\n      break;\n    }\n  }\n  return returnValue;\n}\n\nexport function getNonEmptyValue(possibleValues: string[]) {\n  for (const value of possibleValues) {\n    if (value && value.trim() !== '') {\n      return value;\n    }\n  }\n  return undefined;\n}\n\nexport type TPossibleValues = {\n  models: string[];\n};\n\nexport const parseConvo = ({\n  endpoint,\n  endpointType,\n  conversation,\n  possibleValues,\n}: {\n  endpoint: EndpointSchemaKey;\n  endpointType?: EndpointSchemaKey | null;\n  conversation: Partial<s.TConversation | s.TPreset> | null;\n  possibleValues?: TPossibleValues;\n  // TODO: POC for default schema\n  // defaultSchema?: Partial<EndpointSchema>,\n}) => {\n  let schema = endpointSchemas[endpoint] as EndpointSchema | undefined;\n\n  if (!schema && !endpointType) {\n    throw new Error(`Unknown endpoint: ${endpoint}`);\n  } else if (!schema && endpointType) {\n    schema = endpointSchemas[endpointType];\n  }\n\n  // if (defaultSchema && schemaCreators[endpoint]) {\n  //   schema = schemaCreators[endpoint](defaultSchema);\n  // }\n\n  const convo = schema?.parse(conversation) as s.TConversation | undefined;\n  const { models } = possibleValues ?? {};\n\n  if (models && convo) {\n    convo.model = getFirstDefinedValue(models) ?? convo.model;\n  }\n\n  return convo;\n};\n\n/** Match GPT followed by digit, optional decimal, and optional suffix\n *\n * Examples: gpt-4, gpt-4o, gpt-4.5, gpt-5a, etc. */\nconst extractGPTVersion = (modelStr: string): string => {\n  const gptMatch = modelStr.match(/gpt-(\\d+(?:\\.\\d+)?)([a-z])?/i);\n  if (gptMatch) {\n    const version = gptMatch[1];\n    const suffix = gptMatch[2] || '';\n    return `GPT-${version}${suffix}`;\n  }\n  return '';\n};\n\n/** Match omni models (o1, o3, etc.), \"o\" followed by a digit, possibly with decimal */\nconst extractOmniVersion = (modelStr: string): string => {\n  const omniMatch = modelStr.match(/\\bo(\\d+(?:\\.\\d+)?)\\b/i);\n  if (omniMatch) {\n    const version = omniMatch[1];\n    return `o${version}`;\n  }\n  return '';\n};\n\nexport const getResponseSender = (endpointOption: t.TEndpointOption): string => {\n  const {\n    model: _m,\n    endpoint: _e,\n    endpointType,\n    modelDisplayLabel: _mdl,\n    chatGptLabel: _cgl,\n    modelLabel: _ml,\n  } = endpointOption;\n\n  const endpoint = _e as EModelEndpoint;\n\n  const model = _m ?? '';\n  const modelDisplayLabel = _mdl ?? '';\n  const chatGptLabel = _cgl ?? '';\n  const modelLabel = _ml ?? '';\n  if (\n    [EModelEndpoint.openAI, EModelEndpoint.bedrock, EModelEndpoint.azureOpenAI].includes(endpoint)\n  ) {\n    if (chatGptLabel) {\n      return chatGptLabel;\n    } else if (modelLabel) {\n      return modelLabel;\n    } else if (model && extractOmniVersion(model)) {\n      return extractOmniVersion(model);\n    } else if (model && (model.includes('mistral') || model.includes('codestral'))) {\n      return 'Mistral';\n    } else if (model && model.includes('deepseek')) {\n      return 'Deepseek';\n    } else if (model && model.includes('gpt-')) {\n      const gptVersion = extractGPTVersion(model);\n      return gptVersion || 'GPT';\n    }\n    return (alternateName[endpoint] as string | undefined) ?? 'AI';\n  }\n\n  if (endpoint === EModelEndpoint.anthropic) {\n    return modelLabel || 'Claude';\n  }\n\n  if (endpoint === EModelEndpoint.bedrock) {\n    return modelLabel || alternateName[endpoint];\n  }\n\n  if (endpoint === EModelEndpoint.google) {\n    if (modelLabel) {\n      return modelLabel;\n    } else if (model?.toLowerCase().includes('gemma') === true) {\n      return 'Gemma';\n    }\n\n    return 'Gemini';\n  }\n\n  if (endpoint === EModelEndpoint.custom || endpointType === EModelEndpoint.custom) {\n    if (modelLabel) {\n      return modelLabel;\n    } else if (chatGptLabel) {\n      return chatGptLabel;\n    } else if (model && extractOmniVersion(model)) {\n      return extractOmniVersion(model);\n    } else if (model && (model.includes('mistral') || model.includes('codestral'))) {\n      return 'Mistral';\n    } else if (model && model.includes('deepseek')) {\n      return 'Deepseek';\n    } else if (model && model.includes('gpt-')) {\n      const gptVersion = extractGPTVersion(model);\n      return gptVersion || 'GPT';\n    } else if (modelDisplayLabel) {\n      return modelDisplayLabel;\n    }\n\n    return 'AI';\n  }\n\n  return '';\n};\n\ntype CompactEndpointSchema =\n  | typeof openAISchema\n  | typeof compactAssistantSchema\n  | typeof compactAgentsSchema\n  | typeof compactGoogleSchema\n  | typeof anthropicSchema\n  | typeof bedrockInputSchema;\n\nconst compactEndpointSchemas: Record<EndpointSchemaKey, CompactEndpointSchema> = {\n  [EModelEndpoint.openAI]: openAISchema,\n  [EModelEndpoint.azureOpenAI]: openAISchema,\n  [EModelEndpoint.custom]: openAISchema,\n  [EModelEndpoint.assistants]: compactAssistantSchema,\n  [EModelEndpoint.azureAssistants]: compactAssistantSchema,\n  [EModelEndpoint.agents]: compactAgentsSchema,\n  [EModelEndpoint.google]: compactGoogleSchema,\n  [EModelEndpoint.bedrock]: bedrockInputSchema,\n  [EModelEndpoint.anthropic]: anthropicSchema,\n};\n\nexport const parseCompactConvo = ({\n  endpoint,\n  endpointType,\n  conversation,\n  possibleValues,\n}: {\n  endpoint?: EndpointSchemaKey;\n  endpointType?: EndpointSchemaKey | null;\n  conversation: Partial<s.TConversation | s.TPreset>;\n  possibleValues?: TPossibleValues;\n  // TODO: POC for default schema\n  // defaultSchema?: Partial<EndpointSchema>,\n}): Omit<s.TConversation, 'iconURL'> | null => {\n  if (!endpoint) {\n    throw new Error(`undefined endpoint: ${endpoint}`);\n  }\n\n  let schema = compactEndpointSchemas[endpoint] as CompactEndpointSchema | undefined;\n\n  if (!schema && !endpointType) {\n    throw new Error(`Unknown endpoint: ${endpoint}`);\n  } else if (!schema && endpointType) {\n    schema = compactEndpointSchemas[endpointType];\n  }\n\n  if (!schema) {\n    throw new Error(`Unknown endpointType: ${endpointType}`);\n  }\n\n  // Strip iconURL from input before parsing - it should only be derived server-side\n  // from model spec configuration, not accepted from client requests\n  const { iconURL: _clientIconURL, ...conversationWithoutIconURL } = conversation;\n\n  const convo = schema.parse(conversationWithoutIconURL) as s.TConversation | null;\n  const { models } = possibleValues ?? {};\n\n  if (models && convo) {\n    convo.model = getFirstDefinedValue(models) ?? convo.model;\n  }\n\n  return convo;\n};\n\nexport function parseTextParts(\n  contentParts: a.TMessageContentParts[],\n  skipReasoning: boolean = false,\n): string {\n  let result = '';\n\n  for (const part of contentParts) {\n    if (!part.type) {\n      continue;\n    }\n    if (part.type === ContentTypes.TEXT) {\n      const textValue = (typeof part.text === 'string' ? part.text : part.text?.value) || '';\n\n      if (\n        result.length > 0 &&\n        textValue.length > 0 &&\n        result[result.length - 1] !== ' ' &&\n        textValue[0] !== ' '\n      ) {\n        result += ' ';\n      }\n      result += textValue;\n    } else if (part.type === ContentTypes.THINK && !skipReasoning) {\n      const textValue = typeof part.think === 'string' ? part.think : '';\n      if (\n        result.length > 0 &&\n        textValue.length > 0 &&\n        result[result.length - 1] !== ' ' &&\n        textValue[0] !== ' '\n      ) {\n        result += ' ';\n      }\n      result += textValue;\n    }\n  }\n\n  return result;\n}\n\nexport const SEPARATORS = ['.', '?', '!', '', '', '', ';', '', '', '\\n', '```'];\n\nexport function findLastSeparatorIndex(text: string, separators = SEPARATORS): number {\n  let lastIndex = -1;\n  for (const separator of separators) {\n    const index = text.lastIndexOf(separator);\n    if (index > lastIndex) {\n      lastIndex = index;\n    }\n  }\n  return lastIndex;\n}\n\nexport function replaceSpecialVars({ text, user }: { text: string; user?: t.TUser | null }) {\n  let result = text;\n  if (!result) {\n    return result;\n  }\n\n  // e.g., \"2024-04-29 (1)\" (1=Monday)\n  const currentDate = dayjs().format('YYYY-MM-DD');\n  const dayNumber = dayjs().day();\n  const combinedDate = `${currentDate} (${dayNumber})`;\n  result = result.replace(/{{current_date}}/gi, combinedDate);\n\n  const currentDatetime = dayjs().format('YYYY-MM-DD HH:mm:ss');\n  result = result.replace(/{{current_datetime}}/gi, `${currentDatetime} (${dayNumber})`);\n\n  const isoDatetime = dayjs().toISOString();\n  result = result.replace(/{{iso_datetime}}/gi, isoDatetime);\n\n  if (user && user.name) {\n    result = result.replace(/{{current_user}}/gi, user.name);\n  }\n\n  return result;\n}\n","export enum ArtifactModes {\n  DEFAULT = 'default',\n  SHADCNUI = 'shadcnui',\n  CUSTOM = 'custom',\n}\n\nexport const utils = `\nimport { type ClassValue, clsx } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n`;\nexport const accordian = `import * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst Accordion = AccordionPrimitive.Root\n\nconst AccordionItem = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item\n    ref={ref}\n    className={cn(\"border-b\", className)}\n    {...props}\n  />\n))\nAccordionItem.displayName = \"AccordionItem\"\n\nconst AccordionTrigger = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <ChevronDown className=\"h-4 w-4 shrink-0 transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n))\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName\n\nconst AccordionContent = React.forwardRef<\n  React.ElementRef<typeof AccordionPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AccordionPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}\n  >\n    <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n))\n\nAccordionContent.displayName = AccordionPrimitive.Content.displayName\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n`;\nexport const alertDialog = `import * as React from \"react\"\nimport * as AlertDialogPrimitive from \"@radix-ui/react-alert-dialog\"\n\nimport { cn } from \"../../lib/utils\"\nimport { buttonVariants } from \"./button\"\n\nconst AlertDialog = AlertDialogPrimitive.Root\n\nconst AlertDialogTrigger = AlertDialogPrimitive.Trigger\n\nconst AlertDialogPortal = AlertDialogPrimitive.Portal\n\nconst AlertDialogOverlay = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Overlay\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  />\n))\nAlertDialogOverlay.displayName = AlertDialogPrimitive.Overlay.displayName\n\nconst AlertDialogContent = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPortal>\n    <AlertDialogOverlay />\n    <AlertDialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-gray-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg dark:border-gray-800 dark:bg-gray-950\",\n        className\n      )}\n      {...props}\n    />\n  </AlertDialogPortal>\n))\nAlertDialogContent.displayName = AlertDialogPrimitive.Content.displayName\n\nconst AlertDialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-2 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogHeader.displayName = \"AlertDialogHeader\"\n\nconst AlertDialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nAlertDialogFooter.displayName = \"AlertDialogFooter\"\n\nconst AlertDialogTitle = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold\", className)}\n    {...props}\n  />\n))\nAlertDialogTitle.displayName = AlertDialogPrimitive.Title.displayName\n\nconst AlertDialogDescription = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-gray-500 dark:text-gray-400\", className)}\n    {...props}\n  />\n))\nAlertDialogDescription.displayName =\n  AlertDialogPrimitive.Description.displayName\n\nconst AlertDialogAction = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Action>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Action>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Action\n    ref={ref}\n    className={cn(buttonVariants(), className)}\n    {...props}\n  />\n))\nAlertDialogAction.displayName = AlertDialogPrimitive.Action.displayName\n\nconst AlertDialogCancel = React.forwardRef<\n  React.ElementRef<typeof AlertDialogPrimitive.Cancel>,\n  React.ComponentPropsWithoutRef<typeof AlertDialogPrimitive.Cancel>\n>(({ className, ...props }, ref) => (\n  <AlertDialogPrimitive.Cancel\n    ref={ref}\n    className={cn(\n      buttonVariants({ variant: \"outline\" }),\n      \"mt-2 sm:mt-0\",\n      className\n    )}\n    {...props}\n  />\n))\nAlertDialogCancel.displayName = AlertDialogPrimitive.Cancel.displayName\n\nexport {\n  AlertDialog,\n  AlertDialogPortal,\n  AlertDialogOverlay,\n  AlertDialogTrigger,\n  AlertDialogContent,\n  AlertDialogHeader,\n  AlertDialogFooter,\n  AlertDialogTitle,\n  AlertDialogDescription,\n  AlertDialogAction,\n  AlertDialogCancel,\n}\n`;\nexport const alert = `import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border border-gray-200 p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-gray-950 dark:border-gray-800 dark:[&>svg]:text-gray-50\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-white text-gray-950 dark:bg-gray-950 dark:text-gray-50\",\n        destructive:\n          \"border-red-500/50 text-red-500 dark:border-red-500 [&>svg]:text-red-500 dark:border-red-900/50 dark:text-red-900 dark:dark:border-red-900 dark:[&>svg]:text-red-900\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Alert = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & VariantProps<typeof alertVariants>\n>(({ className, variant, ...props }, ref) => (\n  <div\n    ref={ref}\n    role=\"alert\"\n    className={cn(alertVariants({ variant }), className)}\n    {...props}\n  />\n))\nAlert.displayName = \"Alert\"\n\nconst AlertTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h5\n    ref={ref}\n    className={cn(\"mb-1 font-medium leading-none tracking-tight\", className)}\n    {...props}\n  />\n))\nAlertTitle.displayName = \"AlertTitle\"\n\nconst AlertDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm [&_p]:leading-relaxed\", className)}\n    {...props}\n  />\n))\nAlertDescription.displayName = \"AlertDescription\"\n\nexport { Alert, AlertTitle, AlertDescription }\n\n`;\nexport const avatar = `import * as React from \"react\"\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst Avatar = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatar.displayName = AvatarPrimitive.Root.displayName\n\nconst AvatarImage = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Image>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Image>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Image\n    ref={ref}\n    className={cn(\"aspect-square h-full w-full\", className)}\n    {...props}\n  />\n))\nAvatarImage.displayName = AvatarPrimitive.Image.displayName\n\nconst AvatarFallback = React.forwardRef<\n  React.ElementRef<typeof AvatarPrimitive.Fallback>,\n  React.ComponentPropsWithoutRef<typeof AvatarPrimitive.Fallback>\n>(({ className, ...props }, ref) => (\n  <AvatarPrimitive.Fallback\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full items-center justify-center rounded-full bg-gray-100 dark:bg-gray-800\",\n      className\n    )}\n    {...props}\n  />\n))\nAvatarFallback.displayName = AvatarPrimitive.Fallback.displayName\n\nexport { Avatar, AvatarImage, AvatarFallback }\n\n`;\nexport const badge = `import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-full border border-gray-200 px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-gray-950 focus:ring-offset-2 dark:border-gray-800 dark:focus:ring-gray-300\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-gray-900 text-gray-50 hover:bg-gray-900/80 dark:bg-gray-50 dark:text-gray-900 dark:hover:bg-gray-50/80\",\n        secondary:\n          \"border-transparent bg-gray-100 text-gray-900 hover:bg-gray-100/80 dark:bg-gray-800 dark:text-gray-50 dark:hover:bg-gray-800/80\",\n        destructive:\n          \"border-transparent bg-red-500 text-gray-50 hover:bg-red-500/80 dark:bg-red-900 dark:text-gray-50 dark:hover:bg-red-900/80\",\n        outline: \"text-gray-950 dark:text-gray-50\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  )\n}\n\nexport { Badge, badgeVariants }\n\n`;\nexport const breadcrumb = `import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst Breadcrumb = React.forwardRef<\n  HTMLElement,\n  React.ComponentPropsWithoutRef<\"nav\"> & {\n    separator?: React.ReactNode\n  }\n>(({ ...props }, ref) => <nav ref={ref} aria-label=\"breadcrumb\" {...props} />)\nBreadcrumb.displayName = \"Breadcrumb\"\n\nconst BreadcrumbList = React.forwardRef<\n  HTMLOListElement,\n  React.ComponentPropsWithoutRef<\"ol\">\n>(({ className, ...props }, ref) => (\n  <ol\n    ref={ref}\n    className={cn(\n      \"flex flex-wrap items-center gap-1.5 break-words text-sm text-gray-500 sm:gap-2.5 dark:text-gray-400\",\n      className\n    )}\n    {...props}\n  />\n))\nBreadcrumbList.displayName = \"BreadcrumbList\"\n\nconst BreadcrumbItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentPropsWithoutRef<\"li\">\n>(({ className, ...props }, ref) => (\n  <li\n    ref={ref}\n    className={cn(\"inline-flex items-center gap-1.5\", className)}\n    {...props}\n  />\n))\nBreadcrumbItem.displayName = \"BreadcrumbItem\"\n\nconst BreadcrumbLink = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentPropsWithoutRef<\"a\"> & {\n    asChild?: boolean\n  }\n>(({ asChild, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\"\n\n  return (\n    <Comp\n      ref={ref}\n      className={cn(\"transition-colors hover:text-gray-950 dark:hover:text-gray-50\", className)}\n      {...props}\n    />\n  )\n})\nBreadcrumbLink.displayName = \"BreadcrumbLink\"\n\nconst BreadcrumbPage = React.forwardRef<\n  HTMLSpanElement,\n  React.ComponentPropsWithoutRef<\"span\">\n>(({ className, ...props }, ref) => (\n  <span\n    ref={ref}\n    role=\"link\"\n    aria-disabled=\"true\"\n    aria-current=\"page\"\n    className={cn(\"font-normal text-gray-950 dark:text-gray-50\", className)}\n    {...props}\n  />\n))\nBreadcrumbPage.displayName = \"BreadcrumbPage\"\n\nconst BreadcrumbSeparator = ({\n  children,\n  className,\n  ...props\n}: React.ComponentProps<\"li\">) => (\n  <li\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"[&>svg]:size-3.5\", className)}\n    {...props}\n  >\n    {children ?? <ChevronRight />}\n  </li>\n)\nBreadcrumbSeparator.displayName = \"BreadcrumbSeparator\"\n\nconst BreadcrumbEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    role=\"presentation\"\n    aria-hidden=\"true\"\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More</span>\n  </span>\n)\nBreadcrumbEllipsis.displayName = \"BreadcrumbElipssis\"\n\nexport {\n  Breadcrumb,\n  BreadcrumbList,\n  BreadcrumbItem,\n  BreadcrumbLink,\n  BreadcrumbPage,\n  BreadcrumbSeparator,\n  BreadcrumbEllipsis,\n}\n\n`;\nexport const button = `import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from '../../lib/utils';\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:ring-offset-gray-950 dark:focus-visible:ring-gray-300\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-gray-900 text-gray-50 hover:bg-gray-900/90 dark:bg-gray-50 dark:text-gray-900 dark:hover:bg-gray-50/90\",\n        destructive:\n          \"bg-red-500 text-gray-50 hover:bg-red-500/90 dark:bg-red-900 dark:text-gray-50 dark:hover:bg-red-900/90\",\n        outline:\n          \"border border-gray-200 bg-white hover:bg-gray-100 hover:text-gray-900 dark:border-gray-800 dark:bg-gray-950 dark:hover:bg-gray-800 dark:hover:text-gray-50\",\n        secondary:\n          \"bg-gray-100 text-gray-900 hover:bg-gray-100/80 dark:bg-gray-800 dark:text-gray-50 dark:hover:bg-gray-800/80\",\n        ghost: \"hover:bg-gray-100 hover:text-gray-900 dark:hover:bg-gray-800 dark:hover:text-gray-50\",\n        link: \"text-gray-900 underline-offset-4 hover:underline dark:text-gray-50\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n`;\nexport const calendar = `import * as React from \"react\"\nimport { ChevronLeft, ChevronRight } from \"lucide-react\"\nimport { DayPicker } from \"react-day-picker\"\n\nimport { cn } from \"../../lib/utils\"\nimport { buttonVariants } from \"./button\"\n\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>\n\nfunction Calendar({\n  className,\n  classNames,\n  showOutsideDays = true,\n  ...props\n}: CalendarProps) {\n  return (\n    <DayPicker\n      showOutsideDays={showOutsideDays}\n      className={cn(\"p-3\", className)}\n      classNames={{\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\n        month: \"space-y-4\",\n        caption: \"flex justify-center pt-1 relative items-center\",\n        caption_label: \"text-sm font-medium\",\n        nav: \"space-x-1 flex items-center\",\n        nav_button: cn(\n          buttonVariants({ variant: \"outline\" }),\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\n        ),\n        nav_button_previous: \"absolute left-1\",\n        nav_button_next: \"absolute right-1\",\n        table: \"w-full border-collapse space-y-1\",\n        head_row: \"flex\",\n        head_cell:\n          \"text-gray-500 rounded-md w-9 font-normal text-[0.8rem] dark:text-gray-400\",\n        row: \"flex w-full mt-2\",\n        cell: \"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-gray-100/50 [&:has([aria-selected])]:bg-gray-100 first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20 dark:[&:has([aria-selected].day-outside)]:bg-gray-800/50 dark:[&:has([aria-selected])]:bg-gray-800\",\n        day: cn(\n          buttonVariants({ variant: \"ghost\" }),\n          \"h-9 w-9 p-0 font-normal aria-selected:opacity-100\"\n        ),\n        day_range_end: \"day-range-end\",\n        day_selected:\n          \"bg-gray-900 text-gray-50 hover:bg-gray-900 hover:text-gray-50 focus:bg-gray-900 focus:text-gray-50 dark:bg-gray-50 dark:text-gray-900 dark:hover:bg-gray-50 dark:hover:text-gray-900 dark:focus:bg-gray-50 dark:focus:text-gray-900\",\n        day_today: \"bg-gray-100 text-gray-900 dark:bg-gray-800 dark:text-gray-50\",\n        day_outside:\n          \"day-outside text-gray-500 opacity-50 aria-selected:bg-gray-100/50 aria-selected:text-gray-500 aria-selected:opacity-30 dark:text-gray-400 dark:aria-selected:bg-gray-800/50 dark:aria-selected:text-gray-400\",\n        day_disabled: \"text-gray-500 opacity-50 dark:text-gray-400\",\n        day_range_middle:\n          \"aria-selected:bg-gray-100 aria-selected:text-gray-900 dark:aria-selected:bg-gray-800 dark:aria-selected:text-gray-50\",\n        day_hidden: \"invisible\",\n        ...classNames,\n      }}\n      components={{\n        IconLeft: ({ ...props }) => <ChevronLeft className=\"h-4 w-4\" />,\n        IconRight: ({ ...props }) => <ChevronRight className=\"h-4 w-4\" />,\n      }}\n      {...props}\n    />\n  )\n}\nCalendar.displayName = \"Calendar\"\n\nexport { Calendar }\n\n`;\nexport const card = `import * as React from 'react';\n\nimport { cn } from '../../lib/utils';\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"rounded-lg border border-gray-200 bg-white text-gray-950 shadow-sm dark:border-gray-800 dark:bg-gray-950 dark:text-gray-50\",\n      className\n    )}\n    {...props}\n  />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h3\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <p\n    ref={ref}\n    className={cn(\"text-sm text-gray-500 dark:text-gray-400\", className)}\n    {...props}\n  />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n`;\nexport const carousel = `import * as React from \"react\"\nimport useEmblaCarousel, {\n  type UseEmblaCarouselType,\n} from \"embla-carousel-react\"\nimport { ArrowLeft, ArrowRight } from \"lucide-react\"\n\nimport { cn } from \"../../lib/utils\"\nimport { Button } from \"./button\"\n\ntype CarouselApi = UseEmblaCarouselType[1]\ntype UseCarouselParameters = Parameters<typeof useEmblaCarousel>\ntype CarouselOptions = UseCarouselParameters[0]\ntype CarouselPlugin = UseCarouselParameters[1]\n\ntype CarouselProps = {\n  opts?: CarouselOptions\n  plugins?: CarouselPlugin\n  orientation?: \"horizontal\" | \"vertical\"\n  setApi?: (api: CarouselApi) => void\n}\n\ntype CarouselContextProps = {\n  carouselRef: ReturnType<typeof useEmblaCarousel>[0]\n  api: ReturnType<typeof useEmblaCarousel>[1]\n  scrollPrev: () => void\n  scrollNext: () => void\n  canScrollPrev: boolean\n  canScrollNext: boolean\n} & CarouselProps\n\nconst CarouselContext = React.createContext<CarouselContextProps | null>(null)\n\nfunction useCarousel() {\n  const context = React.useContext(CarouselContext)\n\n  if (!context) {\n    throw new Error(\"useCarousel must be used within a <Carousel />\")\n  }\n\n  return context\n}\n\nconst Carousel = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement> & CarouselProps\n>(\n  (\n    {\n      orientation = \"horizontal\",\n      opts,\n      setApi,\n      plugins,\n      className,\n      children,\n      ...props\n    },\n    ref\n  ) => {\n    const [carouselRef, api] = useEmblaCarousel(\n      {\n        ...opts,\n        axis: orientation === \"horizontal\" ? \"x\" : \"y\",\n      },\n      plugins\n    )\n    const [canScrollPrev, setCanScrollPrev] = React.useState(false)\n    const [canScrollNext, setCanScrollNext] = React.useState(false)\n\n    const onSelect = React.useCallback((api: CarouselApi) => {\n      if (!api) {\n        return\n      }\n\n      setCanScrollPrev(api.canScrollPrev())\n      setCanScrollNext(api.canScrollNext())\n    }, [])\n\n    const scrollPrev = React.useCallback(() => {\n      api?.scrollPrev()\n    }, [api])\n\n    const scrollNext = React.useCallback(() => {\n      api?.scrollNext()\n    }, [api])\n\n    const handleKeyDown = React.useCallback(\n      (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if (event.key === \"ArrowLeft\") {\n          event.preventDefault()\n          scrollPrev()\n        } else if (event.key === \"ArrowRight\") {\n          event.preventDefault()\n          scrollNext()\n        }\n      },\n      [scrollPrev, scrollNext]\n    )\n\n    React.useEffect(() => {\n      if (!api || !setApi) {\n        return\n      }\n\n      setApi(api)\n    }, [api, setApi])\n\n    React.useEffect(() => {\n      if (!api) {\n        return\n      }\n\n      onSelect(api)\n      api.on(\"reInit\", onSelect)\n      api.on(\"select\", onSelect)\n\n      return () => {\n        api?.off(\"select\", onSelect)\n      }\n    }, [api, onSelect])\n\n    return (\n      <CarouselContext.Provider\n        value={{\n          carouselRef,\n          api: api,\n          opts,\n          orientation:\n            orientation || (opts?.axis === \"y\" ? \"vertical\" : \"horizontal\"),\n          scrollPrev,\n          scrollNext,\n          canScrollPrev,\n          canScrollNext,\n        }}\n      >\n        <div\n          ref={ref}\n          onKeyDownCapture={handleKeyDown}\n          className={cn(\"relative\", className)}\n          role=\"region\"\n          aria-roledescription=\"carousel\"\n          {...props}\n        >\n          {children}\n        </div>\n      </CarouselContext.Provider>\n    )\n  }\n)\nCarousel.displayName = \"Carousel\"\n\nconst CarouselContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { carouselRef, orientation } = useCarousel()\n\n  return (\n    <div ref={carouselRef} className=\"overflow-hidden\">\n      <div\n        ref={ref}\n        className={cn(\n          \"flex\",\n          orientation === \"horizontal\" ? \"-ml-4\" : \"-mt-4 flex-col\",\n          className\n        )}\n        {...props}\n      />\n    </div>\n  )\n})\nCarouselContent.displayName = \"CarouselContent\"\n\nconst CarouselItem = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => {\n  const { orientation } = useCarousel()\n\n  return (\n    <div\n      ref={ref}\n      role=\"group\"\n      aria-roledescription=\"slide\"\n      className={cn(\n        \"min-w-0 shrink-0 grow-0 basis-full\",\n        orientation === \"horizontal\" ? \"pl-4\" : \"pt-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n})\nCarouselItem.displayName = \"CarouselItem\"\n\nconst CarouselPrevious = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollPrev, canScrollPrev } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute  h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-left-12 top-1/2 -translate-y-1/2\"\n          : \"-top-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollPrev}\n      onClick={scrollPrev}\n      {...props}\n    >\n      <ArrowLeft className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Previous slide</span>\n    </Button>\n  )\n})\nCarouselPrevious.displayName = \"CarouselPrevious\"\n\nconst CarouselNext = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<typeof Button>\n>(({ className, variant = \"outline\", size = \"icon\", ...props }, ref) => {\n  const { orientation, scrollNext, canScrollNext } = useCarousel()\n\n  return (\n    <Button\n      ref={ref}\n      variant={variant}\n      size={size}\n      className={cn(\n        \"absolute h-8 w-8 rounded-full\",\n        orientation === \"horizontal\"\n          ? \"-right-12 top-1/2 -translate-y-1/2\"\n          : \"-bottom-12 left-1/2 -translate-x-1/2 rotate-90\",\n        className\n      )}\n      disabled={!canScrollNext}\n      onClick={scrollNext}\n      {...props}\n    >\n      <ArrowRight className=\"h-4 w-4\" />\n      <span className=\"sr-only\">Next slide</span>\n    </Button>\n  )\n})\nCarouselNext.displayName = \"CarouselNext\"\n\nexport {\n  type CarouselApi,\n  Carousel,\n  CarouselContent,\n  CarouselItem,\n  CarouselPrevious,\n  CarouselNext,\n}\n\n`;\nexport const checkbox = `import * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded-sm border border-gray-200 dark:border-gray-900 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-gray-900 data-[state=checked]:text-gray-50  dark:ring-offset-gray-950 dark:focus-visible:ring-gray-300 dark:data-[state=checked]:bg-gray-50 dark:data-[state=checked]:text-gray-900\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))\nCheckbox.displayName = CheckboxPrimitive.Root.displayName\n\nexport { Checkbox }\n\n`;\nexport const collapsible = `import * as CollapsiblePrimitive from \"@radix-ui/react-collapsible\"\n\nconst Collapsible = CollapsiblePrimitive.Root\n\nconst CollapsibleTrigger = CollapsiblePrimitive.CollapsibleTrigger\n\nconst CollapsibleContent = CollapsiblePrimitive.CollapsibleContent\n\nexport { Collapsible, CollapsibleTrigger, CollapsibleContent }\n\n`;\nexport const dialog = `import * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-gray-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg dark:border-gray-800 dark:bg-gray-950\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-gray-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-gray-100 data-[state=open]:text-gray-500 dark:ring-offset-gray-950 dark:focus:ring-gray-300 dark:data-[state=open]:bg-gray-800 dark:data-[state=open]:text-gray-400\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-gray-500 dark:text-gray-400\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n\n`;\nexport const drawer = `import * as React from \"react\"\nimport { Drawer as DrawerPrimitive } from \"vaul\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst Drawer = ({\n  shouldScaleBackground = true,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (\n  <DrawerPrimitive.Root\n    shouldScaleBackground={shouldScaleBackground}\n    {...props}\n  />\n)\nDrawer.displayName = \"Drawer\"\n\nconst DrawerTrigger = DrawerPrimitive.Trigger\n\nconst DrawerPortal = DrawerPrimitive.Portal\n\nconst DrawerClose = DrawerPrimitive.Close\n\nconst DrawerOverlay = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Overlay\n    ref={ref}\n    className={cn(\"fixed inset-0 z-50 bg-black/80\", className)}\n    {...props}\n  />\n))\nDrawerOverlay.displayName = DrawerPrimitive.Overlay.displayName\n\nconst DrawerContent = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DrawerPortal>\n    <DrawerOverlay />\n    <DrawerPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border border-gray-200 bg-white dark:border-gray-800 dark:bg-gray-950\",\n        className\n      )}\n      {...props}\n    >\n      <div className=\"mx-auto mt-4 h-2 w-[100px] rounded-full bg-gray-100 dark:bg-gray-800\" />\n      {children}\n    </DrawerPrimitive.Content>\n  </DrawerPortal>\n))\nDrawerContent.displayName = \"DrawerContent\"\n\nconst DrawerHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"grid gap-1.5 p-4 text-center sm:text-left\", className)}\n    {...props}\n  />\n)\nDrawerHeader.displayName = \"DrawerHeader\"\n\nconst DrawerFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n    {...props}\n  />\n)\nDrawerFooter.displayName = \"DrawerFooter\"\n\nconst DrawerTitle = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDrawerTitle.displayName = DrawerPrimitive.Title.displayName\n\nconst DrawerDescription = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-gray-500 dark:text-gray-400\", className)}\n    {...props}\n  />\n))\nDrawerDescription.displayName = DrawerPrimitive.Description.displayName\n\nexport {\n  Drawer,\n  DrawerPortal,\n  DrawerOverlay,\n  DrawerTrigger,\n  DrawerClose,\n  DrawerContent,\n  DrawerHeader,\n  DrawerFooter,\n  DrawerTitle,\n  DrawerDescription,\n}\n\n`;\nexport const dropdownMenu = `import * as React from \"react\"\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst DropdownMenu = DropdownMenuPrimitive.Root\n\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\n\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\n\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\n\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\n\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\n\nconst DropdownMenuSubTrigger = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-gray-100 data-[state=open]:bg-gray-100 dark:focus:bg-gray-800 dark:data-[state=open]:bg-gray-800\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </DropdownMenuPrimitive.SubTrigger>\n))\nDropdownMenuSubTrigger.displayName =\n  DropdownMenuPrimitive.SubTrigger.displayName\n\nconst DropdownMenuSubContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border border-gray-200 bg-white p-1 text-gray-950 shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-gray-800 dark:bg-gray-950 dark:text-gray-50\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuSubContent.displayName =\n  DropdownMenuPrimitive.SubContent.displayName\n\nconst DropdownMenuContent = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <DropdownMenuPrimitive.Portal>\n    <DropdownMenuPrimitive.Content\n      ref={ref}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 min-w-[8rem] overflow-hidden rounded-md border border-gray-200 bg-white p-1 text-gray-950 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-gray-800 dark:bg-gray-950 dark:text-gray-50\",\n        className\n      )}\n      {...props}\n    />\n  </DropdownMenuPrimitive.Portal>\n))\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\n\nconst DropdownMenuItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-gray-100 focus:text-gray-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-gray-800 dark:focus:text-gray-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\n\nconst DropdownMenuCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <DropdownMenuPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-gray-100 focus:text-gray-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-gray-800 dark:focus:text-gray-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.CheckboxItem>\n))\nDropdownMenuCheckboxItem.displayName =\n  DropdownMenuPrimitive.CheckboxItem.displayName\n\nconst DropdownMenuRadioItem = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <DropdownMenuPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-gray-100 focus:text-gray-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-gray-800 dark:focus:text-gray-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <DropdownMenuPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </DropdownMenuPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </DropdownMenuPrimitive.RadioItem>\n))\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\n\nconst DropdownMenuLabel = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <DropdownMenuPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\n\nconst DropdownMenuSeparator = React.forwardRef<\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <DropdownMenuPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-gray-100 dark:bg-gray-800\", className)}\n    {...props}\n  />\n))\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\n\nconst DropdownMenuShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\n      {...props}\n    />\n  )\n}\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\n\nexport {\n  DropdownMenu,\n  DropdownMenuTrigger,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuCheckboxItem,\n  DropdownMenuRadioItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuShortcut,\n  DropdownMenuGroup,\n  DropdownMenuPortal,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuRadioGroup,\n}\n\n`;\nexport const hoverCard = `import * as React from \"react\"\nimport * as HoverCardPrimitive from \"@radix-ui/react-hover-card\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst HoverCard = HoverCardPrimitive.Root\n\nconst HoverCardTrigger = HoverCardPrimitive.Trigger\n\nconst HoverCardContent = React.forwardRef<\n  React.ElementRef<typeof HoverCardPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof HoverCardPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <HoverCardPrimitive.Content\n    ref={ref}\n    align={align}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 w-64 rounded-md border border-gray-200 bg-white p-4 text-gray-950 shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-gray-800 dark:bg-gray-950 dark:text-gray-50\",\n      className\n    )}\n    {...props}\n  />\n))\nHoverCardContent.displayName = HoverCardPrimitive.Content.displayName\n\nexport { HoverCard, HoverCardTrigger, HoverCardContent }\n\n`;\nexport const input = `import * as React from \"react\"\nimport { cn } from \"../../lib/utils\"\n\nexport interface InputProps\n  extends React.InputHTMLAttributes<HTMLInputElement> {}\n\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\n  ({ className, type, ...props }, ref) => {\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-10 w-full rounded-md border border-gray-200 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-gray-800 dark:bg-gray-950 dark:ring-offset-gray-950 dark:placeholder:text-gray-400 dark:focus-visible:ring-gray-300\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n`;\nexport const label = `import * as React from 'react';\nimport * as LabelPrimitive from '@radix-ui/react-label';\nimport { cva, type VariantProps } from 'class-variance-authority';\n\nimport { cn } from '../../lib/utils';\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n`;\nexport const menuBar = `\nimport * as React from \"react\"\nimport * as MenubarPrimitive from \"@radix-ui/react-menubar\"\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst MenubarMenu = MenubarPrimitive.Menu\n\nconst MenubarGroup = MenubarPrimitive.Group\n\nconst MenubarPortal = MenubarPrimitive.Portal\n\nconst MenubarSub = MenubarPrimitive.Sub\n\nconst MenubarRadioGroup = MenubarPrimitive.RadioGroup\n\nconst Menubar = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"flex h-10 items-center space-x-1 rounded-md border border-gray-200 bg-white p-1 dark:border-gray-800 dark:bg-gray-950\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubar.displayName = MenubarPrimitive.Root.displayName\n\nconst MenubarTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-gray-100 focus:text-gray-900 data-[state=open]:bg-gray-100 data-[state=open]:text-gray-900 dark:focus:bg-gray-800 dark:focus:text-gray-50 dark:data-[state=open]:bg-gray-800 dark:data-[state=open]:text-gray-50\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarTrigger.displayName = MenubarPrimitive.Trigger.displayName\n\nconst MenubarSubTrigger = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubTrigger>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubTrigger> & {\n    inset?: boolean\n  }\n>(({ className, inset, children, ...props }, ref) => (\n  <MenubarPrimitive.SubTrigger\n    ref={ref}\n    className={cn(\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-gray-100 focus:text-gray-900 data-[state=open]:bg-gray-100 data-[state=open]:text-gray-900 dark:focus:bg-gray-800 dark:focus:text-gray-50 dark:data-[state=open]:bg-gray-800 dark:data-[state=open]:text-gray-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\n  </MenubarPrimitive.SubTrigger>\n))\nMenubarSubTrigger.displayName = MenubarPrimitive.SubTrigger.displayName\n\nconst MenubarSubContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.SubContent>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.SubContent>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.SubContent\n    ref={ref}\n    className={cn(\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border border-gray-200 bg-white p-1 text-gray-950 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-gray-800 dark:bg-gray-950 dark:text-gray-50\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarSubContent.displayName = MenubarPrimitive.SubContent.displayName\n\nconst MenubarContent = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Content>\n>(\n  (\n    { className, align = \"start\", alignOffset = -4, sideOffset = 8, ...props },\n    ref\n  ) => (\n    <MenubarPrimitive.Portal>\n      <MenubarPrimitive.Content\n        ref={ref}\n        align={align}\n        alignOffset={alignOffset}\n        sideOffset={sideOffset}\n        className={cn(\n          \"z-50 min-w-[12rem] overflow-hidden rounded-md border border-gray-200 bg-white p-1 text-gray-950 shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-gray-800 dark:bg-gray-950 dark:text-gray-50\",\n          className\n        )}\n        {...props}\n      />\n    </MenubarPrimitive.Portal>\n  )\n)\nMenubarContent.displayName = MenubarPrimitive.Content.displayName\n\nconst MenubarItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Item> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-gray-100 focus:text-gray-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-gray-800 dark:focus:text-gray-50\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarItem.displayName = MenubarPrimitive.Item.displayName\n\nconst MenubarCheckboxItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.CheckboxItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.CheckboxItem>\n>(({ className, children, checked, ...props }, ref) => (\n  <MenubarPrimitive.CheckboxItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-gray-100 focus:text-gray-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-gray-800 dark:focus:text-gray-50\",\n      className\n    )}\n    checked={checked}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.CheckboxItem>\n))\nMenubarCheckboxItem.displayName = MenubarPrimitive.CheckboxItem.displayName\n\nconst MenubarRadioItem = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.RadioItem>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.RadioItem>\n>(({ className, children, ...props }, ref) => (\n  <MenubarPrimitive.RadioItem\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-gray-100 focus:text-gray-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-gray-800 dark:focus:text-gray-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <MenubarPrimitive.ItemIndicator>\n        <Circle className=\"h-2 w-2 fill-current\" />\n      </MenubarPrimitive.ItemIndicator>\n    </span>\n    {children}\n  </MenubarPrimitive.RadioItem>\n))\nMenubarRadioItem.displayName = MenubarPrimitive.RadioItem.displayName\n\nconst MenubarLabel = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Label> & {\n    inset?: boolean\n  }\n>(({ className, inset, ...props }, ref) => (\n  <MenubarPrimitive.Label\n    ref={ref}\n    className={cn(\n      \"px-2 py-1.5 text-sm font-semibold\",\n      inset && \"pl-8\",\n      className\n    )}\n    {...props}\n  />\n))\nMenubarLabel.displayName = MenubarPrimitive.Label.displayName\n\nconst MenubarSeparator = React.forwardRef<\n  React.ElementRef<typeof MenubarPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof MenubarPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <MenubarPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-gray-100 dark:bg-gray-800\", className)}\n    {...props}\n  />\n))\nMenubarSeparator.displayName = MenubarPrimitive.Separator.displayName\n\nconst MenubarShortcut = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        \"ml-auto text-xs tracking-widest text-gray-500 dark:text-gray-400\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\nMenubarShortcut.displayname = \"MenubarShortcut\"\n\nexport {\n  Menubar,\n  MenubarMenu,\n  MenubarTrigger,\n  MenubarContent,\n  MenubarItem,\n  MenubarSeparator,\n  MenubarLabel,\n  MenubarCheckboxItem,\n  MenubarRadioGroup,\n  MenubarRadioItem,\n  MenubarPortal,\n  MenubarSubContent,\n  MenubarSubTrigger,\n  MenubarGroup,\n  MenubarSub,\n  MenubarShortcut,\n}\n\n`;\nexport const navigationMenu = `import * as React from \"react\"\nimport * as NavigationMenuPrimitive from \"@radix-ui/react-navigation-menu\"\nimport { cva } from \"class-variance-authority\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst NavigationMenu = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative z-10 flex max-w-max flex-1 items-center justify-center\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <NavigationMenuViewport />\n  </NavigationMenuPrimitive.Root>\n))\nNavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName\n\nconst NavigationMenuList = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.List\n    ref={ref}\n    className={cn(\n      \"group flex flex-1 list-none items-center justify-center space-x-1\",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName\n\nconst NavigationMenuItem = NavigationMenuPrimitive.Item\n\nconst navigationMenuTriggerStyle = cva(\n  \"group inline-flex h-10 w-max items-center justify-center rounded-md bg-white px-4 py-2 text-sm font-medium transition-colors hover:bg-gray-100 hover:text-gray-900 focus:bg-gray-100 focus:text-gray-900 focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-gray-100/50 data-[state=open]:bg-gray-100/50 dark:bg-gray-950 dark:hover:bg-gray-800 dark:hover:text-gray-50 dark:focus:bg-gray-800 dark:focus:text-gray-50 dark:data-[active]:bg-gray-800/50 dark:data-[state=open]:bg-gray-800/50\"\n)\n\nconst NavigationMenuTrigger = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Trigger\n    ref={ref}\n    className={cn(navigationMenuTriggerStyle(), \"group\", className)}\n    {...props}\n  >\n    {children}{\"\"}\n    <ChevronDown\n      className=\"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180\"\n      aria-hidden=\"true\"\n    />\n  </NavigationMenuPrimitive.Trigger>\n))\nNavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName\n\nconst NavigationMenuContent = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto\",\n      className\n    )}\n    {...props}\n  />\n))\nNavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName\n\nconst NavigationMenuLink = NavigationMenuPrimitive.Link\n\nconst NavigationMenuViewport = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>\n>(({ className, ...props }, ref) => (\n  <div className={cn(\"absolute left-0 top-full flex justify-center\")}>\n    <NavigationMenuPrimitive.Viewport\n      className={cn(\n        \"origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border border-gray-200 bg-white text-gray-950 shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)] dark:border-gray-800 dark:bg-gray-950 dark:text-gray-50\",\n        className\n      )}\n      ref={ref}\n      {...props}\n    />\n  </div>\n))\nNavigationMenuViewport.displayName =\n  NavigationMenuPrimitive.Viewport.displayName\n\nconst NavigationMenuIndicator = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Indicator\n    ref={ref}\n    className={cn(\n      \"top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in\",\n      className\n    )}\n    {...props}\n  >\n    <div className=\"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-gray-200 shadow-md dark:bg-gray-800\" />\n  </NavigationMenuPrimitive.Indicator>\n))\nNavigationMenuIndicator.displayName =\n  NavigationMenuPrimitive.Indicator.displayName\n\nexport {\n  navigationMenuTriggerStyle,\n  NavigationMenu,\n  NavigationMenuList,\n  NavigationMenuItem,\n  NavigationMenuContent,\n  NavigationMenuTrigger,\n  NavigationMenuLink,\n  NavigationMenuIndicator,\n  NavigationMenuViewport,\n}\n\n`;\nexport const pagination = `import * as React from \"react\"\nimport { ChevronLeft, ChevronRight, MoreHorizontal } from \"lucide-react\"\n\nimport { cn } from \"../../lib/utils\"\nimport { ButtonProps, buttonVariants } from \"./button\"\n\nconst Pagination = ({ className, ...props }: React.ComponentProps<\"nav\">) => (\n  <nav\n    role=\"navigation\"\n    aria-label=\"pagination\"\n    className={cn(\"mx-auto flex w-full justify-center\", className)}\n    {...props}\n  />\n)\nPagination.displayName = \"Pagination\"\n\nconst PaginationContent = React.forwardRef<\n  HTMLUListElement,\n  React.ComponentProps<\"ul\">\n>(({ className, ...props }, ref) => (\n  <ul\n    ref={ref}\n    className={cn(\"flex flex-row items-center gap-1\", className)}\n    {...props}\n  />\n))\nPaginationContent.displayName = \"PaginationContent\"\n\nconst PaginationItem = React.forwardRef<\n  HTMLLIElement,\n  React.ComponentProps<\"li\">\n>(({ className, ...props }, ref) => (\n  <li ref={ref} className={cn(\"\", className)} {...props} />\n))\nPaginationItem.displayName = \"PaginationItem\"\n\ntype PaginationLinkProps = {\n  isActive?: boolean\n} & Pick<ButtonProps, \"size\"> &\n  React.ComponentProps<\"a\">\n\nconst PaginationLink = ({\n  className,\n  isActive,\n  size = \"icon\",\n  ...props\n}: PaginationLinkProps) => (\n  <a\n    aria-current={isActive ? \"page\" : undefined}\n    className={cn(\n      buttonVariants({\n        variant: isActive ? \"outline\" : \"ghost\",\n        size,\n      }),\n      className\n    )}\n    {...props}\n  />\n)\nPaginationLink.displayName = \"PaginationLink\"\n\nconst PaginationPrevious = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to previous page\"\n    size=\"default\"\n    className={cn(\"gap-1 pl-2.5\", className)}\n    {...props}\n  >\n    <ChevronLeft className=\"h-4 w-4\" />\n    <span>Previous</span>\n  </PaginationLink>\n)\nPaginationPrevious.displayName = \"PaginationPrevious\"\n\nconst PaginationNext = ({\n  className,\n  ...props\n}: React.ComponentProps<typeof PaginationLink>) => (\n  <PaginationLink\n    aria-label=\"Go to next page\"\n    size=\"default\"\n    className={cn(\"gap-1 pr-2.5\", className)}\n    {...props}\n  >\n    <span>Next</span>\n    <ChevronRight className=\"h-4 w-4\" />\n  </PaginationLink>\n)\nPaginationNext.displayName = \"PaginationNext\"\n\nconst PaginationEllipsis = ({\n  className,\n  ...props\n}: React.ComponentProps<\"span\">) => (\n  <span\n    aria-hidden\n    className={cn(\"flex h-9 w-9 items-center justify-center\", className)}\n    {...props}\n  >\n    <MoreHorizontal className=\"h-4 w-4\" />\n    <span className=\"sr-only\">More pages</span>\n  </span>\n)\nPaginationEllipsis.displayName = \"PaginationEllipsis\"\n\nexport {\n  Pagination,\n  PaginationContent,\n  PaginationEllipsis,\n  PaginationItem,\n  PaginationLink,\n  PaginationNext,\n  PaginationPrevious,\n}\n\n`;\nexport const popover = `import * as React from \"react\"\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst Popover = PopoverPrimitive.Root\n\nconst PopoverTrigger = PopoverPrimitive.Trigger\n\nconst PopoverContent = React.forwardRef<\n  React.ElementRef<typeof PopoverPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\n  <PopoverPrimitive.Portal>\n    <PopoverPrimitive.Content\n      ref={ref}\n      align={align}\n      sideOffset={sideOffset}\n      className={cn(\n        \"z-50 w-72 rounded-md border border-gray-200 bg-white p-4 text-gray-950 shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-gray-800 dark:bg-gray-950 dark:text-gray-50\",\n        className\n      )}\n      {...props}\n    />\n  </PopoverPrimitive.Portal>\n))\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\n\nexport { Popover, PopoverTrigger, PopoverContent }\n\n`;\nexport const progress = `import * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst Progress = React.forwardRef<\n  React.ElementRef<typeof ProgressPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ProgressPrimitive.Root>\n>(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-4 w-full overflow-hidden rounded-full bg-gray-100 dark:bg-gray-800\",\n      className\n    )}\n    {...props}\n  >\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-gray-900 transition-all dark:bg-gray-50\"\n      style={{ transform: \\`translateX(-\\${100 - (value || 0)}%)\\` }}\n    />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n`;\nexport const radioGroup = `import * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { Circle } from \"lucide-react\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst RadioGroup = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Root\n      className={cn(\"grid gap-2\", className)}\n      {...props}\n      ref={ref}\n    />\n  )\n})\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\n\nconst RadioGroupItem = React.forwardRef<\n  React.ElementRef<typeof RadioGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof RadioGroupPrimitive.Item>\n>(({ className, ...props }, ref) => {\n  return (\n    <RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-gray-200 dark:border-gray-900 text-gray-900 ring-offset-white focus:outline-none focus-visible:ring-2 focus-visible:ring-gray-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50  dark:text-gray-50 dark:ring-offset-gray-950 dark:focus-visible:ring-gray-300\",\n        className\n      )}\n      {...props}\n    >\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-2.5 w-2.5 fill-current text-current\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>\n  )\n})\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\n\nexport { RadioGroup, RadioGroupItem }\n\n`;\nexport const select = `import * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-10 w-full items-center justify-between rounded-md border border-gray-200 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-950 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 dark:border-gray-800 dark:bg-gray-950 dark:ring-offset-gray-950 dark:placeholder:text-gray-400 dark:focus:ring-gray-300\",\n      className\n    )}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\n      \"flex cursor-default items-center justify-center py-1\",\n      className\n    )}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-gray-200 bg-white text-gray-950 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-gray-800 dark:bg-gray-950 dark:text-gray-50\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-gray-100 focus:text-gray-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-gray-800 dark:focus:text-gray-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-gray-100 dark:bg-gray-800\", className)}\n    {...props}\n  />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n\n`;\nexport const separator = `import * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst Separator = React.forwardRef<\n  React.ElementRef<typeof SeparatorPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SeparatorPrimitive.Root>\n>(\n  (\n    { className, orientation = \"horizontal\", decorative = true, ...props },\n    ref\n  ) => (\n    <SeparatorPrimitive.Root\n      ref={ref}\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"shrink-0 bg-gray-200 dark:bg-gray-800\",\n        orientation === \"horizontal\" ? \"h-[1px] w-full\" : \"h-full w-[1px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n)\nSeparator.displayName = SeparatorPrimitive.Root.displayName\n\nexport { Separator }\n\n`;\nexport const skeleton = `import { cn } from \"../../lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-gray-100 dark:bg-gray-800\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n`;\nexport const slider = `import * as React from \"react\"\nimport * as SliderPrimitive from \"@radix-ui/react-slider\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst Slider = React.forwardRef<\n  React.ElementRef<typeof SliderPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof SliderPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <SliderPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative flex w-full touch-none select-none items-center\",\n      className\n    )}\n    {...props}\n  >\n    <SliderPrimitive.Track className=\"relative h-2 w-full grow overflow-hidden rounded-full bg-gray-100 dark:bg-gray-800\">\n      <SliderPrimitive.Range className=\"absolute h-full bg-gray-900 dark:bg-gray-50\" />\n    </SliderPrimitive.Track>\n    <SliderPrimitive.Thumb className=\"block h-5 w-5 rounded-full border-2 border-gray-900 bg-white ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:border-gray-50 dark:bg-gray-950 dark:ring-offset-gray-950 dark:focus-visible:ring-gray-300\" />\n  </SliderPrimitive.Root>\n))\nSlider.displayName = SliderPrimitive.Root.displayName\n\nexport { Slider }\n\n`;\nexport const switchComponent = `import * as React from \"react\"\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst Switch = React.forwardRef<\n  React.ElementRef<typeof SwitchPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\n>(({ className, ...props }, ref) => (\n  <SwitchPrimitives.Root\n    className={cn(\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-950 focus-visible:ring-offset-2 focus-visible:ring-offset-white disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-gray-900 data-[state=unchecked]:bg-gray-200 dark:focus-visible:ring-gray-300 dark:focus-visible:ring-offset-gray-950 dark:data-[state=checked]:bg-gray-50 dark:data-[state=unchecked]:bg-gray-800\",\n      className\n    )}\n    {...props}\n    ref={ref}\n  >\n    <SwitchPrimitives.Thumb\n      className={cn(\n        \"pointer-events-none block h-5 w-5 rounded-full bg-white shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0 dark:bg-gray-950\"\n      )}\n    />\n  </SwitchPrimitives.Root>\n))\nSwitch.displayName = SwitchPrimitives.Root.displayName\n\nexport { Switch }\n\n`;\nexport const table = `import * as React from \"react\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst Table = React.forwardRef<\n  HTMLTableElement,\n  React.HTMLAttributes<HTMLTableElement>\n>(({ className, ...props }, ref) => (\n  <div className=\"relative w-full overflow-auto\">\n    <table\n      ref={ref}\n      className={cn(\"w-full caption-bottom text-sm\", className)}\n      {...props}\n    />\n  </div>\n))\nTable.displayName = \"Table\"\n\nconst TableHeader = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <thead ref={ref} className={cn(\"[&_tr]:border-b\", className)} {...props} />\n))\nTableHeader.displayName = \"TableHeader\"\n\nconst TableBody = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tbody\n    ref={ref}\n    className={cn(\"[&_tr:last-child]:border-0\", className)}\n    {...props}\n  />\n))\nTableBody.displayName = \"TableBody\"\n\nconst TableFooter = React.forwardRef<\n  HTMLTableSectionElement,\n  React.HTMLAttributes<HTMLTableSectionElement>\n>(({ className, ...props }, ref) => (\n  <tfoot\n    ref={ref}\n    className={cn(\n      \"border-t bg-gray-100/50 font-medium [&>tr]:last:border-b-0 dark:bg-gray-800/50\",\n      className\n    )}\n    {...props}\n  />\n))\nTableFooter.displayName = \"TableFooter\"\n\nconst TableRow = React.forwardRef<\n  HTMLTableRowElement,\n  React.HTMLAttributes<HTMLTableRowElement>\n>(({ className, ...props }, ref) => (\n  <tr\n    ref={ref}\n    className={cn(\n      \"border-b transition-colors hover:bg-gray-100/50 data-[state=selected]:bg-gray-100 dark:hover:bg-gray-800/50 dark:data-[state=selected]:bg-gray-800\",\n      className\n    )}\n    {...props}\n  />\n))\nTableRow.displayName = \"TableRow\"\n\nconst TableHead = React.forwardRef<\n  HTMLTableCellElement,\n  React.ThHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <th\n    ref={ref}\n    className={cn(\n      \"h-12 px-4 text-left align-middle font-medium text-gray-500 [&:has([role=checkbox])]:pr-0 dark:text-gray-400\",\n      className\n    )}\n    {...props}\n  />\n))\nTableHead.displayName = \"TableHead\"\n\nconst TableCell = React.forwardRef<\n  HTMLTableCellElement,\n  React.TdHTMLAttributes<HTMLTableCellElement>\n>(({ className, ...props }, ref) => (\n  <td\n    ref={ref}\n    className={cn(\"p-4 align-middle [&:has([role=checkbox])]:pr-0\", className)}\n    {...props}\n  />\n))\nTableCell.displayName = \"TableCell\"\n\nconst TableCaption = React.forwardRef<\n  HTMLTableCaptionElement,\n  React.HTMLAttributes<HTMLTableCaptionElement>\n>(({ className, ...props }, ref) => (\n  <caption\n    ref={ref}\n    className={cn(\"mt-4 text-sm text-gray-500 dark:text-gray-400\", className)}\n    {...props}\n  />\n))\nTableCaption.displayName = \"TableCaption\"\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n\n`;\nexport const tabs = `import * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-10 items-center justify-center rounded-md bg-gray-100 p-1 text-gray-500 dark:bg-gray-800 dark:text-gray-400\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Trigger>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-white data-[state=active]:text-gray-950 data-[state=active]:shadow-sm dark:ring-offset-gray-950 dark:focus-visible:ring-gray-300 dark:data-[state=active]:bg-gray-950 dark:data-[state=active]:text-gray-50\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef<\n  React.ElementRef<typeof TabsPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TabsPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-950 focus-visible:ring-offset-2 dark:ring-offset-gray-950 dark:focus-visible:ring-gray-300\",\n      className\n    )}\n    {...props}\n  />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n\n`;\nexport const textarea = `import * as React from \"react\"\n\nimport { cn } from \"../../lib/utils\"\n\nexport interface TextareaProps\n  extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {}\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(\n  ({ className, ...props }, ref) => {\n    return (\n      <textarea\n        className={cn(\n          \"flex min-h-[80px] w-full rounded-md border border-gray-200 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-gray-800 dark:bg-gray-950 dark:ring-offset-gray-950 dark:placeholder:text-gray-400 dark:focus-visible:ring-gray-300\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n\n`;\nexport const toast = `import * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border border-gray-200 p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full dark:border-gray-800\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-white text-gray-950 dark:bg-gray-950 dark:text-gray-50\",\n        destructive:\n          \"destructive group border-red-500 bg-red-500 text-gray-50 dark:border-red-900 dark:bg-red-900 dark:text-gray-50\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border border-gray-200 bg-transparent px-3 text-sm font-medium ring-offset-white transition-colors hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-950 focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-gray-100/40 group-[.destructive]:hover:border-red-500/30 group-[.destructive]:hover:bg-red-500 group-[.destructive]:hover:text-gray-50 group-[.destructive]:focus:ring-red-500 dark:border-gray-800 dark:ring-offset-gray-950 dark:hover:bg-gray-800 dark:focus:ring-gray-300 dark:group-[.destructive]:border-gray-800/40 dark:group-[.destructive]:hover:border-red-900/30 dark:group-[.destructive]:hover:bg-red-900 dark:group-[.destructive]:hover:text-gray-50 dark:group-[.destructive]:focus:ring-red-900\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-gray-950/50 opacity-0 transition-opacity hover:text-gray-950 focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600 dark:text-gray-50/50 dark:hover:text-gray-50\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n\n`;\nexport const toaster = `import {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"./toast\"\nimport { useToast } from \"./use-toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n\n`;\nexport const toggleGroup = `import * as React from \"react\"\nimport * as ToggleGroupPrimitive from \"@radix-ui/react-toggle-group\"\nimport { type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"../../lib/utils\"\nimport { toggleVariants } from \"./toggle\"\n\nconst ToggleGroupContext = React.createContext<\n  VariantProps<typeof toggleVariants>\n>({\n  size: \"default\",\n  variant: \"default\",\n})\n\nconst ToggleGroup = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, children, ...props }, ref) => (\n  <ToggleGroupPrimitive.Root\n    ref={ref}\n    className={cn(\"flex items-center justify-center gap-1\", className)}\n    {...props}\n  >\n    <ToggleGroupContext.Provider value={{ variant, size }}>\n      {children}\n    </ToggleGroupContext.Provider>\n  </ToggleGroupPrimitive.Root>\n))\n\nToggleGroup.displayName = ToggleGroupPrimitive.Root.displayName\n\nconst ToggleGroupItem = React.forwardRef<\n  React.ElementRef<typeof ToggleGroupPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof ToggleGroupPrimitive.Item> &\n    VariantProps<typeof toggleVariants>\n>(({ className, children, variant, size, ...props }, ref) => {\n  const context = React.useContext(ToggleGroupContext)\n\n  return (\n    <ToggleGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        toggleVariants({\n          variant: context.variant || variant,\n          size: context.size || size,\n        }),\n        className\n      )}\n      {...props}\n    >\n      {children}\n    </ToggleGroupPrimitive.Item>\n  )\n})\n\nToggleGroupItem.displayName = ToggleGroupPrimitive.Item.displayName\n\nexport { ToggleGroup, ToggleGroupItem }\n\n`;\nexport const toggle = `import * as React from \"react\"\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-white transition-colors hover:bg-gray-100 hover:text-gray-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-gray-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-gray-100 data-[state=on]:text-gray-900 dark:ring-offset-gray-950 dark:hover:bg-gray-800 dark:hover:text-gray-400 dark:focus-visible:ring-gray-300 dark:data-[state=on]:bg-gray-800 dark:data-[state=on]:text-gray-50\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline:\n          \"border border-gray-200 bg-transparent hover:bg-gray-100 hover:text-gray-900 dark:border-gray-800 dark:hover:bg-gray-800 dark:hover:text-gray-50\",\n      },\n      size: {\n        default: \"h-10 px-3\",\n        sm: \"h-9 px-2.5\",\n        lg: \"h-11 px-5\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst Toggle = React.forwardRef<\n  React.ElementRef<typeof TogglePrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> &\n    VariantProps<typeof toggleVariants>\n>(({ className, variant, size, ...props }, ref) => (\n  <TogglePrimitive.Root\n    ref={ref}\n    className={cn(toggleVariants({ variant, size, className }))}\n    {...props}\n  />\n))\n\nToggle.displayName = TogglePrimitive.Root.displayName\n\nexport { Toggle, toggleVariants }\n\n`;\nexport const tooltip = `import * as React from \"react\"\nimport * as TooltipPrimitive from \"@radix-ui/react-tooltip\"\n\nimport { cn } from \"../../lib/utils\"\n\nconst TooltipProvider = TooltipPrimitive.Provider\n\nconst Tooltip = TooltipPrimitive.Root\n\nconst TooltipTrigger = TooltipPrimitive.Trigger\n\nconst TooltipContent = React.forwardRef<\n  React.ElementRef<typeof TooltipPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof TooltipPrimitive.Content>\n>(({ className, sideOffset = 4, ...props }, ref) => (\n  <TooltipPrimitive.Content\n    ref={ref}\n    sideOffset={sideOffset}\n    className={cn(\n      \"z-50 overflow-hidden rounded-md border border-gray-200 bg-white px-3 py-1.5 text-sm text-gray-950 shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-gray-800 dark:bg-gray-950 dark:text-gray-50\",\n      className\n    )}\n    {...props}\n  />\n))\nTooltipContent.displayName = TooltipPrimitive.Content.displayName\n\nexport { Tooltip, TooltipTrigger, TooltipContent, TooltipProvider }\n\n`;\nexport const useToast = `import * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"./toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n`;\n\nexport const shadcnComponents = {\n  utils: utils,\n  accordian: accordian,\n  alertDialog: alertDialog,\n  alert: alert,\n  avatar: avatar,\n  badge: badge,\n  breadcrumb: breadcrumb,\n  button: button,\n  calendar: calendar,\n  card: card,\n  carousel: carousel,\n  checkbox: checkbox,\n  collapsible: collapsible,\n  dialog: dialog,\n  drawer: drawer,\n  dropdownMenu: dropdownMenu,\n  hoverCard: hoverCard,\n  input: input,\n  label: label,\n  menuBar: menuBar,\n  navigationMenu: navigationMenu,\n  pagination: pagination,\n  popover: popover,\n  progress: progress,\n  radioGroup: radioGroup,\n  select: select,\n  separator: separator,\n  skeleton: skeleton,\n  slider: slider,\n  switchComponent: switchComponent,\n  table: table,\n  tabs: tabs,\n  textarea: textarea,\n  toast: toast,\n  toaster: toaster,\n  toggleGroup: toggleGroup,\n  toggle: toggle,\n  tooltip: tooltip,\n  useToast: useToast,\n};\n\nexport const essentialShadcnComponents = {\n  utils: utils,\n  avatar: avatar,\n  button: button,\n  card: card,\n  checkbox: checkbox,\n  input: input,\n  label: label,\n  radioGroup: radioGroup,\n  select: select,\n  textarea: textarea,\n  // badge: badge,\n  // dialog: dialog,\n  // table: table,\n};\n","import { z, ZodArray, ZodError, ZodIssueCode } from 'zod';\nimport { tConversationSchema, googleSettings as google, openAISettings as openAI } from './schemas';\nimport type { ZodIssue } from 'zod';\nimport type { TConversation, TSetOption, TPreset } from './schemas';\n\nexport type GoogleSettings = Partial<typeof google>;\nexport type OpenAISettings = Partial<typeof google>;\n\nexport type ComponentType =\n  | 'input'\n  | 'textarea'\n  | 'slider'\n  | 'checkbox'\n  | 'switch'\n  | 'dropdown'\n  | 'combobox'\n  | 'tags';\n\nexport type OptionType = 'conversation' | 'model' | 'custom';\n\nexport type Option = Record<string, unknown> & {\n  label?: string;\n  value: string | number | null;\n};\n\nexport type OptionWithIcon = Option & { icon?: React.ReactNode };\n\nexport enum ComponentTypes {\n  Input = 'input',\n  Textarea = 'textarea',\n  Slider = 'slider',\n  Checkbox = 'checkbox',\n  Switch = 'switch',\n  Dropdown = 'dropdown',\n  Combobox = 'combobox',\n  Tags = 'tags',\n}\n\nexport enum SettingTypes {\n  Number = 'number',\n  Boolean = 'boolean',\n  String = 'string',\n  Enum = 'enum',\n  Array = 'array',\n}\n\nexport enum OptionTypes {\n  Conversation = 'conversation',\n  Model = 'model',\n  Custom = 'custom',\n}\nexport interface SettingDefinition {\n  key: string;\n  description?: string;\n  type: 'number' | 'boolean' | 'string' | 'enum' | 'array';\n  default?: number | boolean | string | string[];\n  showLabel?: boolean;\n  showDefault?: boolean;\n  options?: string[];\n  range?: SettingRange;\n  enumMappings?: Record<string, number | boolean | string>;\n  component: ComponentType;\n  optionType?: OptionType;\n  columnSpan?: number;\n  columns?: number;\n  label?: string;\n  placeholder?: string;\n  labelCode?: boolean;\n  placeholderCode?: boolean;\n  descriptionCode?: boolean;\n  minText?: number;\n  maxText?: number;\n  minTags?: number; // Specific to tags component\n  maxTags?: number; // Specific to tags component\n  includeInput?: boolean; // Specific to slider component\n  descriptionSide?: 'top' | 'right' | 'bottom' | 'left';\n  items?: OptionWithIcon[]; // Specific to combobox component\n  searchPlaceholder?: string; // Specific to combobox component\n  selectPlaceholder?: string; // Specific to combobox component\n  searchPlaceholderCode?: boolean; // Specific to combobox component\n  selectPlaceholderCode?: boolean; // Specific to combobox component\n}\n\nexport type DynamicSettingProps = Partial<SettingDefinition> & {\n  readonly?: boolean;\n  settingKey: string;\n  setOption: TSetOption;\n  conversation: Partial<TConversation> | Partial<TPreset> | null;\n  defaultValue?: number | boolean | string | string[];\n  className?: string;\n  inputClassName?: string;\n};\n\nconst requiredSettingFields = ['key', 'type', 'component'];\n\nexport interface SettingRange {\n  min: number;\n  max: number;\n  step?: number;\n}\n\nexport type SettingsConfiguration = SettingDefinition[];\n\nexport function generateDynamicSchema(settings: SettingsConfiguration) {\n  const schemaFields: { [key: string]: z.ZodTypeAny } = {};\n\n  for (const setting of settings) {\n    const {\n      key,\n      type,\n      default: defaultValue,\n      range,\n      options,\n      minText,\n      maxText,\n      minTags,\n      maxTags,\n    } = setting;\n\n    if (type === SettingTypes.Number) {\n      let schema = z.number();\n      if (range) {\n        schema = schema.min(range.min);\n        schema = schema.max(range.max);\n      }\n      if (typeof defaultValue === 'number') {\n        schemaFields[key] = schema.default(defaultValue);\n      } else {\n        schemaFields[key] = schema;\n      }\n      continue;\n    }\n\n    if (type === SettingTypes.Boolean) {\n      const schema = z.boolean();\n      if (typeof defaultValue === 'boolean') {\n        schemaFields[key] = schema.default(defaultValue);\n      } else {\n        schemaFields[key] = schema;\n      }\n      continue;\n    }\n\n    if (type === SettingTypes.String) {\n      let schema = z.string();\n      if (minText) {\n        schema = schema.min(minText);\n      }\n      if (maxText) {\n        schema = schema.max(maxText);\n      }\n      if (typeof defaultValue === 'string') {\n        schemaFields[key] = schema.default(defaultValue);\n      } else {\n        schemaFields[key] = schema;\n      }\n      continue;\n    }\n\n    if (type === SettingTypes.Enum) {\n      if (!options || options.length === 0) {\n        console.warn(`Missing or empty 'options' for enum setting '${key}'.`);\n        continue;\n      }\n\n      const schema = z.enum(options as [string, ...string[]]);\n      if (typeof defaultValue === 'string') {\n        schemaFields[key] = schema.default(defaultValue);\n      } else {\n        schemaFields[key] = schema;\n      }\n      continue;\n    }\n\n    if (type === SettingTypes.Array) {\n      let schema: z.ZodSchema = z.array(z.string().or(z.number()));\n      if (minTags && schema instanceof ZodArray) {\n        schema = schema.min(minTags);\n      }\n      if (maxTags && schema instanceof ZodArray) {\n        schema = schema.max(maxTags);\n      }\n\n      if (defaultValue && Array.isArray(defaultValue)) {\n        schema = schema.default(defaultValue);\n      }\n\n      schemaFields[key] = schema;\n      continue;\n    }\n\n    console.warn(`Unsupported setting type: ${type}`);\n  }\n\n  return z.object(schemaFields);\n}\n\nconst ZodTypeToSettingType: Record<string, string | undefined> = {\n  ZodString: 'string',\n  ZodNumber: 'number',\n  ZodBoolean: 'boolean',\n};\n\nconst minColumns = 1;\nconst maxColumns = 4;\nconst minSliderOptions = 2;\nconst minDropdownOptions = 2;\nconst minComboboxOptions = 2;\n\n/**\n * Validates the provided setting using the constraints unique to each component type.\n * @throws {ZodError} Throws a ZodError if any validation fails.\n */\nexport function validateSettingDefinitions(settings: SettingsConfiguration): void {\n  const errors: ZodIssue[] = [];\n  // Validate columns\n  const columnsSet = new Set<number>();\n  for (const setting of settings) {\n    if (setting.columns !== undefined) {\n      if (setting.columns < minColumns || setting.columns > maxColumns) {\n        errors.push({\n          code: ZodIssueCode.custom,\n          message: `Invalid columns value for setting ${setting.key}. Must be between ${minColumns} and ${maxColumns}.`,\n          path: ['columns'],\n        });\n      } else {\n        columnsSet.add(setting.columns);\n      }\n    }\n  }\n\n  const columns = columnsSet.size === 1 ? columnsSet.values().next().value : 2;\n\n  for (const setting of settings) {\n    for (const field of requiredSettingFields) {\n      if (setting[field as keyof SettingDefinition] === undefined) {\n        errors.push({\n          code: ZodIssueCode.custom,\n          message: `Missing required field ${field} for setting ${setting.key}.`,\n          path: [field],\n        });\n      }\n    }\n\n    // check accepted types\n    const settingTypes = Object.values(SettingTypes);\n    if (!settingTypes.includes(setting.type as SettingTypes)) {\n      errors.push({\n        code: ZodIssueCode.custom,\n        message: `Invalid type for setting ${setting.key}. Must be one of ${settingTypes.join(\n          ', ',\n        )}.`,\n        path: ['type'],\n      });\n    }\n\n    // Predefined constraints based on components\n    if (\n      (setting.component === ComponentTypes.Tags && setting.type !== SettingTypes.Array) ||\n      (setting.component !== ComponentTypes.Tags && setting.type === SettingTypes.Array)\n    ) {\n      errors.push({\n        code: ZodIssueCode.custom,\n        message: `Tags component for setting ${setting.key} must have type array.`,\n        path: ['type'],\n      });\n    }\n\n    if (setting.component === ComponentTypes.Tags) {\n      if (setting.minTags !== undefined && setting.minTags < 0) {\n        errors.push({\n          code: ZodIssueCode.custom,\n          message: `Invalid minTags value for setting ${setting.key}. Must be non-negative.`,\n          path: ['minTags'],\n        });\n      }\n      if (setting.maxTags !== undefined && setting.maxTags < 0) {\n        errors.push({\n          code: ZodIssueCode.custom,\n          message: `Invalid maxTags value for setting ${setting.key}. Must be non-negative.`,\n          path: ['maxTags'],\n        });\n      }\n      if (setting.default && !Array.isArray(setting.default)) {\n        errors.push({\n          code: ZodIssueCode.custom,\n          message: `Invalid default value for setting ${setting.key}. Must be an array.`,\n          path: ['default'],\n        });\n      }\n      if (setting.default && setting.maxTags && (setting.default as []).length > setting.maxTags) {\n        errors.push({\n          code: ZodIssueCode.custom,\n          message: `Invalid default value for setting ${setting.key}. Must have at most ${setting.maxTags} tags.`,\n          path: ['default'],\n        });\n      }\n      if (setting.default && setting.minTags && (setting.default as []).length < setting.minTags) {\n        errors.push({\n          code: ZodIssueCode.custom,\n          message: `Invalid default value for setting ${setting.key}. Must have at least ${setting.minTags} tags.`,\n          path: ['default'],\n        });\n      }\n      if (!setting.default) {\n        setting.default = [];\n      }\n    }\n\n    if (\n      setting.component === ComponentTypes.Input ||\n      setting.component === ComponentTypes.Textarea\n    ) {\n      if (setting.type === SettingTypes.Number && setting.component === ComponentTypes.Textarea) {\n        errors.push({\n          code: ZodIssueCode.custom,\n          message: `Textarea component for setting ${setting.key} must have type string.`,\n          path: ['type'],\n        });\n        // continue;\n      }\n\n      if (\n        setting.minText !== undefined &&\n        setting.maxText !== undefined &&\n        setting.minText > setting.maxText\n      ) {\n        errors.push({\n          code: ZodIssueCode.custom,\n          message: `For setting ${setting.key}, minText cannot be greater than maxText.`,\n          path: [setting.key, 'minText', 'maxText'],\n        });\n        // continue;\n      }\n      if (!setting.placeholder) {\n        setting.placeholder = '';\n      } // Default placeholder\n    }\n\n    if (setting.component === ComponentTypes.Slider) {\n      if (setting.type === SettingTypes.Number && !setting.range) {\n        errors.push({\n          code: ZodIssueCode.custom,\n          message: `Slider component for setting ${setting.key} must have a range if type is number.`,\n          path: ['range'],\n        });\n        // continue;\n      }\n      if (\n        setting.type === SettingTypes.Enum &&\n        (!setting.options || setting.options.length < minSliderOptions)\n      ) {\n        errors.push({\n          code: ZodIssueCode.custom,\n          message: `Slider component for setting ${setting.key} requires at least ${minSliderOptions} options for enum type.`,\n          path: ['options'],\n        });\n        // continue;\n      }\n      setting.includeInput =\n        setting.type === SettingTypes.Number ? (setting.includeInput ?? true) : false; // Default to true if type is number\n    }\n\n    if (setting.component === ComponentTypes.Slider && setting.type === SettingTypes.Number) {\n      if (setting.default === undefined && setting.range) {\n        // Set default to the middle of the range if unspecified\n        setting.default = Math.round((setting.range.min + setting.range.max) / 2);\n      }\n    }\n\n    if (\n      setting.component === ComponentTypes.Checkbox ||\n      setting.component === ComponentTypes.Switch\n    ) {\n      if (setting.options && setting.options.length > 2) {\n        errors.push({\n          code: ZodIssueCode.custom,\n          message: `Checkbox/Switch component for setting ${setting.key} must have 1-2 options.`,\n          path: ['options'],\n        });\n        // continue;\n      }\n      if (!setting.default && setting.type === SettingTypes.Boolean) {\n        setting.default = false; // Default to false if type is boolean\n      }\n    }\n\n    if (setting.component === ComponentTypes.Dropdown) {\n      if (!setting.options || setting.options.length < minDropdownOptions) {\n        errors.push({\n          code: ZodIssueCode.custom,\n          message: `Dropdown component for setting ${setting.key} requires at least ${minDropdownOptions} options.`,\n          path: ['options'],\n        });\n        // continue;\n      }\n      if (!setting.default && setting.options && setting.options.length > 0) {\n        setting.default = setting.options[0]; // Default to first option if not specified\n      }\n    }\n\n    if (setting.component === ComponentTypes.Combobox) {\n      if (!setting.options || setting.options.length < minComboboxOptions) {\n        errors.push({\n          code: ZodIssueCode.custom,\n          message: `Combobox component for setting ${setting.key} requires at least ${minComboboxOptions} options.`,\n          path: ['options'],\n        });\n      }\n      if (!setting.default && setting.options && setting.options.length > 0) {\n        setting.default = setting.options[0];\n      }\n    }\n\n    // Default columnSpan\n    if (!setting.columnSpan) {\n      setting.columnSpan = Math.floor((columns ?? 0) / 2);\n    }\n\n    // Default label to key\n    if (!setting.label) {\n      setting.label = setting.key;\n    }\n\n    // Validate minText and maxText for input/textarea\n    if (\n      setting.component === ComponentTypes.Input ||\n      setting.component === ComponentTypes.Textarea\n    ) {\n      if (setting.minText !== undefined && setting.minText < 0) {\n        errors.push({\n          code: ZodIssueCode.custom,\n          message: `Invalid minText value for setting ${setting.key}. Must be non-negative.`,\n          path: ['minText'],\n        });\n      }\n      if (setting.maxText !== undefined && setting.maxText < 0) {\n        errors.push({\n          code: ZodIssueCode.custom,\n          message: `Invalid maxText value for setting ${setting.key}. Must be non-negative.`,\n          path: ['maxText'],\n        });\n      }\n    }\n\n    // Validate optionType and conversation schema\n    if (setting.optionType !== OptionTypes.Custom) {\n      const conversationSchema =\n        tConversationSchema.shape[setting.key as keyof Omit<TConversation, 'disableParams'>];\n      if (!conversationSchema) {\n        errors.push({\n          code: ZodIssueCode.custom,\n          message: `Setting ${setting.key} with optionType \"${setting.optionType}\" must be defined in tConversationSchema.`,\n          path: ['optionType'],\n        });\n      } else {\n        const zodType = conversationSchema._def.typeName;\n        const settingTypeEquivalent = ZodTypeToSettingType[zodType] || null;\n        if (settingTypeEquivalent !== setting.type) {\n          errors.push({\n            code: ZodIssueCode.custom,\n            message: `Setting ${setting.key} with optionType \"${setting.optionType}\" must match the type defined in tConversationSchema.`,\n            path: ['optionType'],\n          });\n        }\n      }\n    }\n\n    /* Default value checks */\n    if (\n      setting.type === SettingTypes.Number &&\n      isNaN(setting.default as number) &&\n      setting.default != null\n    ) {\n      errors.push({\n        code: ZodIssueCode.custom,\n        message: `Invalid default value for setting ${setting.key}. Must be a number.`,\n        path: ['default'],\n      });\n    }\n\n    if (\n      setting.type === SettingTypes.Boolean &&\n      typeof setting.default !== 'boolean' &&\n      setting.default != null\n    ) {\n      errors.push({\n        code: ZodIssueCode.custom,\n        message: `Invalid default value for setting ${setting.key}. Must be a boolean.`,\n        path: ['default'],\n      });\n    }\n\n    if (\n      (setting.type === SettingTypes.String || setting.type === SettingTypes.Enum) &&\n      typeof setting.default !== 'string' &&\n      setting.default != null\n    ) {\n      errors.push({\n        code: ZodIssueCode.custom,\n        message: `Invalid default value for setting ${setting.key}. Must be a string.`,\n        path: ['default'],\n      });\n    }\n\n    if (\n      setting.type === SettingTypes.Enum &&\n      setting.options &&\n      !setting.options.includes(setting.default as string)\n    ) {\n      errors.push({\n        code: ZodIssueCode.custom,\n        message: `Invalid default value for setting ${\n          setting.key\n        }. Must be one of the options: [${setting.options.join(', ')}].`,\n        path: ['default'],\n      });\n    }\n\n    if (\n      setting.type === SettingTypes.Number &&\n      setting.range &&\n      typeof setting.default === 'number' &&\n      (setting.default < setting.range.min || setting.default > setting.range.max)\n    ) {\n      errors.push({\n        code: ZodIssueCode.custom,\n        message: `Invalid default value for setting ${setting.key}. Must be within the range [${setting.range.min}, ${setting.range.max}].`,\n        path: ['default'],\n      });\n    }\n\n    // Validate enumMappings\n    if (setting.enumMappings && setting.type === SettingTypes.Enum && setting.options) {\n      for (const option of setting.options) {\n        if (!(option in setting.enumMappings)) {\n          errors.push({\n            code: ZodIssueCode.custom,\n            message: `Missing enumMapping for option \"${option}\" in setting ${setting.key}.`,\n            path: ['enumMappings'],\n          });\n        }\n      }\n    }\n  }\n\n  if (errors.length > 0) {\n    throw new ZodError(errors);\n  }\n}\n\nexport const generateOpenAISchema = (customOpenAI: OpenAISettings) => {\n  const defaults = { ...openAI, ...customOpenAI };\n  return tConversationSchema\n    .pick({\n      model: true,\n      chatGptLabel: true,\n      promptPrefix: true,\n      temperature: true,\n      top_p: true,\n      presence_penalty: true,\n      frequency_penalty: true,\n      resendFiles: true,\n      imageDetail: true,\n      maxContextTokens: true,\n    })\n    .transform((obj) => ({\n      ...obj,\n      model: obj.model ?? defaults.model.default,\n      chatGptLabel: obj.chatGptLabel ?? null,\n      promptPrefix: obj.promptPrefix ?? null,\n      temperature: obj.temperature ?? defaults.temperature.default,\n      top_p: obj.top_p ?? defaults.top_p.default,\n      presence_penalty: obj.presence_penalty ?? defaults.presence_penalty.default,\n      frequency_penalty: obj.frequency_penalty ?? defaults.frequency_penalty.default,\n      resendFiles:\n        typeof obj.resendFiles === 'boolean' ? obj.resendFiles : defaults.resendFiles.default,\n      imageDetail: obj.imageDetail ?? defaults.imageDetail.default,\n      maxContextTokens: obj.maxContextTokens ?? undefined,\n    }))\n    .catch(() => ({\n      model: defaults.model.default,\n      chatGptLabel: null,\n      promptPrefix: null,\n      temperature: defaults.temperature.default,\n      top_p: defaults.top_p.default,\n      presence_penalty: defaults.presence_penalty.default,\n      frequency_penalty: defaults.frequency_penalty.default,\n      resendFiles: defaults.resendFiles.default,\n      imageDetail: defaults.imageDetail.default,\n      maxContextTokens: undefined,\n    }));\n};\n\nexport const generateGoogleSchema = (customGoogle: GoogleSettings) => {\n  const defaults = { ...google, ...customGoogle };\n  return tConversationSchema\n    .pick({\n      model: true,\n      modelLabel: true,\n      promptPrefix: true,\n      examples: true,\n      temperature: true,\n      maxOutputTokens: true,\n      topP: true,\n      topK: true,\n      maxContextTokens: true,\n    })\n    .transform((obj) => {\n      return {\n        ...obj,\n        model: obj.model ?? defaults.model.default,\n        modelLabel: obj.modelLabel ?? null,\n        promptPrefix: obj.promptPrefix ?? null,\n        examples: obj.examples ?? [{ input: { content: '' }, output: { content: '' } }],\n        temperature: obj.temperature ?? defaults.temperature.default,\n        maxOutputTokens: obj.maxOutputTokens ?? defaults.maxOutputTokens.default,\n        topP: obj.topP ?? defaults.topP.default,\n        topK: obj.topK ?? defaults.topK.default,\n        maxContextTokens: obj.maxContextTokens ?? undefined,\n      };\n    })\n    .catch(() => ({\n      model: defaults.model.default,\n      modelLabel: null,\n      promptPrefix: null,\n      examples: [{ input: { content: '' }, output: { content: '' } }],\n      temperature: defaults.temperature.default,\n      maxOutputTokens: defaults.maxOutputTokens.default,\n      topP: defaults.topP.default,\n      topK: defaults.topK.default,\n      maxContextTokens: undefined,\n    }));\n};\n","import { z } from 'zod';\n\n/**\n * Enum for Permission Types\n */\nexport enum PermissionTypes {\n  /**\n   * Type for Prompt Permissions\n   */\n  PROMPTS = 'PROMPTS',\n  /**\n   * Type for Bookmark Permissions\n   */\n  BOOKMARKS = 'BOOKMARKS',\n  /**\n   * Type for Agent Permissions\n   */\n  AGENTS = 'AGENTS',\n  /**\n   * Type for Memory Permissions\n   */\n  MEMORIES = 'MEMORIES',\n  /**\n   * Type for Multi-Conversation Permissions\n   */\n  MULTI_CONVO = 'MULTI_CONVO',\n  /**\n   * Type for Temporary Chat\n   */\n  TEMPORARY_CHAT = 'TEMPORARY_CHAT',\n  /**\n   * Type for using the \"Run Code\" LC Code Interpreter API feature\n   */\n  RUN_CODE = 'RUN_CODE',\n  /**\n   * Type for using the \"Web Search\" feature\n   */\n  WEB_SEARCH = 'WEB_SEARCH',\n  /**\n   * Type for People Picker Permissions\n   */\n  PEOPLE_PICKER = 'PEOPLE_PICKER',\n  /**\n   * Type for Marketplace Permissions\n   */\n  MARKETPLACE = 'MARKETPLACE',\n  /**\n   * Type for using the \"File Search\" feature\n   */\n  FILE_SEARCH = 'FILE_SEARCH',\n  /**\n   * Type for using the \"File Citations\" feature in agents\n   */\n  FILE_CITATIONS = 'FILE_CITATIONS',\n  /**\n   * Type for MCP Server Permissions\n   */\n  MCP_SERVERS = 'MCP_SERVERS',\n}\n\n/**\n * Enum for Role-Based Access Control Constants\n */\nexport enum Permissions {\n  SHARED_GLOBAL = 'SHARED_GLOBAL',\n  USE = 'USE',\n  CREATE = 'CREATE',\n  UPDATE = 'UPDATE',\n  READ = 'READ',\n  READ_AUTHOR = 'READ_AUTHOR',\n  SHARE = 'SHARE',\n  /** Can disable if desired */\n  OPT_OUT = 'OPT_OUT',\n  VIEW_USERS = 'VIEW_USERS',\n  VIEW_GROUPS = 'VIEW_GROUPS',\n  VIEW_ROLES = 'VIEW_ROLES',\n}\n\nexport const promptPermissionsSchema = z.object({\n  [Permissions.SHARED_GLOBAL]: z.boolean().default(false),\n  [Permissions.USE]: z.boolean().default(true),\n  [Permissions.CREATE]: z.boolean().default(true),\n  // [Permissions.SHARE]: z.boolean().default(false),\n});\nexport type TPromptPermissions = z.infer<typeof promptPermissionsSchema>;\n\nexport const bookmarkPermissionsSchema = z.object({\n  [Permissions.USE]: z.boolean().default(true),\n});\nexport type TBookmarkPermissions = z.infer<typeof bookmarkPermissionsSchema>;\n\nexport const memoryPermissionsSchema = z.object({\n  [Permissions.USE]: z.boolean().default(true),\n  [Permissions.CREATE]: z.boolean().default(true),\n  [Permissions.UPDATE]: z.boolean().default(true),\n  [Permissions.READ]: z.boolean().default(true),\n  [Permissions.OPT_OUT]: z.boolean().default(true),\n});\nexport type TMemoryPermissions = z.infer<typeof memoryPermissionsSchema>;\n\nexport const agentPermissionsSchema = z.object({\n  [Permissions.SHARED_GLOBAL]: z.boolean().default(false),\n  [Permissions.USE]: z.boolean().default(true),\n  [Permissions.CREATE]: z.boolean().default(true),\n  // [Permissions.SHARE]: z.boolean().default(false),\n});\nexport type TAgentPermissions = z.infer<typeof agentPermissionsSchema>;\n\nexport const multiConvoPermissionsSchema = z.object({\n  [Permissions.USE]: z.boolean().default(true),\n});\nexport type TMultiConvoPermissions = z.infer<typeof multiConvoPermissionsSchema>;\n\nexport const temporaryChatPermissionsSchema = z.object({\n  [Permissions.USE]: z.boolean().default(true),\n});\nexport type TTemporaryChatPermissions = z.infer<typeof temporaryChatPermissionsSchema>;\n\nexport const runCodePermissionsSchema = z.object({\n  [Permissions.USE]: z.boolean().default(true),\n});\nexport type TRunCodePermissions = z.infer<typeof runCodePermissionsSchema>;\n\nexport const webSearchPermissionsSchema = z.object({\n  [Permissions.USE]: z.boolean().default(true),\n});\nexport type TWebSearchPermissions = z.infer<typeof webSearchPermissionsSchema>;\n\nexport const peoplePickerPermissionsSchema = z.object({\n  [Permissions.VIEW_USERS]: z.boolean().default(true),\n  [Permissions.VIEW_GROUPS]: z.boolean().default(true),\n  [Permissions.VIEW_ROLES]: z.boolean().default(true),\n});\nexport type TPeoplePickerPermissions = z.infer<typeof peoplePickerPermissionsSchema>;\n\nexport const marketplacePermissionsSchema = z.object({\n  [Permissions.USE]: z.boolean().default(false),\n});\nexport type TMarketplacePermissions = z.infer<typeof marketplacePermissionsSchema>;\n\nexport const fileSearchPermissionsSchema = z.object({\n  [Permissions.USE]: z.boolean().default(true),\n});\nexport type TFileSearchPermissions = z.infer<typeof fileSearchPermissionsSchema>;\n\nexport const fileCitationsPermissionsSchema = z.object({\n  [Permissions.USE]: z.boolean().default(true),\n});\nexport type TFileCitationsPermissions = z.infer<typeof fileCitationsPermissionsSchema>;\n\nexport const mcpServersPermissionsSchema = z.object({\n  [Permissions.USE]: z.boolean().default(true),\n  [Permissions.CREATE]: z.boolean().default(true),\n  [Permissions.SHARE]: z.boolean().default(false),\n});\nexport type TMcpServersPermissions = z.infer<typeof mcpServersPermissionsSchema>;\n\n// Define a single permissions schema that holds all permission types.\nexport const permissionsSchema = z.object({\n  [PermissionTypes.PROMPTS]: promptPermissionsSchema,\n  [PermissionTypes.BOOKMARKS]: bookmarkPermissionsSchema,\n  [PermissionTypes.MEMORIES]: memoryPermissionsSchema,\n  [PermissionTypes.AGENTS]: agentPermissionsSchema,\n  [PermissionTypes.MULTI_CONVO]: multiConvoPermissionsSchema,\n  [PermissionTypes.TEMPORARY_CHAT]: temporaryChatPermissionsSchema,\n  [PermissionTypes.RUN_CODE]: runCodePermissionsSchema,\n  [PermissionTypes.WEB_SEARCH]: webSearchPermissionsSchema,\n  [PermissionTypes.PEOPLE_PICKER]: peoplePickerPermissionsSchema,\n  [PermissionTypes.MARKETPLACE]: marketplacePermissionsSchema,\n  [PermissionTypes.FILE_SEARCH]: fileSearchPermissionsSchema,\n  [PermissionTypes.FILE_CITATIONS]: fileCitationsPermissionsSchema,\n  [PermissionTypes.MCP_SERVERS]: mcpServersPermissionsSchema,\n});\n","import { z } from 'zod';\nimport {\n  Permissions,\n  PermissionTypes,\n  permissionsSchema,\n  agentPermissionsSchema,\n  promptPermissionsSchema,\n  memoryPermissionsSchema,\n  runCodePermissionsSchema,\n  bookmarkPermissionsSchema,\n  webSearchPermissionsSchema,\n  fileSearchPermissionsSchema,\n  multiConvoPermissionsSchema,\n  temporaryChatPermissionsSchema,\n  peoplePickerPermissionsSchema,\n  fileCitationsPermissionsSchema,\n  mcpServersPermissionsSchema,\n} from './permissions';\n\n/**\n * Enum for System Defined Roles\n */\nexport enum SystemRoles {\n  /**\n   * The Admin role\n   */\n  ADMIN = 'ADMIN',\n  /**\n   * The default user role\n   */\n  USER = 'USER',\n}\n\nexport const roleSchema = z.object({\n  name: z.string(),\n  permissions: permissionsSchema,\n});\n\nexport type TRole = z.infer<typeof roleSchema>;\n\nconst defaultRolesSchema = z.object({\n  [SystemRoles.ADMIN]: roleSchema.extend({\n    name: z.literal(SystemRoles.ADMIN),\n    permissions: permissionsSchema.extend({\n      [PermissionTypes.PROMPTS]: promptPermissionsSchema.extend({\n        [Permissions.SHARED_GLOBAL]: z.boolean().default(true),\n        [Permissions.USE]: z.boolean().default(true),\n        [Permissions.CREATE]: z.boolean().default(true),\n        // [Permissions.SHARE]: z.boolean().default(true),\n      }),\n      [PermissionTypes.BOOKMARKS]: bookmarkPermissionsSchema.extend({\n        [Permissions.USE]: z.boolean().default(true),\n      }),\n      [PermissionTypes.MEMORIES]: memoryPermissionsSchema.extend({\n        [Permissions.USE]: z.boolean().default(true),\n        [Permissions.CREATE]: z.boolean().default(true),\n        [Permissions.UPDATE]: z.boolean().default(true),\n        [Permissions.READ]: z.boolean().default(true),\n        [Permissions.OPT_OUT]: z.boolean().default(true),\n      }),\n      [PermissionTypes.AGENTS]: agentPermissionsSchema.extend({\n        [Permissions.SHARED_GLOBAL]: z.boolean().default(true),\n        [Permissions.USE]: z.boolean().default(true),\n        [Permissions.CREATE]: z.boolean().default(true),\n        // [Permissions.SHARE]: z.boolean().default(true),\n      }),\n      [PermissionTypes.MULTI_CONVO]: multiConvoPermissionsSchema.extend({\n        [Permissions.USE]: z.boolean().default(true),\n      }),\n      [PermissionTypes.TEMPORARY_CHAT]: temporaryChatPermissionsSchema.extend({\n        [Permissions.USE]: z.boolean().default(true),\n      }),\n      [PermissionTypes.RUN_CODE]: runCodePermissionsSchema.extend({\n        [Permissions.USE]: z.boolean().default(true),\n      }),\n      [PermissionTypes.WEB_SEARCH]: webSearchPermissionsSchema.extend({\n        [Permissions.USE]: z.boolean().default(true),\n      }),\n      [PermissionTypes.PEOPLE_PICKER]: peoplePickerPermissionsSchema.extend({\n        [Permissions.VIEW_USERS]: z.boolean().default(true),\n        [Permissions.VIEW_GROUPS]: z.boolean().default(true),\n        [Permissions.VIEW_ROLES]: z.boolean().default(true),\n      }),\n      [PermissionTypes.MARKETPLACE]: z.object({\n        [Permissions.USE]: z.boolean().default(false),\n      }),\n      [PermissionTypes.FILE_SEARCH]: fileSearchPermissionsSchema.extend({\n        [Permissions.USE]: z.boolean().default(true),\n      }),\n      [PermissionTypes.FILE_CITATIONS]: fileCitationsPermissionsSchema.extend({\n        [Permissions.USE]: z.boolean().default(true),\n      }),\n      [PermissionTypes.MCP_SERVERS]: mcpServersPermissionsSchema.extend({\n        [Permissions.USE]: z.boolean().default(true),\n        [Permissions.CREATE]: z.boolean().default(true),\n        [Permissions.SHARE]: z.boolean().default(true),\n      }),\n    }),\n  }),\n  [SystemRoles.USER]: roleSchema.extend({\n    name: z.literal(SystemRoles.USER),\n    permissions: permissionsSchema,\n  }),\n});\n\nexport const roleDefaults = defaultRolesSchema.parse({\n  [SystemRoles.ADMIN]: {\n    name: SystemRoles.ADMIN,\n    permissions: {\n      [PermissionTypes.PROMPTS]: {\n        [Permissions.SHARED_GLOBAL]: true,\n        [Permissions.USE]: true,\n        [Permissions.CREATE]: true,\n      },\n      [PermissionTypes.BOOKMARKS]: {\n        [Permissions.USE]: true,\n      },\n      [PermissionTypes.MEMORIES]: {\n        [Permissions.USE]: true,\n        [Permissions.CREATE]: true,\n        [Permissions.UPDATE]: true,\n        [Permissions.READ]: true,\n        [Permissions.OPT_OUT]: true,\n      },\n      [PermissionTypes.AGENTS]: {\n        [Permissions.SHARED_GLOBAL]: true,\n        [Permissions.USE]: true,\n        [Permissions.CREATE]: true,\n      },\n      [PermissionTypes.MULTI_CONVO]: {\n        [Permissions.USE]: true,\n      },\n      [PermissionTypes.TEMPORARY_CHAT]: {\n        [Permissions.USE]: true,\n      },\n      [PermissionTypes.RUN_CODE]: {\n        [Permissions.USE]: true,\n      },\n      [PermissionTypes.WEB_SEARCH]: {\n        [Permissions.USE]: true,\n      },\n      [PermissionTypes.PEOPLE_PICKER]: {\n        [Permissions.VIEW_USERS]: true,\n        [Permissions.VIEW_GROUPS]: true,\n        [Permissions.VIEW_ROLES]: true,\n      },\n      [PermissionTypes.MARKETPLACE]: {\n        [Permissions.USE]: true,\n      },\n      [PermissionTypes.FILE_SEARCH]: {\n        [Permissions.USE]: true,\n      },\n      [PermissionTypes.FILE_CITATIONS]: {\n        [Permissions.USE]: true,\n      },\n      [PermissionTypes.MCP_SERVERS]: {\n        [Permissions.USE]: true,\n        [Permissions.CREATE]: true,\n        [Permissions.SHARE]: true,\n      },\n    },\n  },\n  [SystemRoles.USER]: {\n    name: SystemRoles.USER,\n    permissions: {\n      [PermissionTypes.PROMPTS]: {},\n      [PermissionTypes.BOOKMARKS]: {},\n      [PermissionTypes.MEMORIES]: {},\n      [PermissionTypes.AGENTS]: {},\n      [PermissionTypes.MULTI_CONVO]: {},\n      [PermissionTypes.TEMPORARY_CHAT]: {},\n      [PermissionTypes.RUN_CODE]: {},\n      [PermissionTypes.WEB_SEARCH]: {},\n      [PermissionTypes.PEOPLE_PICKER]: {\n        [Permissions.VIEW_USERS]: false,\n        [Permissions.VIEW_GROUPS]: false,\n        [Permissions.VIEW_ROLES]: false,\n      },\n      [PermissionTypes.MARKETPLACE]: {\n        [Permissions.USE]: false,\n      },\n      [PermissionTypes.FILE_SEARCH]: {},\n      [PermissionTypes.FILE_CITATIONS]: {},\n      [PermissionTypes.MCP_SERVERS]: {},\n    },\n  },\n});\n","import type { Logger as WinstonLogger } from 'winston';\nimport type { RunnableConfig } from '@langchain/core/runnables';\n\nexport type SearchRefType = 'search' | 'image' | 'news' | 'video' | 'ref';\n\nexport enum DATE_RANGE {\n  PAST_HOUR = 'h',\n  PAST_24_HOURS = 'd',\n  PAST_WEEK = 'w',\n  PAST_MONTH = 'm',\n  PAST_YEAR = 'y',\n}\n\nexport type SearchProvider = 'serper' | 'searxng';\nexport type RerankerType = 'infinity' | 'jina' | 'cohere' | 'none';\n\nexport interface Highlight {\n  score: number;\n  text: string;\n  references?: UsedReferences;\n}\n\nexport type ProcessedSource = {\n  content?: string;\n  attribution?: string;\n  references?: References;\n  highlights?: Highlight[];\n  processed?: boolean;\n};\n\nexport type ProcessedOrganic = OrganicResult & ProcessedSource;\nexport type ProcessedTopStory = TopStoryResult & ProcessedSource;\nexport type ValidSource = ProcessedOrganic | ProcessedTopStory;\n\nexport type ResultReference = {\n  link: string;\n  type: 'link' | 'image' | 'video' | 'file';\n  title?: string;\n  attribution?: string;\n};\nexport interface SearchResultData {\n  turn?: number;\n  organic?: ProcessedOrganic[];\n  topStories?: ProcessedTopStory[];\n  images?: ImageResult[];\n  videos?: VideoResult[];\n  places?: PlaceResult[];\n  news?: NewsResult[];\n  shopping?: ShoppingResult[];\n  knowledgeGraph?: KnowledgeGraphResult;\n  answerBox?: AnswerBoxResult;\n  peopleAlsoAsk?: PeopleAlsoAskResult[];\n  relatedSearches?: Array<{ query: string }>;\n  references?: ResultReference[];\n  error?: string;\n}\n\nexport interface SearchResult {\n  data?: SearchResultData;\n  error?: string;\n  success: boolean;\n}\n\nexport interface Source {\n  link: string;\n  html?: string;\n  title?: string;\n  snippet?: string;\n  date?: string;\n}\n\nexport interface SearchConfig {\n  searchProvider?: SearchProvider;\n  serperApiKey?: string;\n  searxngInstanceUrl?: string;\n  searxngApiKey?: string;\n}\n\nexport type References = {\n  links: MediaReference[];\n  images: MediaReference[];\n  videos: MediaReference[];\n};\nexport interface ScrapeResult {\n  url: string;\n  error?: boolean;\n  content: string;\n  attribution?: string;\n  references?: References;\n  highlights?: Highlight[];\n}\n\nexport interface ProcessSourcesConfig {\n  topResults?: number;\n  strategies?: string[];\n  filterContent?: boolean;\n  reranker?: unknown;\n  logger?: Logger;\n}\n\nexport interface FirecrawlConfig {\n  firecrawlApiKey?: string;\n  firecrawlApiUrl?: string;\n  firecrawlOptions?: {\n    formats?: string[];\n    includeTags?: string[];\n    excludeTags?: string[];\n    headers?: Record<string, string>;\n    waitFor?: number;\n    timeout?: number;\n    maxAge?: number;\n    mobile?: boolean;\n    skipTlsVerification?: boolean;\n    blockAds?: boolean;\n    removeBase64Images?: boolean;\n    parsePDF?: boolean;\n    storeInCache?: boolean;\n    zeroDataRetention?: boolean;\n    location?: {\n      country?: string;\n      languages?: string[];\n    };\n    onlyMainContent?: boolean;\n    changeTrackingOptions?: {\n      modes?: string[];\n      schema?: Record<string, unknown>;\n      prompt?: string;\n      tag?: string | null;\n    };\n  };\n}\n\nexport interface ScraperContentResult {\n  content: string;\n}\n\nexport interface ScraperExtractionResult {\n  no_extraction: ScraperContentResult;\n}\n\nexport interface JinaRerankerResult {\n  index: number;\n  relevance_score: number;\n  document?: string | { text: string };\n}\n\nexport interface JinaRerankerResponse {\n  model: string;\n  usage: {\n    total_tokens: number;\n  };\n  results: JinaRerankerResult[];\n}\n\nexport interface CohereRerankerResult {\n  index: number;\n  relevance_score: number;\n}\n\nexport interface CohereRerankerResponse {\n  results: CohereRerankerResult[];\n  id: string;\n  meta: {\n    api_version: {\n      version: string;\n      is_experimental: boolean;\n    };\n    billed_units: {\n      search_units: number;\n    };\n  };\n}\n\nexport type SafeSearchLevel = 0 | 1 | 2;\n\nexport type Logger = WinstonLogger;\nexport interface SearchToolConfig extends SearchConfig, ProcessSourcesConfig, FirecrawlConfig {\n  logger?: Logger;\n  safeSearch?: SafeSearchLevel;\n  jinaApiKey?: string;\n  jinaApiUrl?: string;\n  cohereApiKey?: string;\n  rerankerType?: RerankerType;\n  onSearchResults?: (results: SearchResult, runnableConfig?: RunnableConfig) => void;\n  onGetHighlights?: (link: string) => void;\n}\nexport interface MediaReference {\n  originalUrl: string;\n  title?: string;\n  text?: string;\n}\n\nexport type UsedReferences = {\n  type: 'link' | 'image' | 'video';\n  originalIndex: number;\n  reference: MediaReference;\n}[];\n\n/** Firecrawl */\n\nexport interface FirecrawlScrapeOptions {\n  formats?: string[];\n  includeTags?: string[];\n  excludeTags?: string[];\n  headers?: Record<string, string>;\n  waitFor?: number;\n  timeout?: number;\n}\n\nexport interface ScrapeMetadata {\n  // Core source information\n  sourceURL?: string;\n  url?: string;\n  scrapeId?: string;\n  statusCode?: number;\n  // Basic metadata\n  title?: string;\n  description?: string;\n  language?: string;\n  favicon?: string;\n  viewport?: string;\n  robots?: string;\n  'theme-color'?: string;\n  // Open Graph metadata\n  'og:url'?: string;\n  'og:title'?: string;\n  'og:description'?: string;\n  'og:type'?: string;\n  'og:image'?: string;\n  'og:image:width'?: string;\n  'og:image:height'?: string;\n  'og:site_name'?: string;\n  ogUrl?: string;\n  ogTitle?: string;\n  ogDescription?: string;\n  ogImage?: string;\n  ogSiteName?: string;\n  // Article metadata\n  'article:author'?: string;\n  'article:published_time'?: string;\n  'article:modified_time'?: string;\n  'article:section'?: string;\n  'article:tag'?: string;\n  'article:publisher'?: string;\n  publishedTime?: string;\n  modifiedTime?: string;\n  // Twitter metadata\n  'twitter:site'?: string | boolean | number | null;\n  'twitter:creator'?: string;\n  'twitter:card'?: string;\n  'twitter:image'?: string;\n  'twitter:dnt'?: string;\n  'twitter:app:name:iphone'?: string;\n  'twitter:app:id:iphone'?: string;\n  'twitter:app:url:iphone'?: string;\n  'twitter:app:name:ipad'?: string;\n  'twitter:app:id:ipad'?: string;\n  'twitter:app:url:ipad'?: string;\n  'twitter:app:name:googleplay'?: string;\n  'twitter:app:id:googleplay'?: string;\n  'twitter:app:url:googleplay'?: string;\n  // Facebook metadata\n  'fb:app_id'?: string;\n  // App links\n  'al:ios:url'?: string;\n  'al:ios:app_name'?: string;\n  'al:ios:app_store_id'?: string;\n  // Allow for additional properties that might be present\n  [key: string]: string | number | boolean | null | undefined;\n}\n\nexport interface FirecrawlScrapeResponse {\n  success: boolean;\n  data?: {\n    markdown?: string;\n    html?: string;\n    rawHtml?: string;\n    screenshot?: string;\n    links?: string[];\n    metadata?: ScrapeMetadata;\n  };\n  error?: string;\n}\n\nexport interface FirecrawlScraperConfig {\n  apiKey?: string;\n  apiUrl?: string;\n  formats?: string[];\n  timeout?: number;\n  logger?: Logger;\n}\n\nexport type GetSourcesParams = {\n  query: string;\n  date?: DATE_RANGE;\n  country?: string;\n  numResults?: number;\n  safeSearch?: SearchToolConfig['safeSearch'];\n  images?: boolean;\n  videos?: boolean;\n  news?: boolean;\n  type?: 'search' | 'images' | 'videos' | 'news';\n};\n\n/** Serper API */\nexport interface VideoResult {\n  title?: string;\n  link?: string;\n  snippet?: string;\n  imageUrl?: string;\n  duration?: string;\n  source?: string;\n  channel?: string;\n  date?: string;\n  position?: number;\n}\n\nexport interface PlaceResult {\n  position?: number;\n  name?: string;\n  address?: string;\n  latitude?: number;\n  longitude?: number;\n  rating?: number;\n  ratingCount?: number;\n  category?: string;\n  identifier?: string;\n}\n\nexport interface NewsResult {\n  title?: string;\n  link?: string;\n  snippet?: string;\n  date?: string;\n  source?: string;\n  imageUrl?: string;\n  position?: number;\n}\n\nexport interface ShoppingResult {\n  title?: string;\n  source?: string;\n  link?: string;\n  price?: string;\n  delivery?: string;\n  imageUrl?: string;\n  rating?: number;\n  ratingCount?: number;\n  offers?: string;\n  productId?: string;\n  position?: number;\n}\n\nexport interface ScholarResult {\n  title?: string;\n  link?: string;\n  publicationInfo?: string;\n  snippet?: string;\n  year?: number;\n  citedBy?: number;\n}\n\nexport interface ImageResult {\n  title?: string;\n  imageUrl?: string;\n  imageWidth?: number;\n  imageHeight?: number;\n  thumbnailUrl?: string;\n  thumbnailWidth?: number;\n  thumbnailHeight?: number;\n  source?: string;\n  domain?: string;\n  link?: string;\n  googleUrl?: string;\n  position?: number;\n}\n\nexport interface SerperSearchPayload extends SerperSearchInput {\n  /**\n   * Search type/vertical\n   * Options: \"search\" (web), \"images\", \"news\", \"places\", \"videos\"\n   */\n  type?: 'search' | 'images' | 'news' | 'places' | 'videos';\n\n  /**\n   * Starting index for search results pagination (used instead of page)\n   */\n  start?: number;\n\n  /**\n   * Filtering for safe search\n   * Options: \"off\", \"moderate\", \"active\"\n   */\n  safe?: 'off' | 'moderate' | 'active';\n}\n\nexport type SerperSearchParameters = Pick<SerperSearchPayload, 'q' | 'type'> & {\n  engine: 'google';\n};\n\nexport interface OrganicResult {\n  position?: number;\n  title?: string;\n  link: string;\n  snippet?: string;\n  date?: string;\n  sitelinks?: Array<{\n    title: string;\n    link: string;\n  }>;\n}\n\nexport interface TopStoryResult {\n  title?: string;\n  link: string;\n  source?: string;\n  date?: string;\n  imageUrl?: string;\n}\nexport interface KnowledgeGraphResult {\n  title?: string;\n  type?: string;\n  imageUrl?: string;\n  description?: string;\n  descriptionSource?: string;\n  descriptionLink?: string;\n  attributes?: Record<string, string>;\n  website?: string;\n}\n\nexport interface AnswerBoxResult {\n  title?: string;\n  snippet?: string;\n  snippetHighlighted?: string[];\n  link?: string;\n  date?: string;\n}\n\nexport interface PeopleAlsoAskResult {\n  question?: string;\n  snippet?: string;\n  title?: string;\n  link?: string;\n}\n\nexport type RelatedSearches = Array<{ query: string }>;\n\nexport interface SerperSearchInput {\n  /**\n   * The search query string\n   */\n  q: string;\n\n  /**\n   * Country code for localized results\n   * Examples: \"us\", \"uk\", \"ca\", \"de\", etc.\n   */\n  gl?: string;\n\n  /**\n   * Interface language\n   * Examples: \"en\", \"fr\", \"de\", etc.\n   */\n  hl?: string;\n\n  /**\n   * Number of results to return (up to 100)\n   */\n  num?: number;\n  /**\n   * Specific location for contextual results\n   * Example: \"New York, NY\"\n   */\n  location?: string;\n\n  /**\n   * Search autocorrection setting\n   */\n  autocorrect?: boolean;\n  page?: number;\n  /**\n   * Date range for search results\n   * Options: \"h\" (past hour), \"d\" (past 24 hours), \"w\" (past week),\n   * \"m\" (past month), \"y\" (past year)\n   * `qdr:${DATE_RANGE}`\n   */\n  tbs?: string;\n}\n\nexport type SerperResultData = {\n  searchParameters: SerperSearchPayload;\n  organic?: OrganicResult[];\n  topStories?: TopStoryResult[];\n  images?: ImageResult[];\n  videos?: VideoResult[];\n  places?: PlaceResult[];\n  news?: NewsResult[];\n  shopping?: ShoppingResult[];\n  peopleAlsoAsk?: PeopleAlsoAskResult[];\n  relatedSearches?: RelatedSearches;\n  knowledgeGraph?: KnowledgeGraphResult;\n  answerBox?: AnswerBoxResult;\n  credits?: number;\n};\n\n/** SearXNG */\n\nexport interface SearxNGSearchPayload {\n  /**\n   * The search query string\n   * Supports syntax specific to different search engines\n   * Example: \"site:github.com SearXNG\"\n   */\n  q: string;\n\n  /**\n   * Comma-separated list of search categories\n   * Example: \"general,images,news\"\n   */\n  categories?: string;\n\n  /**\n   * Comma-separated list of search engines to use\n   * Example: \"google,bing,duckduckgo\"\n   */\n  engines?: string;\n\n  /**\n   * Code of the language for search results\n   * Example: \"en\", \"fr\", \"de\", \"es\"\n   */\n  language?: string;\n\n  /**\n   * Search page number\n   * Default: 1\n   */\n  pageno?: number;\n\n  /**\n   * Time range filter for search results\n   * Options: \"day\", \"month\", \"year\"\n   */\n  time_range?: 'day' | 'month' | 'year';\n\n  /**\n   * Output format of results\n   * Options: \"json\", \"csv\", \"rss\"\n   */\n  format?: 'json' | 'csv' | 'rss';\n\n  /**\n   * Open search results on new tab\n   * Options: `0` (off), `1` (on)\n   */\n  results_on_new_tab?: 0 | 1;\n\n  /**\n   * Proxy image results through SearxNG\n   * Options: true, false\n   */\n  image_proxy?: boolean;\n\n  /**\n   * Service for autocomplete suggestions\n   * Options: \"google\", \"dbpedia\", \"duckduckgo\", \"mwmbl\",\n   *          \"startpage\", \"wikipedia\", \"stract\", \"swisscows\", \"qwant\"\n   */\n  autocomplete?: string;\n\n  /**\n   * Safe search filtering level\n   * Options: \"0\" (off), \"1\" (moderate), \"2\" (strict)\n   */\n  safesearch?: 0 | 1 | 2;\n\n  /**\n   * Theme to use for results page\n   * Default: \"simple\" (other themes may be available per instance)\n   */\n  theme?: string;\n\n  /**\n   * List of enabled plugins\n   * Default: \"Hash_plugin,Self_Information,Tracker_URL_remover,Ahmia_blacklist\"\n   */\n  enabled_plugins?: string;\n\n  /**\n   * List of disabled plugins\n   */\n  disabled_plugins?: string;\n\n  /**\n   * List of enabled engines\n   */\n  enabled_engines?: string;\n\n  /**\n   * List of disabled engines\n   */\n  disabled_engines?: string;\n}\n\nexport interface SearXNGResult {\n  title?: string;\n  url?: string;\n  content?: string;\n  publishedDate?: string;\n  img_src?: string;\n}\n\nexport type ProcessSourcesFields = {\n  result: SearchResult;\n  numElements: number;\n  query: string;\n  news: boolean;\n  proMode: boolean;\n  onGetHighlights: SearchToolConfig['onGetHighlights'];\n};\n","import { z } from 'zod';\n\n/**\n * Granular Permission System Types for Agent Sharing\n *\n * This file contains TypeScript interfaces and Zod schemas for the enhanced\n * agent permission system that supports sharing with specific users/groups\n * and Entra ID integration.\n */\n\n// ===== ENUMS & CONSTANTS =====\n\n/**\n * Principal types for permission system\n */\nexport enum PrincipalType {\n  USER = 'user',\n  GROUP = 'group',\n  PUBLIC = 'public',\n  ROLE = 'role',\n}\n\n/**\n * Principal model types for MongoDB references\n */\nexport enum PrincipalModel {\n  USER = 'User',\n  GROUP = 'Group',\n  ROLE = 'Role',\n}\n\n/**\n * Source of the principal (local LibreChat or external Entra ID)\n */\nexport type TPrincipalSource = 'local' | 'entra';\n\n/**\n * Access levels for agents\n */\nexport type TAccessLevel = 'none' | 'viewer' | 'editor' | 'owner';\n\n/**\n * Resource types for permission system\n */\nexport enum ResourceType {\n  AGENT = 'agent',\n  PROMPTGROUP = 'promptGroup',\n  MCPSERVER = 'mcpServer',\n}\n\n/**\n * Permission bit constants for bitwise operations\n */\nexport enum PermissionBits {\n  /** 001 - Can view and use agent */\n  VIEW = 1,\n  /**  010 - Can modify agent settings */\n  EDIT = 2,\n  /**  100 - Can delete agent */\n  DELETE = 4,\n  /**  1000 - Can share agent with others (future) */\n  SHARE = 8,\n}\n\n/**\n * Standard access role IDs\n */\nexport enum AccessRoleIds {\n  AGENT_VIEWER = 'agent_viewer',\n  AGENT_EDITOR = 'agent_editor',\n  AGENT_OWNER = 'agent_owner',\n  PROMPTGROUP_VIEWER = 'promptGroup_viewer',\n  PROMPTGROUP_EDITOR = 'promptGroup_editor',\n  PROMPTGROUP_OWNER = 'promptGroup_owner',\n  MCPSERVER_VIEWER = 'mcpServer_viewer',\n  MCPSERVER_EDITOR = 'mcpServer_editor',\n  MCPSERVER_OWNER = 'mcpServer_owner',\n}\n\n// ===== ZOD SCHEMAS =====\n\n/**\n * Principal schema - represents a user, group, role, or public access\n */\nexport const principalSchema = z.object({\n  type: z.nativeEnum(PrincipalType),\n  id: z.string().optional(), // undefined for 'public' type, role name for 'role' type\n  name: z.string().optional(),\n  email: z.string().optional(), // for user and group types\n  source: z.enum(['local', 'entra']).optional(),\n  avatar: z.string().optional(), // for user and group types\n  description: z.string().optional(), // for group and role types\n  idOnTheSource: z.string().optional(), // Entra ID for users/groups\n  accessRoleId: z.nativeEnum(AccessRoleIds).optional(), // Access role ID for permissions\n  memberCount: z.number().optional(), // for group type\n});\n\n/**\n * Access role schema - defines named permission sets\n */\nexport const accessRoleSchema = z.object({\n  accessRoleId: z.nativeEnum(AccessRoleIds),\n  name: z.string(),\n  description: z.string().optional(),\n  resourceType: z.nativeEnum(ResourceType).default(ResourceType.AGENT),\n  permBits: z.number(),\n});\n\n/**\n * Permission entry schema - represents a single ACL entry\n */\nexport const permissionEntrySchema = z.object({\n  id: z.string(),\n  principalType: z.nativeEnum(PrincipalType),\n  principalId: z.string().optional(), // undefined for 'public'\n  principalName: z.string().optional(),\n  role: accessRoleSchema,\n  grantedBy: z.string(),\n  grantedAt: z.string(), // ISO date string\n  inheritedFrom: z.string().optional(), // for project-level inheritance\n  source: z.enum(['local', 'entra']).optional(),\n});\n\n/**\n * Resource permissions response schema\n */\nexport const resourcePermissionsResponseSchema = z.object({\n  resourceType: z.nativeEnum(ResourceType),\n  resourceId: z.string(),\n  permissions: z.array(permissionEntrySchema),\n});\n\n/**\n * Update resource permissions request schema\n * This matches the user's requirement for the frontend DTO structure\n */\nexport const updateResourcePermissionsRequestSchema = z.object({\n  updated: principalSchema.array(),\n  removed: principalSchema.array(),\n  public: z.boolean(),\n  publicAccessRoleId: z.string().optional(),\n});\n\n/**\n * Update resource permissions response schema\n * Returns the updated permissions with accessRoleId included\n */\nexport const updateResourcePermissionsResponseSchema = z.object({\n  message: z.string(),\n  results: z.object({\n    principals: principalSchema.array(),\n    public: z.boolean(),\n    publicAccessRoleId: z.string().optional(),\n  }),\n});\n\n// ===== TYPESCRIPT TYPES =====\n\n/**\n * Principal - represents a user, group, or public access\n */\nexport type TPrincipal = z.infer<typeof principalSchema>;\n\n/**\n * Access role - defines named permission sets\n */\nexport type TAccessRole = z.infer<typeof accessRoleSchema>;\n\n/**\n * Permission entry - represents a single ACL entry\n */\nexport type TPermissionEntry = z.infer<typeof permissionEntrySchema>;\n\n/**\n * Resource permissions response\n */\nexport type TResourcePermissionsResponse = z.infer<typeof resourcePermissionsResponseSchema>;\n\n/**\n * Update resource permissions request\n * This matches the user's requirement for the frontend DTO structure\n */\nexport type TUpdateResourcePermissionsRequest = z.infer<\n  typeof updateResourcePermissionsRequestSchema\n>;\n\n/**\n * Update resource permissions response\n * Returns the updated permissions with accessRoleId included\n */\nexport type TUpdateResourcePermissionsResponse = z.infer<\n  typeof updateResourcePermissionsResponseSchema\n>;\n\n/**\n * Principal search request parameters\n */\nexport type TPrincipalSearchParams = {\n  q: string; // search query (required)\n  limit?: number; // max results (1-50, default 10)\n  type?: PrincipalType.USER | PrincipalType.GROUP | PrincipalType.ROLE; // filter by type (optional)\n};\n\n/**\n * Principal search result item\n */\nexport type TPrincipalSearchResult = {\n  id?: string | null; // null for Entra ID principals that don't exist locally yet\n  type: PrincipalType.USER | PrincipalType.GROUP | PrincipalType.ROLE;\n  name: string;\n  email?: string; // for users and groups\n  username?: string; // for users\n  avatar?: string; // for users and groups\n  provider?: string; // for users\n  source: 'local' | 'entra';\n  memberCount?: number; // for groups\n  description?: string; // for groups\n  idOnTheSource?: string; // Entra ID for users (maps to openidId) and groups (maps to idOnTheSource)\n};\n\n/**\n * Principal search response\n */\nexport type TPrincipalSearchResponse = {\n  query: string;\n  limit: number;\n  type?: PrincipalType.USER | PrincipalType.GROUP | PrincipalType.ROLE;\n  results: TPrincipalSearchResult[];\n  count: number;\n  sources: {\n    local: number;\n    entra: number;\n  };\n};\n\n/**\n * Available roles response\n */\nexport type TAvailableRolesResponse = {\n  resourceType: ResourceType;\n  roles: TAccessRole[];\n};\n\n/**\n * Get resource permissions response schema\n * This matches the enhanced aggregation-based endpoint response format\n */\nexport const getResourcePermissionsResponseSchema = z.object({\n  resourceType: z.nativeEnum(ResourceType),\n  resourceId: z.nativeEnum(AccessRoleIds),\n  principals: z.array(principalSchema),\n  public: z.boolean(),\n  publicAccessRoleId: z.nativeEnum(AccessRoleIds).optional(),\n});\n\n/**\n * Get resource permissions response type\n * This matches the enhanced aggregation-based endpoint response format\n */\nexport type TGetResourcePermissionsResponse = z.infer<typeof getResourcePermissionsResponseSchema>;\n\n/**\n * Effective permissions response schema\n * Returns just the permission bitmask for a user on a resource\n */\nexport const effectivePermissionsResponseSchema = z.object({\n  permissionBits: z.number(),\n});\n\n/**\n * Effective permissions response type\n * Returns just the permission bitmask for a user on a resource\n */\nexport type TEffectivePermissionsResponse = z.infer<typeof effectivePermissionsResponseSchema>;\n\n/**\n * All effective permissions response type\n * Map of resourceId to permissionBits for all accessible resources\n */\nexport type TAllEffectivePermissionsResponse = Record<string, number>;\n\n// ===== UTILITY TYPES =====\n\n/**\n * Permission check result\n */\nexport interface TPermissionCheck {\n  canView: boolean;\n  canEdit: boolean;\n  canDelete: boolean;\n  canShare: boolean;\n  accessLevel: TAccessLevel;\n}\n\n// ===== HELPER FUNCTIONS =====\n\n/**\n * Convert permission bits to access level\n */\nexport function permBitsToAccessLevel(permBits: number): TAccessLevel {\n  if ((permBits & PermissionBits.DELETE) > 0) return 'owner';\n  if ((permBits & PermissionBits.EDIT) > 0) return 'editor';\n  if ((permBits & PermissionBits.VIEW) > 0) return 'viewer';\n  return 'none';\n}\n\n/**\n * Convert access role ID to permission bits\n */\nexport function accessRoleToPermBits(accessRoleId: string): number {\n  switch (accessRoleId) {\n    case AccessRoleIds.AGENT_VIEWER:\n      return PermissionBits.VIEW;\n    case AccessRoleIds.AGENT_EDITOR:\n      return PermissionBits.VIEW | PermissionBits.EDIT;\n    case AccessRoleIds.AGENT_OWNER:\n      return PermissionBits.VIEW | PermissionBits.EDIT | PermissionBits.DELETE;\n    default:\n      return PermissionBits.VIEW;\n  }\n}\n\n/**\n * Check if permission bitmask contains other bitmask\n * @param permissions - The permission bitmask to check\n * @param requiredPermission - The required permission bit(s)\n * @returns {boolean} Whether permissions contains requiredPermission\n */\nexport function hasPermissions(permissions: number, requiredPermission: number): boolean {\n  return (permissions & requiredPermission) === requiredPermission;\n}\n","export enum QueryKeys {\n  messages = 'messages',\n  sharedMessages = 'sharedMessages',\n  sharedLinks = 'sharedLinks',\n  allConversations = 'allConversations',\n  archivedConversations = 'archivedConversations',\n  searchConversations = 'searchConversations',\n  conversation = 'conversation',\n  searchEnabled = 'searchEnabled',\n  user = 'user',\n  name = 'name', // user key name\n  models = 'models',\n  balance = 'balance',\n  endpoints = 'endpoints',\n  presets = 'presets',\n  searchResults = 'searchResults',\n  tokenCount = 'tokenCount',\n  availablePlugins = 'availablePlugins',\n  startupConfig = 'startupConfig',\n  assistants = 'assistants',\n  assistant = 'assistant',\n  agents = 'agents',\n  agent = 'agent',\n  files = 'files',\n  fileConfig = 'fileConfig',\n  tools = 'tools',\n  toolAuth = 'toolAuth',\n  toolCalls = 'toolCalls',\n  mcpTools = 'mcpTools',\n  mcpConnectionStatus = 'mcpConnectionStatus',\n  mcpAuthValues = 'mcpAuthValues',\n  agentTools = 'agentTools',\n  actions = 'actions',\n  assistantDocs = 'assistantDocs',\n  agentDocs = 'agentDocs',\n  fileDownload = 'fileDownload',\n  voices = 'voices',\n  customConfigSpeech = 'customConfigSpeech',\n  prompts = 'prompts',\n  prompt = 'prompt',\n  promptGroups = 'promptGroups',\n  allPromptGroups = 'allPromptGroups',\n  promptGroup = 'promptGroup',\n  categories = 'categories',\n  randomPrompts = 'randomPrompts',\n  agentCategories = 'agentCategories',\n  marketplaceAgents = 'marketplaceAgents',\n  roles = 'roles',\n  conversationTags = 'conversationTags',\n  health = 'health',\n  userTerms = 'userTerms',\n  banner = 'banner',\n  /* Memories */\n  memories = 'memories',\n  principalSearch = 'principalSearch',\n  accessRoles = 'accessRoles',\n  resourcePermissions = 'resourcePermissions',\n  effectivePermissions = 'effectivePermissions',\n  graphToken = 'graphToken',\n  /* MCP Servers */\n  mcpServers = 'mcpServers',\n  mcpServer = 'mcpServer',\n}\n\n// Dynamic query keys that require parameters\nexport const DynamicQueryKeys = {\n  agentFiles: (agentId: string) => ['agentFiles', agentId] as const,\n} as const;\n\nexport enum MutationKeys {\n  fileUpload = 'fileUpload',\n  fileDelete = 'fileDelete',\n  updatePreset = 'updatePreset',\n  deletePreset = 'deletePreset',\n  loginUser = 'loginUser',\n  logoutUser = 'logoutUser',\n  refreshToken = 'refreshToken',\n  avatarUpload = 'avatarUpload',\n  speechToText = 'speechToText',\n  textToSpeech = 'textToSpeech',\n  assistantAvatarUpload = 'assistantAvatarUpload',\n  agentAvatarUpload = 'agentAvatarUpload',\n  updateAction = 'updateAction',\n  updateAgentAction = 'updateAgentAction',\n  deleteAction = 'deleteAction',\n  deleteAgentAction = 'deleteAgentAction',\n  revertAgentVersion = 'revertAgentVersion',\n  deleteUser = 'deleteUser',\n  updateRole = 'updateRole',\n  enableTwoFactor = 'enableTwoFactor',\n  verifyTwoFactor = 'verifyTwoFactor',\n  updateMemoryPreferences = 'updateMemoryPreferences',\n}\n","import axios from 'axios';\n\nexport function setAcceptLanguageHeader(value: string): void {\n  axios.defaults.headers.common['Accept-Language'] = value;\n}\n\nexport function setTokenHeader(token: string) {\n  axios.defaults.headers.common['Authorization'] = 'Bearer ' + token;\n}\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport axios, { AxiosError, AxiosRequestConfig } from 'axios';\nimport * as endpoints from './api-endpoints';\nimport { setTokenHeader } from './headers-helpers';\nimport type * as t from './types';\n\nasync function _get<T>(url: string, options?: AxiosRequestConfig): Promise<T> {\n  const response = await axios.get(url, { ...options });\n  return response.data;\n}\n\nasync function _getResponse<T>(url: string, options?: AxiosRequestConfig): Promise<T> {\n  return await axios.get(url, { ...options });\n}\n\nasync function _post(url: string, data?: any) {\n  const response = await axios.post(url, JSON.stringify(data), {\n    headers: { 'Content-Type': 'application/json' },\n  });\n  return response.data;\n}\n\nasync function _postMultiPart(url: string, formData: FormData, options?: AxiosRequestConfig) {\n  const response = await axios.post(url, formData, {\n    ...options,\n    headers: { 'Content-Type': 'multipart/form-data' },\n  });\n  return response.data;\n}\n\nasync function _postTTS(url: string, formData: FormData, options?: AxiosRequestConfig) {\n  const response = await axios.post(url, formData, {\n    ...options,\n    headers: { 'Content-Type': 'multipart/form-data' },\n    responseType: 'arraybuffer',\n  });\n  return response.data;\n}\n\nasync function _put(url: string, data?: any) {\n  const response = await axios.put(url, JSON.stringify(data), {\n    headers: { 'Content-Type': 'application/json' },\n  });\n  return response.data;\n}\n\nasync function _delete<T>(url: string): Promise<T> {\n  const response = await axios.delete(url);\n  return response.data;\n}\n\nasync function _deleteWithOptions<T>(url: string, options?: AxiosRequestConfig): Promise<T> {\n  const response = await axios.delete(url, { ...options });\n  return response.data;\n}\n\nasync function _patch(url: string, data?: any) {\n  const response = await axios.patch(url, JSON.stringify(data), {\n    headers: { 'Content-Type': 'application/json' },\n  });\n  return response.data;\n}\n\nlet isRefreshing = false;\nlet failedQueue: { resolve: (value?: any) => void; reject: (reason?: any) => void }[] = [];\n\nconst refreshToken = (retry?: boolean): Promise<t.TRefreshTokenResponse | undefined> =>\n  _post(endpoints.refreshToken(retry));\n\nconst dispatchTokenUpdatedEvent = (token: string) => {\n  setTokenHeader(token);\n  window.dispatchEvent(new CustomEvent('tokenUpdated', { detail: token }));\n};\n\nconst processQueue = (error: AxiosError | null, token: string | null = null) => {\n  failedQueue.forEach((prom) => {\n    if (error) {\n      prom.reject(error);\n    } else {\n      prom.resolve(token);\n    }\n  });\n  failedQueue = [];\n};\n\nif (typeof window !== 'undefined') {\n  axios.interceptors.response.use(\n    (response) => response,\n    async (error) => {\n      const originalRequest = error.config;\n      if (!error.response) {\n        return Promise.reject(error);\n      }\n\n      if (originalRequest.url?.includes('/api/auth/2fa') === true) {\n        return Promise.reject(error);\n      }\n      if (originalRequest.url?.includes('/api/auth/logout') === true) {\n        return Promise.reject(error);\n      }\n\n      if (error.response.status === 401 && !originalRequest._retry) {\n        console.warn('401 error, refreshing token');\n        originalRequest._retry = true;\n\n        if (isRefreshing) {\n          try {\n            const token = await new Promise((resolve, reject) => {\n              failedQueue.push({ resolve, reject });\n            });\n            originalRequest.headers['Authorization'] = 'Bearer ' + token;\n            return await axios(originalRequest);\n          } catch (err) {\n            return Promise.reject(err);\n          }\n        }\n\n        isRefreshing = true;\n\n        try {\n          const response = await refreshToken(\n            // Handle edge case where we get a blank screen if the initial 401 error is from a refresh token request\n            originalRequest.url?.includes('api/auth/refresh') === true ? true : false,\n          );\n\n          const token = response?.token ?? '';\n\n          if (token) {\n            originalRequest.headers['Authorization'] = 'Bearer ' + token;\n            dispatchTokenUpdatedEvent(token);\n            processQueue(null, token);\n            return await axios(originalRequest);\n          } else if (window.location.href.includes('share/')) {\n            console.log(\n              `Refresh token failed from shared link, attempting request to ${originalRequest.url}`,\n            );\n          } else {\n            window.location.href = endpoints.loginPage();\n          }\n        } catch (err) {\n          processQueue(err as AxiosError, null);\n          return Promise.reject(err);\n        } finally {\n          isRefreshing = false;\n        }\n      }\n\n      return Promise.reject(error);\n    },\n  );\n}\n\nexport default {\n  get: _get,\n  getResponse: _getResponse,\n  post: _post,\n  postMultiPart: _postMultiPart,\n  postTTS: _postTTS,\n  put: _put,\n  delete: _delete,\n  deleteWithOptions: _deleteWithOptions,\n  patch: _patch,\n  refreshToken,\n  dispatchTokenUpdatedEvent,\n};\n","import type { AxiosResponse } from 'axios';\nimport type * as t from './types';\nimport * as endpoints from './api-endpoints';\nimport * as a from './types/assistants';\nimport * as ag from './types/agents';\nimport * as m from './types/mutations';\nimport * as q from './types/queries';\nimport * as f from './types/files';\nimport * as mcp from './types/mcpServers';\nimport * as config from './config';\nimport request from './request';\nimport * as s from './schemas';\nimport * as r from './roles';\nimport * as permissions from './accessPermissions';\n\nexport function revokeUserKey(name: string): Promise<unknown> {\n  return request.delete(endpoints.revokeUserKey(name));\n}\n\nexport function revokeAllUserKeys(): Promise<unknown> {\n  return request.delete(endpoints.revokeAllUserKeys());\n}\n\nexport function deleteUser(): Promise<s.TPreset> {\n  return request.delete(endpoints.deleteUser());\n}\n\nexport type FavoriteItem = {\n  agentId?: string;\n  model?: string;\n  endpoint?: string;\n};\n\nexport function getFavorites(): Promise<FavoriteItem[]> {\n  return request.get('/api/user/settings/favorites');\n}\n\nexport function updateFavorites(favorites: FavoriteItem[]): Promise<FavoriteItem[]> {\n  return request.post('/api/user/settings/favorites', { favorites });\n}\n\nexport function getSharedMessages(shareId: string): Promise<t.TSharedMessagesResponse> {\n  return request.get(endpoints.shareMessages(shareId));\n}\n\nexport const listSharedLinks = async (\n  params: q.SharedLinksListParams,\n): Promise<q.SharedLinksResponse> => {\n  const { pageSize, isPublic, sortBy, sortDirection, search, cursor } = params;\n\n  return request.get(\n    endpoints.getSharedLinks(pageSize, isPublic, sortBy, sortDirection, search, cursor),\n  );\n};\n\nexport function getSharedLink(conversationId: string): Promise<t.TSharedLinkGetResponse> {\n  return request.get(endpoints.getSharedLink(conversationId));\n}\n\nexport function createSharedLink(\n  conversationId: string,\n  targetMessageId?: string,\n): Promise<t.TSharedLinkResponse> {\n  return request.post(endpoints.createSharedLink(conversationId), { targetMessageId });\n}\n\nexport function updateSharedLink(shareId: string): Promise<t.TSharedLinkResponse> {\n  return request.patch(endpoints.updateSharedLink(shareId));\n}\n\nexport function deleteSharedLink(shareId: string): Promise<m.TDeleteSharedLinkResponse> {\n  return request.delete(endpoints.shareMessages(shareId));\n}\n\nexport function updateUserKey(payload: t.TUpdateUserKeyRequest) {\n  const { value } = payload;\n  if (!value) {\n    throw new Error('value is required');\n  }\n\n  return request.put(endpoints.keys(), payload);\n}\n\nexport function getPresets(): Promise<s.TPreset[]> {\n  return request.get(endpoints.presets());\n}\n\nexport function createPreset(payload: s.TPreset): Promise<s.TPreset> {\n  return request.post(endpoints.presets(), payload);\n}\n\nexport function updatePreset(payload: s.TPreset): Promise<s.TPreset> {\n  return request.post(endpoints.presets(), payload);\n}\n\nexport function deletePreset(arg: s.TPreset | undefined): Promise<m.PresetDeleteResponse> {\n  return request.post(endpoints.deletePreset(), arg);\n}\n\nexport function getSearchEnabled(): Promise<boolean> {\n  return request.get(endpoints.searchEnabled());\n}\n\nexport function getUser(): Promise<t.TUser> {\n  return request.get(endpoints.user());\n}\n\nexport function getUserBalance(): Promise<t.TBalanceResponse> {\n  return request.get(endpoints.balance());\n}\n\nexport const updateTokenCount = (text: string) => {\n  return request.post(endpoints.tokenizer(), { arg: text });\n};\n\nexport const login = (payload: t.TLoginUser): Promise<t.TLoginResponse> => {\n  return request.post(endpoints.login(), payload);\n};\n\nexport const logout = (): Promise<m.TLogoutResponse> => {\n  return request.post(endpoints.logout());\n};\n\nexport const register = (payload: t.TRegisterUser) => {\n  return request.post(endpoints.register(), payload);\n};\n\nexport const userKeyQuery = (name: string): Promise<t.TCheckUserKeyResponse> =>\n  request.get(endpoints.userKeyQuery(name));\n\nexport const getLoginGoogle = () => {\n  return request.get(endpoints.loginGoogle());\n};\n\nexport const requestPasswordReset = (\n  payload: t.TRequestPasswordReset,\n): Promise<t.TRequestPasswordResetResponse> => {\n  return request.post(endpoints.requestPasswordReset(), payload);\n};\n\nexport const resetPassword = (payload: t.TResetPassword) => {\n  return request.post(endpoints.resetPassword(), payload);\n};\n\nexport const verifyEmail = (payload: t.TVerifyEmail): Promise<t.VerifyEmailResponse> => {\n  return request.post(endpoints.verifyEmail(), payload);\n};\n\nexport const resendVerificationEmail = (\n  payload: t.TResendVerificationEmail,\n): Promise<t.VerifyEmailResponse> => {\n  return request.post(endpoints.resendVerificationEmail(), payload);\n};\n\nexport const getAvailablePlugins = (): Promise<s.TPlugin[]> => {\n  return request.get(endpoints.plugins());\n};\n\nexport const updateUserPlugins = (payload: t.TUpdateUserPlugins) => {\n  return request.post(endpoints.userPlugins(), payload);\n};\n\nexport const reinitializeMCPServer = (serverName: string) => {\n  return request.post(endpoints.mcpReinitialize(serverName));\n};\n\nexport const getMCPConnectionStatus = (): Promise<q.MCPConnectionStatusResponse> => {\n  return request.get(endpoints.mcpConnectionStatus());\n};\n\nexport const getMCPServerConnectionStatus = (\n  serverName: string,\n): Promise<q.MCPServerConnectionStatusResponse> => {\n  return request.get(endpoints.mcpServerConnectionStatus(serverName));\n};\n\nexport const getMCPAuthValues = (serverName: string): Promise<q.MCPAuthValuesResponse> => {\n  return request.get(endpoints.mcpAuthValues(serverName));\n};\n\nexport function cancelMCPOAuth(serverName: string): Promise<m.CancelMCPOAuthResponse> {\n  return request.post(endpoints.cancelMCPOAuth(serverName), {});\n}\n\n/* Config */\n\nexport const getStartupConfig = (): Promise<\n  config.TStartupConfig & {\n    mcpCustomUserVars?: Record<string, { title: string; description: string }>;\n  }\n> => {\n  return request.get(endpoints.config());\n};\n\nexport const getAIEndpoints = (): Promise<t.TEndpointsConfig> => {\n  return request.get(endpoints.aiEndpoints());\n};\n\nexport const getModels = async (): Promise<t.TModelsConfig> => {\n  return request.get(endpoints.models());\n};\n\n/* Assistants */\n\nexport const createAssistant = ({\n  version,\n  ...data\n}: a.AssistantCreateParams): Promise<a.Assistant> => {\n  return request.post(endpoints.assistants({ version }), data);\n};\n\nexport const getAssistantById = ({\n  endpoint,\n  assistant_id,\n  version,\n}: {\n  endpoint: s.AssistantsEndpoint;\n  assistant_id: string;\n  version: number | string | number;\n}): Promise<a.Assistant> => {\n  return request.get(\n    endpoints.assistants({\n      path: assistant_id,\n      endpoint,\n      version,\n    }),\n  );\n};\n\nexport const updateAssistant = ({\n  assistant_id,\n  data,\n  version,\n}: {\n  assistant_id: string;\n  data: a.AssistantUpdateParams;\n  version: number | string;\n}): Promise<a.Assistant> => {\n  return request.patch(\n    endpoints.assistants({\n      path: assistant_id,\n      version,\n    }),\n    data,\n  );\n};\n\nexport const deleteAssistant = ({\n  assistant_id,\n  model,\n  endpoint,\n  version,\n}: m.DeleteAssistantBody & { version: number | string }): Promise<void> => {\n  return request.delete(\n    endpoints.assistants({\n      path: assistant_id,\n      options: { model, endpoint },\n      version,\n    }),\n  );\n};\n\nexport const listAssistants = (\n  params: a.AssistantListParams,\n  version: number | string,\n): Promise<a.AssistantListResponse> => {\n  return request.get(\n    endpoints.assistants({\n      version,\n      options: params,\n    }),\n  );\n};\n\nexport function getAssistantDocs({\n  endpoint,\n  version,\n}: {\n  endpoint: s.AssistantsEndpoint | string;\n  version: number | string;\n}): Promise<a.AssistantDocument[]> {\n  if (!s.isAssistantsEndpoint(endpoint)) {\n    return Promise.resolve([]);\n  }\n  return request.get(\n    endpoints.assistants({\n      path: 'documents',\n      version,\n      options: { endpoint },\n      endpoint: endpoint as s.AssistantsEndpoint,\n    }),\n  );\n}\n\n/* Tools */\n\nexport const getAvailableTools = (\n  _endpoint: s.AssistantsEndpoint | s.EModelEndpoint.agents,\n  version?: number | string,\n): Promise<s.TPlugin[]> => {\n  let path = '';\n  if (s.isAssistantsEndpoint(_endpoint)) {\n    const endpoint = _endpoint as s.AssistantsEndpoint;\n    path = endpoints.assistants({\n      path: 'tools',\n      endpoint: endpoint,\n      version: version ?? config.defaultAssistantsVersion[endpoint],\n    });\n  } else {\n    path = endpoints.agents({\n      path: 'tools',\n    });\n  }\n\n  return request.get(path);\n};\n\n/* MCP Tools - Decoupled from regular tools */\n\nexport const getMCPTools = (): Promise<q.MCPServersResponse> => {\n  return request.get(endpoints.mcp.tools);\n};\n\nexport const getVerifyAgentToolAuth = (\n  params: q.VerifyToolAuthParams,\n): Promise<q.VerifyToolAuthResponse> => {\n  return request.get(\n    endpoints.agents({\n      path: `tools/${params.toolId}/auth`,\n    }),\n  );\n};\n\nexport const callTool = <T extends m.ToolId>({\n  toolId,\n  toolParams,\n}: {\n  toolId: T;\n  toolParams: m.ToolParams<T>;\n}): Promise<m.ToolCallResponse> => {\n  return request.post(\n    endpoints.agents({\n      path: `tools/${toolId}/call`,\n    }),\n    toolParams,\n  );\n};\n\nexport const getToolCalls = (params: q.GetToolCallParams): Promise<q.ToolCallResults> => {\n  return request.get(\n    endpoints.agents({\n      path: 'tools/calls',\n      options: params,\n    }),\n  );\n};\n\n/* Files */\n\nexport const getFiles = (): Promise<f.TFile[]> => {\n  return request.get(endpoints.files());\n};\n\nexport const getAgentFiles = (agentId: string): Promise<f.TFile[]> => {\n  return request.get(endpoints.agentFiles(agentId));\n};\n\nexport const getFileConfig = (): Promise<f.FileConfig> => {\n  return request.get(`${endpoints.files()}/config`);\n};\n\nexport const uploadImage = (\n  data: FormData,\n  signal?: AbortSignal | null,\n): Promise<f.TFileUpload> => {\n  const requestConfig = signal ? { signal } : undefined;\n  return request.postMultiPart(endpoints.images(), data, requestConfig);\n};\n\nexport const uploadFile = (data: FormData, signal?: AbortSignal | null): Promise<f.TFileUpload> => {\n  const requestConfig = signal ? { signal } : undefined;\n  return request.postMultiPart(endpoints.files(), data, requestConfig);\n};\n\n/* actions */\n\nexport const updateAction = (data: m.UpdateActionVariables): Promise<m.UpdateActionResponse> => {\n  const { assistant_id, version, ...body } = data;\n  return request.post(\n    endpoints.assistants({\n      path: `actions/${assistant_id}`,\n      version,\n    }),\n    body,\n  );\n};\n\nexport function getActions(): Promise<ag.Action[]> {\n  return request.get(\n    endpoints.agents({\n      path: 'actions',\n    }),\n  );\n}\n\nexport const deleteAction = async ({\n  assistant_id,\n  action_id,\n  model,\n  version,\n  endpoint,\n}: m.DeleteActionVariables & { version: number | string }): Promise<void> =>\n  request.delete(\n    endpoints.assistants({\n      path: `actions/${assistant_id}/${action_id}/${model}`,\n      version,\n      endpoint,\n    }),\n  );\n\n/**\n * Agents\n */\n\nexport const createAgent = ({ ...data }: a.AgentCreateParams): Promise<a.Agent> => {\n  return request.post(endpoints.agents({}), data);\n};\n\nexport const getAgentById = ({ agent_id }: { agent_id: string }): Promise<a.Agent> => {\n  return request.get(\n    endpoints.agents({\n      path: agent_id,\n    }),\n  );\n};\n\nexport const getExpandedAgentById = ({ agent_id }: { agent_id: string }): Promise<a.Agent> => {\n  return request.get(\n    endpoints.agents({\n      path: `${agent_id}/expanded`,\n    }),\n  );\n};\n\nexport const updateAgent = ({\n  agent_id,\n  data,\n}: {\n  agent_id: string;\n  data: a.AgentUpdateParams;\n}): Promise<a.Agent> => {\n  return request.patch(\n    endpoints.agents({\n      path: agent_id,\n    }),\n    data,\n  );\n};\n\nexport const duplicateAgent = ({\n  agent_id,\n}: m.DuplicateAgentBody): Promise<{ agent: a.Agent; actions: ag.Action[] }> => {\n  return request.post(\n    endpoints.agents({\n      path: `${agent_id}/duplicate`,\n    }),\n  );\n};\n\nexport const deleteAgent = ({ agent_id }: m.DeleteAgentBody): Promise<void> => {\n  return request.delete(\n    endpoints.agents({\n      path: agent_id,\n    }),\n  );\n};\n\nexport const listAgents = (params: a.AgentListParams): Promise<a.AgentListResponse> => {\n  return request.get(\n    endpoints.agents({\n      options: params,\n    }),\n  );\n};\n\nexport const revertAgentVersion = ({\n  agent_id,\n  version_index,\n}: {\n  agent_id: string;\n  version_index: number;\n}): Promise<a.Agent> => request.post(endpoints.revertAgentVersion(agent_id), { version_index });\n\n/* Marketplace */\n\n/**\n * Get agent categories with counts for marketplace tabs\n */\nexport const getAgentCategories = (): Promise<t.TMarketplaceCategory[]> => {\n  return request.get(endpoints.agents({ path: 'categories' }));\n};\n\n/**\n * Unified marketplace agents endpoint with query string controls\n */\nexport const getMarketplaceAgents = (params: {\n  requiredPermission: number;\n  category?: string;\n  search?: string;\n  limit?: number;\n  cursor?: string;\n  promoted?: 0 | 1;\n}): Promise<a.AgentListResponse> => {\n  return request.get(\n    endpoints.agents({\n      // path: 'marketplace',\n      options: params,\n    }),\n  );\n};\n\n/* Tools */\n\nexport const getAvailableAgentTools = (): Promise<s.TPlugin[]> => {\n  return request.get(\n    endpoints.agents({\n      path: 'tools',\n    }),\n  );\n};\n\n/* Actions */\n\nexport const updateAgentAction = (\n  data: m.UpdateAgentActionVariables,\n): Promise<m.UpdateAgentActionResponse> => {\n  const { agent_id, ...body } = data;\n  return request.post(\n    endpoints.agents({\n      path: `actions/${agent_id}`,\n    }),\n    body,\n  );\n};\n\nexport const deleteAgentAction = async ({\n  agent_id,\n  action_id,\n}: m.DeleteAgentActionVariables): Promise<void> =>\n  request.delete(\n    endpoints.agents({\n      path: `actions/${agent_id}/${action_id}`,\n    }),\n  );\n\n/**\n * MCP Servers\n */\n\n/**\n *\n * Ensure and List loaded mcp server configs from the cache Enriched with effective permissions.\n */\nexport const getMCPServers = async (): Promise<mcp.MCPServersListResponse> => {\n  return request.get(endpoints.mcp.servers);\n};\n\n/**\n * Get a single MCP server by ID\n */\nexport const getMCPServer = async (serverName: string): Promise<mcp.MCPServerDBObjectResponse> => {\n  return request.get(endpoints.mcpServer(serverName));\n};\n\n/**\n * Create a new MCP server\n */\nexport const createMCPServer = async (\n  data: mcp.MCPServerCreateParams,\n): Promise<mcp.MCPServerDBObjectResponse> => {\n  return request.post(endpoints.mcp.servers, data);\n};\n\n/**\n * Update an existing MCP server\n */\nexport const updateMCPServer = async (\n  serverName: string,\n  data: mcp.MCPServerUpdateParams,\n): Promise<mcp.MCPServerDBObjectResponse> => {\n  return request.patch(endpoints.mcpServer(serverName), data);\n};\n\n/**\n * Delete an MCP server\n */\nexport const deleteMCPServer = async (serverName: string): Promise<{ success: boolean }> => {\n  return request.delete(endpoints.mcpServer(serverName));\n};\n\n/**\n * Imports a conversations file.\n *\n * @param data - The FormData containing the file to import.\n * @returns A Promise that resolves to the import start response.\n */\nexport const importConversationsFile = (data: FormData): Promise<t.TImportResponse> => {\n  return request.postMultiPart(endpoints.importConversation(), data);\n};\n\nexport const uploadAvatar = (data: FormData): Promise<f.AvatarUploadResponse> => {\n  return request.postMultiPart(endpoints.avatar(), data);\n};\n\nexport const uploadAssistantAvatar = (data: m.AssistantAvatarVariables): Promise<a.Assistant> => {\n  return request.postMultiPart(\n    endpoints.assistants({\n      isAvatar: true,\n      path: `${data.assistant_id}/avatar`,\n      options: { model: data.model, endpoint: data.endpoint },\n      version: data.version,\n    }),\n    data.formData,\n  );\n};\n\nexport const uploadAgentAvatar = (data: m.AgentAvatarVariables): Promise<a.Agent> => {\n  return request.postMultiPart(\n    `${endpoints.images()}/agents/${data.agent_id}/avatar`,\n    data.formData,\n  );\n};\n\nexport const getFileDownload = async (userId: string, file_id: string): Promise<AxiosResponse> => {\n  return request.getResponse(`${endpoints.files()}/download/${userId}/${file_id}`, {\n    responseType: 'blob',\n    headers: {\n      Accept: 'application/octet-stream',\n    },\n  });\n};\n\nexport const getCodeOutputDownload = async (url: string): Promise<AxiosResponse> => {\n  return request.getResponse(url, {\n    responseType: 'blob',\n    headers: {\n      Accept: 'application/octet-stream',\n    },\n  });\n};\n\nexport const deleteFiles = async (payload: {\n  files: f.BatchFile[];\n  agent_id?: string;\n  assistant_id?: string;\n  tool_resource?: a.EToolResources;\n}): Promise<f.DeleteFilesResponse> =>\n  request.deleteWithOptions(endpoints.files(), {\n    data: payload,\n  });\n\n/* Speech */\n\nexport const speechToText = (data: FormData): Promise<f.SpeechToTextResponse> => {\n  return request.postMultiPart(endpoints.speechToText(), data);\n};\n\nexport const textToSpeech = (data: FormData): Promise<ArrayBuffer> => {\n  return request.postTTS(endpoints.textToSpeechManual(), data);\n};\n\nexport const getVoices = (): Promise<f.VoiceResponse> => {\n  return request.get(endpoints.textToSpeechVoices());\n};\n\nexport const getCustomConfigSpeech = (): Promise<t.TCustomConfigSpeechResponse> => {\n  return request.get(endpoints.getCustomConfigSpeech());\n};\n\n/* conversations */\n\nexport function duplicateConversation(\n  payload: t.TDuplicateConvoRequest,\n): Promise<t.TDuplicateConvoResponse> {\n  return request.post(endpoints.duplicateConversation(), payload);\n}\n\nexport function forkConversation(payload: t.TForkConvoRequest): Promise<t.TForkConvoResponse> {\n  return request.post(endpoints.forkConversation(), payload);\n}\n\nexport function deleteConversation(payload: t.TDeleteConversationRequest) {\n  return request.deleteWithOptions(endpoints.deleteConversation(), { data: { arg: payload } });\n}\n\nexport function clearAllConversations(): Promise<unknown> {\n  return request.delete(endpoints.deleteAllConversation());\n}\n\nexport const listConversations = (\n  params?: q.ConversationListParams,\n): Promise<q.ConversationListResponse> => {\n  return request.get(endpoints.conversations(params ?? {}));\n};\n\nexport function getConversations(cursor: string): Promise<t.TGetConversationsResponse> {\n  return request.get(endpoints.conversations({ cursor }));\n}\n\nexport function getConversationById(id: string): Promise<s.TConversation> {\n  return request.get(endpoints.conversationById(id));\n}\n\nexport function updateConversation(\n  payload: t.TUpdateConversationRequest,\n): Promise<t.TUpdateConversationResponse> {\n  return request.post(endpoints.updateConversation(), { arg: payload });\n}\n\nexport function archiveConversation(\n  payload: t.TArchiveConversationRequest,\n): Promise<t.TArchiveConversationResponse> {\n  return request.post(endpoints.updateConversation(), { arg: payload });\n}\n\nexport function genTitle(payload: m.TGenTitleRequest): Promise<m.TGenTitleResponse> {\n  return request.post(endpoints.genTitle(), payload);\n}\n\nexport const listMessages = (params?: q.MessagesListParams): Promise<q.MessagesListResponse> => {\n  return request.get(endpoints.messages(params ?? {}));\n};\n\nexport function updateMessage(payload: t.TUpdateMessageRequest): Promise<unknown> {\n  const { conversationId, messageId, text } = payload;\n  if (!conversationId) {\n    throw new Error('conversationId is required');\n  }\n\n  return request.put(endpoints.messages({ conversationId, messageId }), { text });\n}\n\nexport function updateMessageContent(payload: t.TUpdateMessageContent): Promise<unknown> {\n  const { conversationId, messageId, index, text } = payload;\n  if (!conversationId) {\n    throw new Error('conversationId is required');\n  }\n\n  return request.put(endpoints.messages({ conversationId, messageId }), { text, index });\n}\n\nexport const editArtifact = async ({\n  messageId,\n  ...params\n}: m.TEditArtifactRequest): Promise<m.TEditArtifactResponse> => {\n  return request.post(endpoints.messagesArtifacts(messageId), params);\n};\n\nexport function getMessagesByConvoId(conversationId: string): Promise<s.TMessage[]> {\n  if (\n    conversationId === config.Constants.NEW_CONVO ||\n    conversationId === config.Constants.PENDING_CONVO\n  ) {\n    return Promise.resolve([]);\n  }\n  return request.get(endpoints.messages({ conversationId }));\n}\n\nexport function getPrompt(id: string): Promise<{ prompt: t.TPrompt }> {\n  return request.get(endpoints.getPrompt(id));\n}\n\nexport function getPrompts(filter: t.TPromptsWithFilterRequest): Promise<t.TPrompt[]> {\n  return request.get(endpoints.getPromptsWithFilters(filter));\n}\n\nexport function getAllPromptGroups(): Promise<q.AllPromptGroupsResponse> {\n  return request.get(endpoints.getAllPromptGroups());\n}\n\nexport function getPromptGroups(\n  filter: t.TPromptGroupsWithFilterRequest,\n): Promise<t.PromptGroupListResponse> {\n  return request.get(endpoints.getPromptGroupsWithFilters(filter));\n}\n\nexport function getPromptGroup(id: string): Promise<t.TPromptGroup> {\n  return request.get(endpoints.getPromptGroup(id));\n}\n\nexport function createPrompt(payload: t.TCreatePrompt): Promise<t.TCreatePromptResponse> {\n  return request.post(endpoints.postPrompt(), payload);\n}\n\nexport function addPromptToGroup(\n  groupId: string,\n  payload: t.TCreatePrompt,\n): Promise<t.TCreatePromptResponse> {\n  return request.post(endpoints.addPromptToGroup(groupId), payload);\n}\n\nexport function updatePromptGroup(\n  variables: t.TUpdatePromptGroupVariables,\n): Promise<t.TUpdatePromptGroupResponse> {\n  return request.patch(endpoints.updatePromptGroup(variables.id), variables.payload);\n}\n\nexport function deletePrompt(payload: t.TDeletePromptVariables): Promise<t.TDeletePromptResponse> {\n  return request.delete(endpoints.deletePrompt(payload));\n}\n\nexport function makePromptProduction(id: string): Promise<t.TMakePromptProductionResponse> {\n  return request.patch(endpoints.updatePromptTag(id));\n}\n\nexport function updatePromptLabels(\n  variables: t.TUpdatePromptLabelsRequest,\n): Promise<t.TUpdatePromptLabelsResponse> {\n  return request.patch(endpoints.updatePromptLabels(variables.id), variables.payload);\n}\n\nexport function deletePromptGroup(id: string): Promise<t.TDeletePromptGroupResponse> {\n  return request.delete(endpoints.deletePromptGroup(id));\n}\n\nexport function getCategories(): Promise<t.TGetCategoriesResponse> {\n  return request.get(endpoints.getCategories());\n}\n\nexport function getRandomPrompts(\n  variables: t.TGetRandomPromptsRequest,\n): Promise<t.TGetRandomPromptsResponse> {\n  return request.get(endpoints.getRandomPrompts(variables.limit, variables.skip));\n}\n\n/* Roles */\nexport function getRole(roleName: string): Promise<r.TRole> {\n  return request.get(endpoints.getRole(roleName));\n}\n\nexport function updatePromptPermissions(\n  variables: m.UpdatePromptPermVars,\n): Promise<m.UpdatePermResponse> {\n  return request.put(endpoints.updatePromptPermissions(variables.roleName), variables.updates);\n}\n\nexport function updateAgentPermissions(\n  variables: m.UpdateAgentPermVars,\n): Promise<m.UpdatePermResponse> {\n  return request.put(endpoints.updateAgentPermissions(variables.roleName), variables.updates);\n}\n\nexport function updateMemoryPermissions(\n  variables: m.UpdateMemoryPermVars,\n): Promise<m.UpdatePermResponse> {\n  return request.put(endpoints.updateMemoryPermissions(variables.roleName), variables.updates);\n}\n\nexport function updatePeoplePickerPermissions(\n  variables: m.UpdatePeoplePickerPermVars,\n): Promise<m.UpdatePermResponse> {\n  return request.put(\n    endpoints.updatePeoplePickerPermissions(variables.roleName),\n    variables.updates,\n  );\n}\n\nexport function updateMCPServersPermissions(\n  variables: m.UpdateMCPServersPermVars,\n): Promise<m.UpdatePermResponse> {\n  return request.put(endpoints.updateMCPServersPermissions(variables.roleName), variables.updates);\n}\n\nexport function updateMarketplacePermissions(\n  variables: m.UpdateMarketplacePermVars,\n): Promise<m.UpdatePermResponse> {\n  return request.put(endpoints.updateMarketplacePermissions(variables.roleName), variables.updates);\n}\n\n/* Tags */\nexport function getConversationTags(): Promise<t.TConversationTagsResponse> {\n  return request.get(endpoints.conversationTags());\n}\n\nexport function createConversationTag(\n  payload: t.TConversationTagRequest,\n): Promise<t.TConversationTagResponse> {\n  return request.post(endpoints.conversationTags(), payload);\n}\n\nexport function updateConversationTag(\n  tag: string,\n  payload: t.TConversationTagRequest,\n): Promise<t.TConversationTagResponse> {\n  return request.put(endpoints.conversationTags(tag), payload);\n}\nexport function deleteConversationTag(tag: string): Promise<t.TConversationTagResponse> {\n  return request.delete(endpoints.conversationTags(tag));\n}\n\nexport function addTagToConversation(\n  conversationId: string,\n  payload: t.TTagConversationRequest,\n): Promise<t.TTagConversationResponse> {\n  return request.put(endpoints.addTagToConversation(conversationId), payload);\n}\nexport function rebuildConversationTags(): Promise<t.TConversationTagsResponse> {\n  return request.post(endpoints.conversationTags('rebuild'));\n}\n\nexport function healthCheck(): Promise<string> {\n  return request.get(endpoints.health());\n}\n\nexport function getUserTerms(): Promise<t.TUserTermsResponse> {\n  return request.get(endpoints.userTerms());\n}\n\nexport function acceptTerms(): Promise<t.TAcceptTermsResponse> {\n  return request.post(endpoints.acceptUserTerms());\n}\n\nexport function getBanner(): Promise<t.TBannerResponse> {\n  return request.get(endpoints.banner());\n}\n\nexport function updateFeedback(\n  conversationId: string,\n  messageId: string,\n  payload: t.TUpdateFeedbackRequest,\n): Promise<t.TUpdateFeedbackResponse> {\n  return request.put(endpoints.feedback(conversationId, messageId), payload);\n}\n\n// 2FA\nexport function enableTwoFactor(): Promise<t.TEnable2FAResponse> {\n  return request.get(endpoints.enableTwoFactor());\n}\n\nexport function verifyTwoFactor(payload: t.TVerify2FARequest): Promise<t.TVerify2FAResponse> {\n  return request.post(endpoints.verifyTwoFactor(), payload);\n}\n\nexport function confirmTwoFactor(payload: t.TVerify2FARequest): Promise<t.TVerify2FAResponse> {\n  return request.post(endpoints.confirmTwoFactor(), payload);\n}\n\nexport function disableTwoFactor(payload?: t.TDisable2FARequest): Promise<t.TDisable2FAResponse> {\n  return request.post(endpoints.disableTwoFactor(), payload);\n}\n\nexport function regenerateBackupCodes(): Promise<t.TRegenerateBackupCodesResponse> {\n  return request.post(endpoints.regenerateBackupCodes());\n}\n\nexport function verifyTwoFactorTemp(\n  payload: t.TVerify2FATempRequest,\n): Promise<t.TVerify2FATempResponse> {\n  return request.post(endpoints.verifyTwoFactorTemp(), payload);\n}\n\n/* Memories */\nexport const getMemories = (): Promise<q.MemoriesResponse> => {\n  return request.get(endpoints.memories());\n};\n\nexport const deleteMemory = (key: string): Promise<void> => {\n  return request.delete(endpoints.memory(key));\n};\n\nexport const updateMemory = (\n  key: string,\n  value: string,\n  originalKey?: string,\n): Promise<q.TUserMemory> => {\n  return request.patch(endpoints.memory(originalKey || key), { key, value });\n};\n\nexport const updateMemoryPreferences = (preferences: {\n  memories: boolean;\n}): Promise<{ updated: boolean; preferences: { memories: boolean } }> => {\n  return request.patch(endpoints.memoryPreferences(), preferences);\n};\n\nexport const createMemory = (data: {\n  key: string;\n  value: string;\n}): Promise<{ created: boolean; memory: q.TUserMemory }> => {\n  return request.post(endpoints.memories(), data);\n};\n\nexport function searchPrincipals(\n  params: q.PrincipalSearchParams,\n): Promise<q.PrincipalSearchResponse> {\n  return request.get(endpoints.searchPrincipals(params));\n}\n\nexport function getAccessRoles(\n  resourceType: permissions.ResourceType,\n): Promise<q.AccessRolesResponse> {\n  return request.get(endpoints.getAccessRoles(resourceType));\n}\n\nexport function getResourcePermissions(\n  resourceType: permissions.ResourceType,\n  resourceId: string,\n): Promise<permissions.TGetResourcePermissionsResponse> {\n  return request.get(endpoints.getResourcePermissions(resourceType, resourceId));\n}\n\nexport function updateResourcePermissions(\n  resourceType: permissions.ResourceType,\n  resourceId: string,\n  data: permissions.TUpdateResourcePermissionsRequest,\n): Promise<permissions.TUpdateResourcePermissionsResponse> {\n  return request.put(endpoints.updateResourcePermissions(resourceType, resourceId), data);\n}\n\nexport function getEffectivePermissions(\n  resourceType: permissions.ResourceType,\n  resourceId: string,\n): Promise<permissions.TEffectivePermissionsResponse> {\n  return request.get(endpoints.getEffectivePermissions(resourceType, resourceId));\n}\n\nexport function getAllEffectivePermissions(\n  resourceType: permissions.ResourceType,\n): Promise<permissions.TAllEffectivePermissionsResponse> {\n  return request.get(endpoints.getAllEffectivePermissions(resourceType));\n}\n\n// SharePoint Graph API Token\nexport function getGraphApiToken(params: q.GraphTokenParams): Promise<q.GraphTokenResponse> {\n  return request.get(endpoints.graphToken(params.scopes));\n}\n\nexport function getDomainServerBaseUrl(): string {\n  return `${endpoints.apiBaseUrl()}/api`;\n}\n","import { z } from 'zod';\nimport { URL } from 'url';\nimport _axios from 'axios';\nimport crypto from 'crypto';\nimport { load } from 'js-yaml';\nimport type { ActionMetadata, ActionMetadataRuntime } from './types/agents';\nimport type { FunctionTool, Schema, Reference } from './types/assistants';\nimport { AuthTypeEnum, AuthorizationTypeEnum } from './types/agents';\nimport type { OpenAPIV3 } from 'openapi-types';\nimport { Tools } from './types/assistants';\n\nexport type ParametersSchema = {\n  type: string;\n  properties: Record<string, Reference | Schema>;\n  required: string[];\n  additionalProperties?: boolean;\n};\n\nexport type OpenAPISchema = OpenAPIV3.SchemaObject &\n  ParametersSchema & {\n    items?: OpenAPIV3.ReferenceObject | OpenAPIV3.SchemaObject;\n  };\n\nexport type ApiKeyCredentials = {\n  api_key: string;\n  custom_auth_header?: string;\n  authorization_type?: AuthorizationTypeEnum;\n};\n\nexport type OAuthCredentials = {\n  tokenUrl: string;\n  clientId: string;\n  clientSecret: string;\n  scope: string;\n};\n\nexport type Credentials = ApiKeyCredentials | OAuthCredentials;\n\ntype MediaTypeObject =\n  | undefined\n  | {\n      [media: string]: OpenAPIV3.MediaTypeObject | undefined;\n    };\n\ntype RequestBodyObject = Omit<OpenAPIV3.RequestBodyObject, 'content'> & {\n  content: MediaTypeObject;\n};\n\nexport function sha1(input: string) {\n  return crypto.createHash('sha1').update(input).digest('hex');\n}\n\nexport function createURL(domain: string, path: string) {\n  const cleanDomain = domain.replace(/\\/$/, '');\n  const cleanPath = path.replace(/^\\//, '');\n  const fullURL = `${cleanDomain}/${cleanPath}`;\n  return new URL(fullURL).toString();\n}\n\nconst schemaTypeHandlers: Record<string, (schema: OpenAPISchema) => z.ZodTypeAny> = {\n  string: (schema) => {\n    if (schema.enum) {\n      return z.enum(schema.enum as [string, ...string[]]);\n    }\n\n    let stringSchema = z.string();\n    if (schema.minLength !== undefined) {\n      stringSchema = stringSchema.min(schema.minLength);\n    }\n    if (schema.maxLength !== undefined) {\n      stringSchema = stringSchema.max(schema.maxLength);\n    }\n    return stringSchema;\n  },\n  number: (schema) => {\n    let numberSchema = z.number();\n    if (schema.minimum !== undefined) {\n      numberSchema = numberSchema.min(schema.minimum);\n    }\n    if (schema.maximum !== undefined) {\n      numberSchema = numberSchema.max(schema.maximum);\n    }\n    return numberSchema;\n  },\n  integer: (schema) => (schemaTypeHandlers.number(schema) as z.ZodNumber).int(),\n  boolean: () => z.boolean(),\n  array: (schema) => {\n    if (schema.items) {\n      const zodSchema = openAPISchemaToZod(schema.items as OpenAPISchema);\n      if (zodSchema) {\n        return z.array(zodSchema);\n      }\n\n      return z.array(z.unknown());\n    }\n    return z.array(z.unknown());\n  },\n  object: (schema) => {\n    const shape: { [key: string]: z.ZodTypeAny } = {};\n    if (schema.properties) {\n      Object.entries(schema.properties).forEach(([key, value]) => {\n        const zodSchema = openAPISchemaToZod(value as OpenAPISchema);\n        shape[key] = zodSchema || z.unknown();\n        if (schema.required && schema.required.includes(key)) {\n          shape[key] = shape[key].describe(value.description || '');\n        } else {\n          shape[key] = shape[key].optional().describe(value.description || '');\n        }\n      });\n    }\n    return z.object(shape);\n  },\n};\n\nfunction openAPISchemaToZod(schema: OpenAPISchema): z.ZodTypeAny | undefined {\n  if (schema.type === 'object' && Object.keys(schema.properties || {}).length === 0) {\n    return undefined;\n  }\n\n  const handler = schemaTypeHandlers[schema.type as string] || (() => z.unknown());\n  return handler(schema);\n}\n\n/**\n * Class representing a function signature.\n */\nexport class FunctionSignature {\n  name: string;\n  description: string;\n  parameters: ParametersSchema;\n  strict: boolean;\n\n  constructor(name: string, description: string, parameters: ParametersSchema, strict?: boolean) {\n    this.name = name;\n    this.description = description;\n    this.parameters = parameters;\n    this.strict = strict ?? false;\n  }\n\n  toObjectTool(): FunctionTool {\n    const parameters = {\n      ...this.parameters,\n      additionalProperties: this.strict ? false : undefined,\n    };\n\n    return {\n      type: Tools.function,\n      function: {\n        name: this.name,\n        description: this.description,\n        parameters,\n        ...(this.strict ? { strict: this.strict } : {}),\n      },\n    };\n  }\n}\n\nclass RequestConfig {\n  constructor(\n    readonly domain: string,\n    readonly basePath: string,\n    readonly method: string,\n    readonly operation: string,\n    readonly isConsequential: boolean,\n    readonly contentType: string,\n    readonly parameterLocations?: Record<string, 'query' | 'path' | 'header' | 'body'>,\n  ) {}\n}\n\nclass RequestExecutor {\n  path: string;\n  params?: Record<string, unknown>;\n  private operationHash?: string;\n  private authHeaders: Record<string, string> = {};\n  private authToken?: string;\n\n  constructor(private config: RequestConfig) {\n    this.path = config.basePath;\n  }\n\n  setParams(params: Record<string, unknown>) {\n    this.operationHash = sha1(JSON.stringify(params));\n    this.params = { ...params } as Record<string, unknown>;\n    if (this.config.parameterLocations) {\n      //Substituting Path Parameters:\n      for (const [key, value] of Object.entries(params)) {\n        if (this.config.parameterLocations[key] === 'path') {\n          const paramPattern = `{${key}}`;\n          if (this.path.includes(paramPattern)) {\n            this.path = this.path.replace(paramPattern, encodeURIComponent(String(value)));\n            delete this.params[key];\n          }\n        }\n      }\n    } else {\n      // Fallback: if no locations are defined, perform path substitution for all keys.\n      for (const [key, value] of Object.entries(params)) {\n        const paramPattern = `{${key}}`;\n        if (this.path.includes(paramPattern)) {\n          this.path = this.path.replace(paramPattern, encodeURIComponent(String(value)));\n          delete this.params[key];\n        }\n      }\n    }\n    return this;\n  }\n\n  async setAuth(metadata: ActionMetadataRuntime) {\n    if (!metadata.auth) {\n      return this;\n    }\n\n    const {\n      type,\n      /* API Key */\n      authorization_type,\n      custom_auth_header,\n      /* OAuth */\n      authorization_url,\n      client_url,\n      scope,\n      token_exchange_method,\n    } = metadata.auth;\n\n    const {\n      /* API Key */\n      api_key,\n      /* OAuth */\n      oauth_client_id,\n      oauth_client_secret,\n      oauth_token_expires_at,\n      oauth_access_token = '',\n    } = metadata;\n\n    const isApiKey = api_key != null && api_key.length > 0 && type === AuthTypeEnum.ServiceHttp;\n    const isOAuth = !!(\n      oauth_client_id != null &&\n      oauth_client_id &&\n      oauth_client_secret != null &&\n      oauth_client_secret &&\n      type === AuthTypeEnum.OAuth &&\n      authorization_url != null &&\n      authorization_url &&\n      client_url != null &&\n      client_url &&\n      scope != null &&\n      scope &&\n      token_exchange_method\n    );\n\n    if (isApiKey && authorization_type === AuthorizationTypeEnum.Basic) {\n      const basicToken = Buffer.from(api_key).toString('base64');\n      this.authHeaders['Authorization'] = `Basic ${basicToken}`;\n    } else if (isApiKey && authorization_type === AuthorizationTypeEnum.Bearer) {\n      this.authHeaders['Authorization'] = `Bearer ${api_key}`;\n    } else if (\n      isApiKey &&\n      authorization_type === AuthorizationTypeEnum.Custom &&\n      custom_auth_header != null &&\n      custom_auth_header\n    ) {\n      this.authHeaders[custom_auth_header] = api_key;\n    } else if (isOAuth) {\n      // TODO: maybe doing it in a different way later on. but we want that the user needs to folllow the oauth flow.\n      // If we do not have a valid token, bail or ask user to sign in\n      const now = new Date();\n\n      // 1. Check if token is set\n      if (!oauth_access_token) {\n        throw new Error('No access token found. Please log in first.');\n      }\n\n      // 2. Check if token is expired\n      if (oauth_token_expires_at && now >= new Date(oauth_token_expires_at)) {\n        // Optionally check refresh_token logic, or just prompt user to re-login\n        throw new Error('Access token is expired. Please re-login.');\n      }\n\n      // If valid, use it\n      this.authToken = oauth_access_token;\n      this.authHeaders['Authorization'] = `Bearer ${this.authToken}`;\n    }\n    return this;\n  }\n\n  async execute() {\n    const url = createURL(this.config.domain, this.path);\n    const headers: Record<string, string> = {\n      ...this.authHeaders,\n      ...(this.config.contentType ? { 'Content-Type': this.config.contentType } : {}),\n    };\n    const method = this.config.method.toLowerCase();\n    const axios = _axios.create();\n\n    // Initialize separate containers for query and body parameters.\n    const queryParams: Record<string, unknown> = {};\n    const bodyParams: Record<string, unknown> = {};\n\n    if (this.config.parameterLocations && this.params) {\n      for (const key of Object.keys(this.params)) {\n        // Determine parameter placement; default to \"query\" for GET and \"body\" for others.\n        const loc: 'query' | 'path' | 'header' | 'body' =\n          this.config.parameterLocations[key] || (method === 'get' ? 'query' : 'body');\n\n        const val = this.params[key];\n        if (loc === 'query') {\n          queryParams[key] = val;\n        } else if (loc === 'header') {\n          headers[key] = String(val);\n        } else if (loc === 'body') {\n          bodyParams[key] = val;\n        }\n      }\n    } else if (this.params) {\n      Object.assign(queryParams, this.params);\n      Object.assign(bodyParams, this.params);\n    }\n\n    if (method === 'get') {\n      return axios.get(url, { headers, params: queryParams });\n    } else if (method === 'post') {\n      return axios.post(url, bodyParams, { headers, params: queryParams });\n    } else if (method === 'put') {\n      return axios.put(url, bodyParams, { headers, params: queryParams });\n    } else if (method === 'delete') {\n      return axios.delete(url, { headers, data: bodyParams, params: queryParams });\n    } else if (method === 'patch') {\n      return axios.patch(url, bodyParams, { headers, params: queryParams });\n    } else {\n      throw new Error(`Unsupported HTTP method: ${method}`);\n    }\n  }\n\n  getConfig() {\n    return this.config;\n  }\n}\n\nexport class ActionRequest {\n  private config: RequestConfig;\n\n  constructor(\n    domain: string,\n    path: string,\n    method: string,\n    operation: string,\n    isConsequential: boolean,\n    contentType: string,\n    parameterLocations?: Record<string, 'query' | 'path' | 'header' | 'body'>,\n  ) {\n    this.config = new RequestConfig(\n      domain,\n      path,\n      method,\n      operation,\n      isConsequential,\n      contentType,\n      parameterLocations,\n    );\n  }\n\n  // Add getters to maintain backward compatibility\n  get domain() {\n    return this.config.domain;\n  }\n  get path() {\n    return this.config.basePath;\n  }\n  get method() {\n    return this.config.method;\n  }\n  get operation() {\n    return this.config.operation;\n  }\n  get isConsequential() {\n    return this.config.isConsequential;\n  }\n  get contentType() {\n    return this.config.contentType;\n  }\n\n  createExecutor() {\n    return new RequestExecutor(this.config);\n  }\n\n  // Maintain backward compatibility by delegating to a new executor\n  setParams(params: Record<string, unknown>) {\n    const executor = this.createExecutor();\n    executor.setParams(params);\n    return executor;\n  }\n\n  async setAuth(metadata: ActionMetadata) {\n    const executor = this.createExecutor();\n    return executor.setAuth(metadata);\n  }\n\n  async execute() {\n    const executor = this.createExecutor();\n    return executor.execute();\n  }\n}\n\nexport function resolveRef<\n  T extends\n    | OpenAPIV3.ReferenceObject\n    | OpenAPIV3.SchemaObject\n    | OpenAPIV3.ParameterObject\n    | OpenAPIV3.RequestBodyObject,\n>(obj: T, components?: OpenAPIV3.ComponentsObject): Exclude<T, OpenAPIV3.ReferenceObject> {\n  if ('$ref' in obj && components) {\n    const refPath = obj.$ref.replace(/^#\\/components\\//, '').split('/');\n\n    let resolved: unknown = components as Record<string, unknown>;\n    for (const segment of refPath) {\n      if (typeof resolved === 'object' && resolved !== null && segment in resolved) {\n        resolved = (resolved as Record<string, unknown>)[segment];\n      } else {\n        throw new Error(`Could not resolve reference: ${obj.$ref}`);\n      }\n    }\n\n    return resolveRef(resolved as typeof obj, components) as Exclude<T, OpenAPIV3.ReferenceObject>;\n  }\n\n  return obj as Exclude<T, OpenAPIV3.ReferenceObject>;\n}\n\nfunction sanitizeOperationId(input: string) {\n  return input.replace(/[^a-zA-Z0-9_-]/g, '');\n}\n\n/**\n * Converts an OpenAPI spec to function signatures and request builders.\n */\nexport function openapiToFunction(\n  openapiSpec: OpenAPIV3.Document,\n  generateZodSchemas = false,\n): {\n  functionSignatures: FunctionSignature[];\n  requestBuilders: Record<string, ActionRequest>;\n  zodSchemas?: Record<string, z.ZodTypeAny>;\n} {\n  const functionSignatures: FunctionSignature[] = [];\n  const requestBuilders: Record<string, ActionRequest> = {};\n  const zodSchemas: Record<string, z.ZodTypeAny> = {};\n  const baseUrl = openapiSpec.servers?.[0]?.url ?? '';\n\n  // Iterate over each path and method in the OpenAPI spec\n  for (const [path, methods] of Object.entries(openapiSpec.paths)) {\n    for (const [method, operation] of Object.entries(methods as OpenAPIV3.PathsObject)) {\n      const paramLocations: Record<string, 'query' | 'path' | 'header' | 'body'> = {};\n      const operationObj = operation as OpenAPIV3.OperationObject & {\n        'x-openai-isConsequential'?: boolean;\n      } & {\n        'x-strict'?: boolean;\n      };\n\n      // Operation ID is used as the function name\n      const defaultOperationId = `${method}_${path}`;\n      const operationId = operationObj.operationId || sanitizeOperationId(defaultOperationId);\n      const description = operationObj.summary || operationObj.description || '';\n      const isStrict = operationObj['x-strict'] ?? false;\n\n      const parametersSchema: OpenAPISchema = {\n        type: 'object',\n        properties: {},\n        required: [],\n      };\n\n      if (operationObj.parameters) {\n        for (const param of operationObj.parameters ?? []) {\n          const resolvedParam = resolveRef(\n            param,\n            openapiSpec.components,\n          ) as OpenAPIV3.ParameterObject;\n\n          const paramName = resolvedParam.name;\n          if (!paramName || !resolvedParam.schema) {\n            continue;\n          }\n\n          const paramSchema = resolveRef(\n            resolvedParam.schema,\n            openapiSpec.components,\n          ) as OpenAPIV3.SchemaObject;\n\n          parametersSchema.properties[paramName] = paramSchema;\n          if (resolvedParam.required) {\n            parametersSchema.required.push(paramName);\n          }\n          // Record the parameter location from the OpenAPI \"in\" field.\n          paramLocations[paramName] =\n            resolvedParam.in === 'query' ||\n            resolvedParam.in === 'path' ||\n            resolvedParam.in === 'header' ||\n            resolvedParam.in === 'body'\n              ? resolvedParam.in\n              : 'query';\n        }\n      }\n\n      let contentType = '';\n      if (operationObj.requestBody) {\n        const requestBody = operationObj.requestBody as RequestBodyObject;\n        const content = requestBody.content;\n        contentType = Object.keys(content ?? {})[0];\n        const schema = content?.[contentType]?.schema;\n        const resolvedSchema = resolveRef(\n          schema as OpenAPIV3.ReferenceObject | OpenAPIV3.SchemaObject,\n          openapiSpec.components,\n        );\n        parametersSchema.properties = {\n          ...parametersSchema.properties,\n          ...resolvedSchema.properties,\n        };\n        if (resolvedSchema.required) {\n          parametersSchema.required.push(...resolvedSchema.required);\n        }\n        // Mark requestBody properties as belonging to the \"body\"\n        if (resolvedSchema.properties) {\n          for (const key in resolvedSchema.properties) {\n            paramLocations[key] = 'body';\n          }\n        }\n\n        contentType = contentType ?? 'application/json';\n      }\n\n      const functionSignature = new FunctionSignature(\n        operationId,\n        description,\n        parametersSchema,\n        isStrict,\n      );\n      functionSignatures.push(functionSignature);\n\n      const actionRequest = new ActionRequest(\n        baseUrl,\n        path,\n        method,\n        operationId,\n        !!(operationObj['x-openai-isConsequential'] ?? false),\n        contentType,\n        paramLocations,\n      );\n\n      requestBuilders[operationId] = actionRequest;\n\n      if (generateZodSchemas && Object.keys(parametersSchema.properties).length > 0) {\n        const schema = openAPISchemaToZod(parametersSchema);\n        if (schema) {\n          zodSchemas[operationId] = schema;\n        }\n      }\n    }\n  }\n\n  return { functionSignatures, requestBuilders, zodSchemas };\n}\n\nexport type ValidationResult = {\n  status: boolean;\n  message: string;\n  spec?: OpenAPIV3.Document;\n  serverUrl?: string;\n};\n\n/**\n * Cross-platform IP validation (works in Node.js and browser).\n * @param input - String to check if it's an IP address\n * @returns 0 if not IP, 4 for IPv4, 6 for IPv6\n */\nfunction isIP(input: string): number {\n  // IPv4 regex - matches 0.0.0.0 to 255.255.255.255\n  const ipv4Regex =\n    /^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;\n\n  if (ipv4Regex.test(input)) {\n    return 4;\n  }\n\n  // IPv6 regex - simplified but covers most cases\n  // Handles compressed (::), full, and mixed notations\n  const ipv6Regex =\n    /^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/;\n\n  if (ipv6Regex.test(input)) {\n    return 6;\n  }\n\n  return 0;\n}\n\n/**\n * Extracts domain from URL (protocol + hostname).\n * @param url - URL to extract from\n * @returns Protocol and hostname (e.g., \"https://example.com\")\n */\nexport function extractDomainFromUrl(url: string): string {\n  try {\n    /** Parsed URL object */\n    const parsedUrl = new URL(url);\n    // Preserve brackets for IPv6 addresses using isIP\n    const ipVersion = isIP(parsedUrl.hostname);\n    const hostname = ipVersion === 6 ? `[${parsedUrl.hostname}]` : parsedUrl.hostname;\n    return `${parsedUrl.protocol}//${hostname}`;\n  } catch {\n    throw new Error(`Invalid URL format: ${url}`);\n  }\n}\n\nexport type DomainValidationResult = {\n  isValid: boolean;\n  message?: string;\n  normalizedSpecDomain?: string;\n  normalizedClientDomain?: string;\n};\n\n/**\n * Validates client domain matches OpenAPI spec server URL domain (SSRF prevention).\n * @param clientProvidedDomain - Domain from client (with/without protocol)\n * @param specServerUrl - Server URL from OpenAPI spec\n * @returns Validation result with normalized domains\n */\nexport function validateActionDomain(\n  clientProvidedDomain: string,\n  specServerUrl: string,\n): DomainValidationResult {\n  try {\n    /** Parsed spec URL */\n    const specUrl = new URL(specServerUrl);\n\n    if (specUrl.protocol !== 'http:' && specUrl.protocol !== 'https:') {\n      return {\n        isValid: false,\n        message: `Invalid protocol: Only HTTP and HTTPS are allowed, got ${specUrl.protocol}`,\n      };\n    }\n\n    /** Spec hostname only */\n    const specHostname = specUrl.hostname;\n    /** Spec domain with protocol (handle IPv6 brackets) */\n    const specIpVersion = isIP(specHostname);\n    const normalizedSpecDomain =\n      specIpVersion === 6\n        ? `${specUrl.protocol}//[${specHostname}]`\n        : `${specUrl.protocol}//${specHostname}`;\n\n    /** Extract hostname from client domain if it's a full URL */\n    let clientHostname = clientProvidedDomain;\n    let clientHasProtocol = false;\n\n    // Check for any protocol in the client domain\n    if (clientProvidedDomain.includes('://')) {\n      if (\n        !clientProvidedDomain.startsWith('http://') &&\n        !clientProvidedDomain.startsWith('https://')\n      ) {\n        return {\n          isValid: false,\n          message: `Invalid protocol: Only HTTP and HTTPS are allowed in client domain`,\n        };\n      }\n      try {\n        const clientUrl = new URL(clientProvidedDomain);\n        clientHostname = clientUrl.hostname;\n        clientHasProtocol = true;\n      } catch {\n        // If parsing fails, treat as hostname\n        clientHasProtocol = false;\n      }\n    }\n\n    /** Normalize IPv6 addresses by removing brackets for comparison */\n    const normalizedClientHostname = clientHostname.replace(/^\\[(.+)\\]$/, '$1');\n    const normalizedSpecHostname = specHostname.replace(/^\\[(.+)\\]$/, '$1');\n\n    /** Check if hostname is valid IP using cross-platform isIP */\n    const isIPAddress = isIP(normalizedClientHostname) !== 0;\n\n    /** Normalized client domain */\n    let normalizedClientDomain: string;\n    if (clientHasProtocol) {\n      normalizedClientDomain = extractDomainFromUrl(clientProvidedDomain);\n    } else {\n      // IP addresses inherit protocol from spec, domains default to https\n      if (isIPAddress) {\n        // IPv6 addresses need brackets in URLs\n        const ipVersion = isIP(normalizedClientHostname);\n        const hostname =\n          ipVersion === 6 && !clientHostname.startsWith('[')\n            ? `[${normalizedClientHostname}]`\n            : clientHostname;\n        normalizedClientDomain = `${specUrl.protocol}//${hostname}`;\n      } else {\n        normalizedClientDomain = `https://${clientHostname}`;\n      }\n    }\n\n    if (\n      normalizedSpecDomain === normalizedClientDomain ||\n      (!clientHasProtocol && isIPAddress && normalizedClientHostname === normalizedSpecHostname)\n    ) {\n      return {\n        isValid: true,\n        normalizedSpecDomain,\n        normalizedClientDomain,\n      };\n    }\n\n    return {\n      isValid: false,\n      message: `Domain mismatch: Client provided '${clientProvidedDomain}', but spec uses '${specHostname}'`,\n      normalizedSpecDomain,\n      normalizedClientDomain,\n    };\n  } catch (error) {\n    return {\n      isValid: false,\n      message: `Failed to validate domain: ${error instanceof Error ? error.message : 'Unknown error'}`,\n    };\n  }\n}\n\n/**\n * Validates and parses an OpenAPI spec.\n */\nexport function validateAndParseOpenAPISpec(specString: string): ValidationResult {\n  try {\n    let parsedSpec;\n    try {\n      parsedSpec = JSON.parse(specString);\n    } catch {\n      parsedSpec = load(specString);\n    }\n\n    // Check for servers\n    if (\n      !parsedSpec.servers ||\n      !Array.isArray(parsedSpec.servers) ||\n      parsedSpec.servers.length === 0\n    ) {\n      return { status: false, message: 'Could not find a valid URL in `servers`' };\n    }\n\n    if (!parsedSpec.servers[0].url) {\n      return { status: false, message: 'Could not find a valid URL in `servers`' };\n    }\n\n    // Check for paths\n    const paths = parsedSpec.paths;\n    if (!paths || typeof paths !== 'object' || Object.keys(paths).length === 0) {\n      return { status: false, message: 'No paths found in the OpenAPI spec.' };\n    }\n\n    const components = parsedSpec.components?.schemas || {};\n    const messages = [];\n\n    for (const [path, methods] of Object.entries(paths)) {\n      for (const [httpMethod, operation] of Object.entries(methods as OpenAPIV3.PathItemObject)) {\n        // Ensure operation is a valid operation object\n        const { responses } = operation as OpenAPIV3.OperationObject | { responses: undefined };\n        if (typeof operation === 'object' && responses) {\n          for (const [statusCode, response] of Object.entries(responses)) {\n            const content = (response as OpenAPIV3.ResponseObject).content as MediaTypeObject;\n            if (content && content['application/json'] && content['application/json'].schema) {\n              const schema = content['application/json'].schema;\n              if ('$ref' in schema && typeof schema.$ref === 'string') {\n                const refName = schema.$ref.split('/').pop();\n                if (refName && !components[refName]) {\n                  messages.push(\n                    `In context=('paths', '${path}', '${httpMethod}', '${statusCode}', 'response', 'content', 'application/json', 'schema'), reference to unknown component ${refName}; using empty schema`,\n                  );\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n\n    return {\n      status: true,\n      message: messages.join('\\n') || 'OpenAPI spec is valid.',\n      spec: parsedSpec,\n      serverUrl: parsedSpec.servers[0].url,\n    };\n  } catch (error) {\n    console.error(error);\n    return { status: false, message: 'Error parsing OpenAPI spec.' };\n  }\n}\n","import {\n  Verbosity,\n  ImageDetail,\n  EModelEndpoint,\n  openAISettings,\n  googleSettings,\n  ReasoningEffort,\n  ReasoningSummary,\n  BedrockProviders,\n  anthropicSettings,\n} from './types';\nimport { SettingDefinition, SettingsConfiguration } from './generate';\n\n// Base definitions\nconst baseDefinitions: Record<string, SettingDefinition> = {\n  model: {\n    key: 'model',\n    label: 'com_ui_model',\n    labelCode: true,\n    type: 'string',\n    component: 'dropdown',\n    optionType: 'model',\n    selectPlaceholder: 'com_ui_select_model',\n    searchPlaceholder: 'com_ui_select_search_model',\n    searchPlaceholderCode: true,\n    selectPlaceholderCode: true,\n    columnSpan: 4,\n  },\n  temperature: {\n    key: 'temperature',\n    label: 'com_endpoint_temperature',\n    labelCode: true,\n    description: 'com_endpoint_openai_temp',\n    descriptionCode: true,\n    type: 'number',\n    component: 'slider',\n    optionType: 'model',\n    columnSpan: 4,\n  },\n  topP: {\n    key: 'topP',\n    label: 'com_endpoint_top_p',\n    labelCode: true,\n    description: 'com_endpoint_anthropic_topp',\n    descriptionCode: true,\n    type: 'number',\n    component: 'slider',\n    optionType: 'model',\n    columnSpan: 4,\n  },\n  stop: {\n    key: 'stop',\n    label: 'com_endpoint_stop',\n    labelCode: true,\n    description: 'com_endpoint_openai_stop',\n    descriptionCode: true,\n    placeholder: 'com_endpoint_stop_placeholder',\n    placeholderCode: true,\n    type: 'array',\n    default: [],\n    component: 'tags',\n    optionType: 'conversation',\n    minTags: 0,\n    maxTags: 4,\n  },\n  imageDetail: {\n    key: 'imageDetail',\n    label: 'com_endpoint_plug_image_detail',\n    labelCode: true,\n    description: 'com_endpoint_openai_detail',\n    descriptionCode: true,\n    type: 'enum',\n    default: ImageDetail.auto,\n    component: 'slider',\n    options: [ImageDetail.low, ImageDetail.auto, ImageDetail.high],\n    enumMappings: {\n      [ImageDetail.low]: 'com_ui_low',\n      [ImageDetail.auto]: 'com_ui_auto',\n      [ImageDetail.high]: 'com_ui_high',\n    },\n    optionType: 'conversation',\n    columnSpan: 2,\n  },\n};\n\nconst createDefinition = (\n  base: Partial<SettingDefinition>,\n  overrides: Partial<SettingDefinition>,\n): SettingDefinition => {\n  return { ...base, ...overrides } as SettingDefinition;\n};\n\nexport const librechat = {\n  modelLabel: {\n    key: 'modelLabel',\n    label: 'com_endpoint_custom_name',\n    labelCode: true,\n    type: 'string',\n    default: '',\n    component: 'input',\n    placeholder: 'com_endpoint_openai_custom_name_placeholder',\n    placeholderCode: true,\n    optionType: 'conversation',\n  } as const,\n  maxContextTokens: {\n    key: 'maxContextTokens',\n    label: 'com_endpoint_context_tokens',\n    labelCode: true,\n    type: 'number',\n    component: 'input',\n    placeholder: 'com_nav_theme_system',\n    placeholderCode: true,\n    description: 'com_endpoint_context_info',\n    descriptionCode: true,\n    optionType: 'model',\n    columnSpan: 2,\n  } as const,\n  resendFiles: {\n    key: 'resendFiles',\n    label: 'com_endpoint_plug_resend_files',\n    labelCode: true,\n    description: 'com_endpoint_openai_resend_files',\n    descriptionCode: true,\n    type: 'boolean',\n    default: true,\n    component: 'switch',\n    optionType: 'conversation',\n    showDefault: false,\n    columnSpan: 2,\n  } as const,\n  promptPrefix: {\n    key: 'promptPrefix',\n    label: 'com_endpoint_prompt_prefix',\n    labelCode: true,\n    type: 'string',\n    default: '',\n    component: 'textarea',\n    placeholder: 'com_endpoint_openai_prompt_prefix_placeholder',\n    placeholderCode: true,\n    optionType: 'model',\n  } as const,\n  fileTokenLimit: {\n    key: 'fileTokenLimit',\n    label: 'com_ui_file_token_limit',\n    labelCode: true,\n    description: 'com_ui_file_token_limit_desc',\n    descriptionCode: true,\n    placeholder: 'com_nav_theme_system',\n    placeholderCode: true,\n    type: 'number',\n    component: 'input',\n    columnSpan: 2,\n  } as const,\n};\n\nconst openAIParams: Record<string, SettingDefinition> = {\n  chatGptLabel: {\n    ...librechat.modelLabel,\n    key: 'chatGptLabel',\n  },\n  promptPrefix: librechat.promptPrefix,\n  temperature: createDefinition(baseDefinitions.temperature, {\n    default: openAISettings.temperature.default,\n    range: {\n      min: openAISettings.temperature.min,\n      max: openAISettings.temperature.max,\n      step: openAISettings.temperature.step,\n    },\n  }),\n  top_p: createDefinition(baseDefinitions.topP, {\n    key: 'top_p',\n    default: openAISettings.top_p.default,\n    range: {\n      min: openAISettings.top_p.min,\n      max: openAISettings.top_p.max,\n      step: openAISettings.top_p.step,\n    },\n  }),\n  frequency_penalty: {\n    key: 'frequency_penalty',\n    label: 'com_endpoint_frequency_penalty',\n    labelCode: true,\n    description: 'com_endpoint_openai_freq',\n    descriptionCode: true,\n    type: 'number',\n    default: openAISettings.frequency_penalty.default,\n    range: {\n      min: openAISettings.frequency_penalty.min,\n      max: openAISettings.frequency_penalty.max,\n      step: openAISettings.frequency_penalty.step,\n    },\n    component: 'slider',\n    optionType: 'model',\n    columnSpan: 4,\n  },\n  presence_penalty: {\n    key: 'presence_penalty',\n    label: 'com_endpoint_presence_penalty',\n    labelCode: true,\n    description: 'com_endpoint_openai_pres',\n    descriptionCode: true,\n    type: 'number',\n    default: openAISettings.presence_penalty.default,\n    range: {\n      min: openAISettings.presence_penalty.min,\n      max: openAISettings.presence_penalty.max,\n      step: openAISettings.presence_penalty.step,\n    },\n    component: 'slider',\n    optionType: 'model',\n    columnSpan: 4,\n  },\n  max_tokens: {\n    key: 'max_tokens',\n    label: 'com_endpoint_max_output_tokens',\n    labelCode: true,\n    type: 'number',\n    component: 'input',\n    description: 'com_endpoint_openai_max_tokens',\n    descriptionCode: true,\n    placeholder: 'com_nav_theme_system',\n    placeholderCode: true,\n    optionType: 'model',\n    columnSpan: 2,\n  },\n  reasoning_effort: {\n    key: 'reasoning_effort',\n    label: 'com_endpoint_reasoning_effort',\n    labelCode: true,\n    description: 'com_endpoint_openai_reasoning_effort',\n    descriptionCode: true,\n    type: 'enum',\n    default: ReasoningEffort.unset,\n    component: 'slider',\n    options: [\n      ReasoningEffort.unset,\n      ReasoningEffort.none,\n      ReasoningEffort.minimal,\n      ReasoningEffort.low,\n      ReasoningEffort.medium,\n      ReasoningEffort.high,\n    ],\n    enumMappings: {\n      [ReasoningEffort.unset]: 'com_ui_auto',\n      [ReasoningEffort.none]: 'com_ui_none',\n      [ReasoningEffort.minimal]: 'com_ui_minimal',\n      [ReasoningEffort.low]: 'com_ui_low',\n      [ReasoningEffort.medium]: 'com_ui_medium',\n      [ReasoningEffort.high]: 'com_ui_high',\n    },\n    optionType: 'model',\n    columnSpan: 4,\n  },\n  useResponsesApi: {\n    key: 'useResponsesApi',\n    label: 'com_endpoint_use_responses_api',\n    labelCode: true,\n    description: 'com_endpoint_openai_use_responses_api',\n    descriptionCode: true,\n    type: 'boolean',\n    default: false,\n    component: 'switch',\n    optionType: 'model',\n    showDefault: false,\n    columnSpan: 2,\n  },\n  web_search: {\n    key: 'web_search',\n    label: 'com_ui_web_search',\n    labelCode: true,\n    description: 'com_endpoint_openai_use_web_search',\n    descriptionCode: true,\n    type: 'boolean',\n    default: false,\n    component: 'switch',\n    optionType: 'model',\n    showDefault: false,\n    columnSpan: 2,\n  },\n  reasoning_summary: {\n    key: 'reasoning_summary',\n    label: 'com_endpoint_reasoning_summary',\n    labelCode: true,\n    description: 'com_endpoint_openai_reasoning_summary',\n    descriptionCode: true,\n    type: 'enum',\n    default: ReasoningSummary.none,\n    component: 'slider',\n    options: [\n      ReasoningSummary.none,\n      ReasoningSummary.auto,\n      ReasoningSummary.concise,\n      ReasoningSummary.detailed,\n    ],\n    enumMappings: {\n      [ReasoningSummary.none]: 'com_ui_unset',\n      [ReasoningSummary.auto]: 'com_ui_auto',\n      [ReasoningSummary.concise]: 'com_ui_concise',\n      [ReasoningSummary.detailed]: 'com_ui_detailed',\n    },\n    optionType: 'model',\n    columnSpan: 4,\n  },\n  verbosity: {\n    key: 'verbosity',\n    label: 'com_endpoint_verbosity',\n    labelCode: true,\n    description: 'com_endpoint_openai_verbosity',\n    descriptionCode: true,\n    type: 'enum',\n    default: Verbosity.none,\n    component: 'slider',\n    options: [Verbosity.none, Verbosity.low, Verbosity.medium, Verbosity.high],\n    enumMappings: {\n      [Verbosity.none]: 'com_ui_none',\n      [Verbosity.low]: 'com_ui_low',\n      [Verbosity.medium]: 'com_ui_medium',\n      [Verbosity.high]: 'com_ui_high',\n    },\n    optionType: 'model',\n    columnSpan: 4,\n  },\n  disableStreaming: {\n    key: 'disableStreaming',\n    label: 'com_endpoint_disable_streaming_label',\n    labelCode: true,\n    description: 'com_endpoint_disable_streaming',\n    descriptionCode: true,\n    type: 'boolean',\n    default: false,\n    component: 'switch',\n    optionType: 'model',\n    showDefault: false,\n    columnSpan: 2,\n  } as const,\n};\n\nconst anthropic: Record<string, SettingDefinition> = {\n  maxOutputTokens: {\n    key: 'maxOutputTokens',\n    label: 'com_endpoint_max_output_tokens',\n    labelCode: true,\n    type: 'number',\n    component: 'input',\n    description: 'com_endpoint_anthropic_maxoutputtokens',\n    descriptionCode: true,\n    placeholder: 'com_nav_theme_system',\n    placeholderCode: true,\n    range: {\n      min: anthropicSettings.maxOutputTokens.min,\n      max: anthropicSettings.maxOutputTokens.max,\n      step: anthropicSettings.maxOutputTokens.step,\n    },\n    optionType: 'model',\n    columnSpan: 2,\n  },\n  temperature: createDefinition(baseDefinitions.temperature, {\n    default: anthropicSettings.temperature.default,\n    range: {\n      min: anthropicSettings.temperature.min,\n      max: anthropicSettings.temperature.max,\n      step: anthropicSettings.temperature.step,\n    },\n  }),\n  topP: createDefinition(baseDefinitions.topP, {\n    default: anthropicSettings.topP.default,\n    range: {\n      min: anthropicSettings.topP.min,\n      max: anthropicSettings.topP.max,\n      step: anthropicSettings.topP.step,\n    },\n  }),\n  topK: {\n    key: 'topK',\n    label: 'com_endpoint_top_k',\n    labelCode: true,\n    description: 'com_endpoint_anthropic_topk',\n    descriptionCode: true,\n    type: 'number',\n    default: anthropicSettings.topK.default,\n    range: {\n      min: anthropicSettings.topK.min,\n      max: anthropicSettings.topK.max,\n      step: anthropicSettings.topK.step,\n    },\n    component: 'slider',\n    optionType: 'model',\n    columnSpan: 4,\n  },\n  promptCache: {\n    key: 'promptCache',\n    label: 'com_endpoint_prompt_cache',\n    labelCode: true,\n    description: 'com_endpoint_anthropic_prompt_cache',\n    descriptionCode: true,\n    type: 'boolean',\n    default: anthropicSettings.promptCache.default,\n    component: 'switch',\n    optionType: 'conversation',\n    showDefault: false,\n    columnSpan: 2,\n  },\n  thinking: {\n    key: 'thinking',\n    label: 'com_endpoint_thinking',\n    labelCode: true,\n    description: 'com_endpoint_anthropic_thinking',\n    descriptionCode: true,\n    type: 'boolean',\n    default: anthropicSettings.thinking.default,\n    component: 'switch',\n    optionType: 'conversation',\n    showDefault: false,\n    columnSpan: 2,\n  },\n  thinkingBudget: {\n    key: 'thinkingBudget',\n    label: 'com_endpoint_thinking_budget',\n    labelCode: true,\n    description: 'com_endpoint_anthropic_thinking_budget',\n    descriptionCode: true,\n    type: 'number',\n    component: 'input',\n    default: anthropicSettings.thinkingBudget.default,\n    range: {\n      min: anthropicSettings.thinkingBudget.min,\n      max: anthropicSettings.thinkingBudget.max,\n      step: anthropicSettings.thinkingBudget.step,\n    },\n    optionType: 'conversation',\n    columnSpan: 2,\n  },\n  web_search: {\n    key: 'web_search',\n    label: 'com_ui_web_search',\n    labelCode: true,\n    description: 'com_endpoint_anthropic_use_web_search',\n    descriptionCode: true,\n    type: 'boolean',\n    default: anthropicSettings.web_search.default,\n    component: 'switch',\n    optionType: 'conversation',\n    showDefault: false,\n    columnSpan: 2,\n  },\n};\n\nconst bedrock: Record<string, SettingDefinition> = {\n  system: {\n    key: 'system',\n    label: 'com_endpoint_prompt_prefix',\n    labelCode: true,\n    type: 'string',\n    default: '',\n    component: 'textarea',\n    placeholder: 'com_endpoint_openai_prompt_prefix_placeholder',\n    placeholderCode: true,\n    optionType: 'model',\n  },\n  region: {\n    key: 'region',\n    type: 'string',\n    label: 'com_ui_region',\n    labelCode: true,\n    component: 'combobox',\n    optionType: 'conversation',\n    selectPlaceholder: 'com_ui_select_region',\n    searchPlaceholder: 'com_ui_select_search_region',\n    searchPlaceholderCode: true,\n    selectPlaceholderCode: true,\n    columnSpan: 2,\n  },\n  maxTokens: {\n    key: 'maxTokens',\n    label: 'com_endpoint_max_output_tokens',\n    labelCode: true,\n    type: 'number',\n    component: 'input',\n    description: 'com_endpoint_anthropic_maxoutputtokens',\n    descriptionCode: true,\n    placeholder: 'com_nav_theme_system',\n    placeholderCode: true,\n    optionType: 'model',\n    columnSpan: 2,\n  },\n  temperature: createDefinition(baseDefinitions.temperature, {\n    default: 1,\n    range: { min: 0, max: 1, step: 0.01 },\n  }),\n  topK: createDefinition(anthropic.topK, {\n    range: { min: 0, max: 500, step: 1 },\n  }),\n  topP: createDefinition(baseDefinitions.topP, {\n    default: 0.999,\n    range: { min: 0, max: 1, step: 0.01 },\n  }),\n  promptCache: {\n    key: 'promptCache',\n    label: 'com_endpoint_prompt_cache',\n    labelCode: true,\n    type: 'boolean',\n    description: 'com_endpoint_anthropic_prompt_cache',\n    descriptionCode: true,\n    default: true,\n    component: 'switch',\n    optionType: 'conversation',\n    showDefault: false,\n    columnSpan: 2,\n  },\n};\n\nconst mistral: Record<string, SettingDefinition> = {\n  temperature: createDefinition(baseDefinitions.temperature, {\n    default: 0.7,\n    range: { min: 0, max: 1, step: 0.01 },\n  }),\n  topP: createDefinition(baseDefinitions.topP, {\n    range: { min: 0, max: 1, step: 0.01 },\n  }),\n};\n\nconst cohere: Record<string, SettingDefinition> = {\n  temperature: createDefinition(baseDefinitions.temperature, {\n    default: 0.3,\n    range: { min: 0, max: 1, step: 0.01 },\n  }),\n  topP: createDefinition(baseDefinitions.topP, {\n    default: 0.75,\n    range: { min: 0.01, max: 0.99, step: 0.01 },\n  }),\n};\n\nconst meta: Record<string, SettingDefinition> = {\n  temperature: createDefinition(baseDefinitions.temperature, {\n    default: 0.5,\n    range: { min: 0, max: 1, step: 0.01 },\n  }),\n  topP: createDefinition(baseDefinitions.topP, {\n    default: 0.9,\n    range: { min: 0, max: 1, step: 0.01 },\n  }),\n};\n\nconst google: Record<string, SettingDefinition> = {\n  temperature: createDefinition(baseDefinitions.temperature, {\n    default: googleSettings.temperature.default,\n    range: {\n      min: googleSettings.temperature.min,\n      max: googleSettings.temperature.max,\n      step: googleSettings.temperature.step,\n    },\n  }),\n  topP: createDefinition(baseDefinitions.topP, {\n    default: googleSettings.topP.default,\n    range: {\n      min: googleSettings.topP.min,\n      max: googleSettings.topP.max,\n      step: googleSettings.topP.step,\n    },\n  }),\n  topK: {\n    key: 'topK',\n    label: 'com_endpoint_top_k',\n    labelCode: true,\n    description: 'com_endpoint_google_topk',\n    descriptionCode: true,\n    type: 'number',\n    default: googleSettings.topK.default,\n    range: {\n      min: googleSettings.topK.min,\n      max: googleSettings.topK.max,\n      step: googleSettings.topK.step,\n    },\n    component: 'slider',\n    optionType: 'model',\n    columnSpan: 4,\n  },\n  maxOutputTokens: {\n    key: 'maxOutputTokens',\n    label: 'com_endpoint_max_output_tokens',\n    labelCode: true,\n    type: 'number',\n    component: 'input',\n    description: 'com_endpoint_google_maxoutputtokens',\n    descriptionCode: true,\n    placeholder: 'com_nav_theme_system',\n    placeholderCode: true,\n    default: googleSettings.maxOutputTokens.default,\n    range: {\n      min: googleSettings.maxOutputTokens.min,\n      max: googleSettings.maxOutputTokens.max,\n      step: googleSettings.maxOutputTokens.step,\n    },\n    optionType: 'model',\n    columnSpan: 2,\n  },\n  thinking: {\n    key: 'thinking',\n    label: 'com_endpoint_thinking',\n    labelCode: true,\n    description: 'com_endpoint_google_thinking',\n    descriptionCode: true,\n    type: 'boolean',\n    default: googleSettings.thinking.default,\n    component: 'switch',\n    optionType: 'conversation',\n    showDefault: false,\n    columnSpan: 2,\n  },\n  thinkingBudget: {\n    key: 'thinkingBudget',\n    label: 'com_endpoint_thinking_budget',\n    labelCode: true,\n    description: 'com_endpoint_google_thinking_budget',\n    descriptionCode: true,\n    placeholder: 'com_ui_auto',\n    placeholderCode: true,\n    type: 'number',\n    component: 'input',\n    range: {\n      min: googleSettings.thinkingBudget.min,\n      max: googleSettings.thinkingBudget.max,\n      step: googleSettings.thinkingBudget.step,\n    },\n    optionType: 'conversation',\n    columnSpan: 2,\n  },\n  web_search: {\n    key: 'web_search',\n    label: 'com_endpoint_use_search_grounding',\n    labelCode: true,\n    description: 'com_endpoint_google_use_search_grounding',\n    descriptionCode: true,\n    type: 'boolean',\n    default: false,\n    component: 'switch',\n    optionType: 'model',\n    showDefault: false,\n    columnSpan: 2,\n  },\n};\n\nconst googleConfig: SettingsConfiguration = [\n  librechat.modelLabel,\n  librechat.promptPrefix,\n  librechat.maxContextTokens,\n  google.maxOutputTokens,\n  google.temperature,\n  google.topP,\n  google.topK,\n  librechat.resendFiles,\n  google.thinking,\n  google.thinkingBudget,\n  google.web_search,\n  librechat.fileTokenLimit,\n];\n\nconst googleCol1: SettingsConfiguration = [\n  baseDefinitions.model as SettingDefinition,\n  librechat.modelLabel,\n  librechat.promptPrefix,\n];\n\nconst googleCol2: SettingsConfiguration = [\n  librechat.maxContextTokens,\n  google.maxOutputTokens,\n  google.temperature,\n  google.topP,\n  google.topK,\n  librechat.resendFiles,\n  google.thinking,\n  google.thinkingBudget,\n  google.web_search,\n  librechat.fileTokenLimit,\n];\n\nconst openAI: SettingsConfiguration = [\n  librechat.modelLabel,\n  librechat.promptPrefix,\n  librechat.maxContextTokens,\n  openAIParams.max_tokens,\n  openAIParams.temperature,\n  openAIParams.top_p,\n  openAIParams.frequency_penalty,\n  openAIParams.presence_penalty,\n  baseDefinitions.stop,\n  librechat.resendFiles,\n  baseDefinitions.imageDetail,\n  openAIParams.web_search,\n  openAIParams.reasoning_effort,\n  openAIParams.useResponsesApi,\n  openAIParams.reasoning_summary,\n  openAIParams.verbosity,\n  openAIParams.disableStreaming,\n  librechat.fileTokenLimit,\n];\n\nconst openAICol1: SettingsConfiguration = [\n  baseDefinitions.model as SettingDefinition,\n  librechat.modelLabel,\n  librechat.promptPrefix,\n];\n\nconst openAICol2: SettingsConfiguration = [\n  librechat.maxContextTokens,\n  openAIParams.max_tokens,\n  openAIParams.temperature,\n  openAIParams.top_p,\n  openAIParams.frequency_penalty,\n  openAIParams.presence_penalty,\n  baseDefinitions.stop,\n  librechat.resendFiles,\n  baseDefinitions.imageDetail,\n  openAIParams.reasoning_effort,\n  openAIParams.reasoning_summary,\n  openAIParams.verbosity,\n  openAIParams.useResponsesApi,\n  openAIParams.web_search,\n  openAIParams.disableStreaming,\n  librechat.fileTokenLimit,\n];\n\nconst anthropicConfig: SettingsConfiguration = [\n  librechat.modelLabel,\n  librechat.promptPrefix,\n  librechat.maxContextTokens,\n  anthropic.maxOutputTokens,\n  anthropic.temperature,\n  anthropic.topP,\n  anthropic.topK,\n  librechat.resendFiles,\n  anthropic.promptCache,\n  anthropic.thinking,\n  anthropic.thinkingBudget,\n  anthropic.web_search,\n  librechat.fileTokenLimit,\n];\n\nconst anthropicCol1: SettingsConfiguration = [\n  baseDefinitions.model as SettingDefinition,\n  librechat.modelLabel,\n  librechat.promptPrefix,\n];\n\nconst anthropicCol2: SettingsConfiguration = [\n  librechat.maxContextTokens,\n  anthropic.maxOutputTokens,\n  anthropic.temperature,\n  anthropic.topP,\n  anthropic.topK,\n  librechat.resendFiles,\n  anthropic.promptCache,\n  anthropic.thinking,\n  anthropic.thinkingBudget,\n  anthropic.web_search,\n  librechat.fileTokenLimit,\n];\n\nconst bedrockAnthropic: SettingsConfiguration = [\n  librechat.modelLabel,\n  bedrock.system,\n  librechat.maxContextTokens,\n  bedrock.maxTokens,\n  bedrock.temperature,\n  bedrock.topP,\n  bedrock.topK,\n  baseDefinitions.stop,\n  librechat.resendFiles,\n  bedrock.region,\n  bedrock.promptCache,\n  anthropic.thinking,\n  anthropic.thinkingBudget,\n  librechat.fileTokenLimit,\n];\n\nconst bedrockMistral: SettingsConfiguration = [\n  librechat.modelLabel,\n  librechat.promptPrefix,\n  librechat.maxContextTokens,\n  bedrock.maxTokens,\n  mistral.temperature,\n  mistral.topP,\n  librechat.resendFiles,\n  bedrock.region,\n  librechat.fileTokenLimit,\n];\n\nconst bedrockCohere: SettingsConfiguration = [\n  librechat.modelLabel,\n  librechat.promptPrefix,\n  librechat.maxContextTokens,\n  bedrock.maxTokens,\n  cohere.temperature,\n  cohere.topP,\n  librechat.resendFiles,\n  bedrock.region,\n  librechat.fileTokenLimit,\n];\n\nconst bedrockGeneral: SettingsConfiguration = [\n  librechat.modelLabel,\n  librechat.promptPrefix,\n  librechat.maxContextTokens,\n  meta.temperature,\n  meta.topP,\n  librechat.resendFiles,\n  bedrock.region,\n  bedrock.promptCache,\n  librechat.fileTokenLimit,\n];\n\nconst bedrockAnthropicCol1: SettingsConfiguration = [\n  baseDefinitions.model as SettingDefinition,\n  librechat.modelLabel,\n  bedrock.system,\n  baseDefinitions.stop,\n];\n\nconst bedrockAnthropicCol2: SettingsConfiguration = [\n  librechat.maxContextTokens,\n  bedrock.maxTokens,\n  bedrock.temperature,\n  bedrock.topP,\n  bedrock.topK,\n  librechat.resendFiles,\n  bedrock.region,\n  bedrock.promptCache,\n  anthropic.thinking,\n  anthropic.thinkingBudget,\n  librechat.fileTokenLimit,\n];\n\nconst bedrockMistralCol1: SettingsConfiguration = [\n  baseDefinitions.model as SettingDefinition,\n  librechat.modelLabel,\n  librechat.promptPrefix,\n];\n\nconst bedrockMistralCol2: SettingsConfiguration = [\n  librechat.maxContextTokens,\n  bedrock.maxTokens,\n  mistral.temperature,\n  mistral.topP,\n  librechat.resendFiles,\n  bedrock.region,\n  librechat.fileTokenLimit,\n];\n\nconst bedrockCohereCol1: SettingsConfiguration = [\n  baseDefinitions.model as SettingDefinition,\n  librechat.modelLabel,\n  librechat.promptPrefix,\n];\n\nconst bedrockCohereCol2: SettingsConfiguration = [\n  librechat.maxContextTokens,\n  bedrock.maxTokens,\n  cohere.temperature,\n  cohere.topP,\n  librechat.resendFiles,\n  bedrock.region,\n  librechat.fileTokenLimit,\n];\n\nconst bedrockGeneralCol1: SettingsConfiguration = [\n  baseDefinitions.model as SettingDefinition,\n  librechat.modelLabel,\n  librechat.promptPrefix,\n];\n\nconst bedrockGeneralCol2: SettingsConfiguration = [\n  librechat.maxContextTokens,\n  meta.temperature,\n  meta.topP,\n  librechat.resendFiles,\n  bedrock.region,\n  bedrock.promptCache,\n  librechat.fileTokenLimit,\n];\n\nexport const paramSettings: Record<string, SettingsConfiguration | undefined> = {\n  [EModelEndpoint.openAI]: openAI,\n  [EModelEndpoint.azureOpenAI]: openAI,\n  [EModelEndpoint.custom]: openAI,\n  [EModelEndpoint.anthropic]: anthropicConfig,\n  [`${EModelEndpoint.bedrock}-${BedrockProviders.Anthropic}`]: bedrockAnthropic,\n  [`${EModelEndpoint.bedrock}-${BedrockProviders.MistralAI}`]: bedrockMistral,\n  [`${EModelEndpoint.bedrock}-${BedrockProviders.Cohere}`]: bedrockCohere,\n  [`${EModelEndpoint.bedrock}-${BedrockProviders.Meta}`]: bedrockGeneral,\n  [`${EModelEndpoint.bedrock}-${BedrockProviders.AI21}`]: bedrockGeneral,\n  [`${EModelEndpoint.bedrock}-${BedrockProviders.Amazon}`]: bedrockGeneral,\n  [`${EModelEndpoint.bedrock}-${BedrockProviders.DeepSeek}`]: bedrockGeneral,\n  [EModelEndpoint.google]: googleConfig,\n};\n\nconst openAIColumns = {\n  col1: openAICol1,\n  col2: openAICol2,\n};\n\nconst bedrockGeneralColumns = {\n  col1: bedrockGeneralCol1,\n  col2: bedrockGeneralCol2,\n};\n\nexport const presetSettings: Record<\n  string,\n  | {\n      col1: SettingsConfiguration;\n      col2: SettingsConfiguration;\n    }\n  | undefined\n> = {\n  [EModelEndpoint.openAI]: openAIColumns,\n  [EModelEndpoint.azureOpenAI]: openAIColumns,\n  [EModelEndpoint.custom]: openAIColumns,\n  [EModelEndpoint.anthropic]: {\n    col1: anthropicCol1,\n    col2: anthropicCol2,\n  },\n  [`${EModelEndpoint.bedrock}-${BedrockProviders.Anthropic}`]: {\n    col1: bedrockAnthropicCol1,\n    col2: bedrockAnthropicCol2,\n  },\n  [`${EModelEndpoint.bedrock}-${BedrockProviders.MistralAI}`]: {\n    col1: bedrockMistralCol1,\n    col2: bedrockMistralCol2,\n  },\n  [`${EModelEndpoint.bedrock}-${BedrockProviders.Cohere}`]: {\n    col1: bedrockCohereCol1,\n    col2: bedrockCohereCol2,\n  },\n  [`${EModelEndpoint.bedrock}-${BedrockProviders.Meta}`]: bedrockGeneralColumns,\n  [`${EModelEndpoint.bedrock}-${BedrockProviders.AI21}`]: bedrockGeneralColumns,\n  [`${EModelEndpoint.bedrock}-${BedrockProviders.Amazon}`]: bedrockGeneralColumns,\n  [`${EModelEndpoint.bedrock}-${BedrockProviders.DeepSeek}`]: bedrockGeneralColumns,\n  [EModelEndpoint.google]: {\n    col1: googleCol1,\n    col2: googleCol2,\n  },\n};\n\nexport const agentParamSettings: Record<string, SettingsConfiguration | undefined> = Object.entries(\n  presetSettings,\n).reduce<Record<string, SettingsConfiguration | undefined>>((acc, [key, value]) => {\n  if (value) {\n    acc[key] = value.col2;\n  }\n  return acc;\n}, {});\n","import type { TFile } from './types/files';\nimport type { TMessage } from './types';\n\nexport type ParentMessage = TMessage & { children: TMessage[]; depth: number };\nexport function buildTree({\n  messages,\n  fileMap,\n}: {\n  messages: (TMessage | undefined)[] | null;\n  fileMap?: Record<string, TFile>;\n}) {\n  if (messages === null) {\n    return null;\n  }\n\n  const messageMap: Record<string, ParentMessage> = {};\n  const rootMessages: TMessage[] = [];\n  const childrenCount: Record<string, number> = {};\n\n  messages.forEach((message) => {\n    if (!message) {\n      return;\n    }\n    const parentId = message.parentMessageId ?? '';\n    childrenCount[parentId] = (childrenCount[parentId] || 0) + 1;\n\n    const extendedMessage: ParentMessage = {\n      ...message,\n      children: [],\n      depth: 0,\n      siblingIndex: childrenCount[parentId] - 1,\n    };\n\n    if (message.files && fileMap) {\n      extendedMessage.files = message.files.map((file) => fileMap[file.file_id ?? ''] ?? file);\n    }\n\n    messageMap[message.messageId] = extendedMessage;\n\n    const parentMessage = messageMap[parentId];\n    if (parentMessage) {\n      parentMessage.children.push(extendedMessage);\n      extendedMessage.depth = parentMessage.depth + 1;\n    } else {\n      rootMessages.push(extendedMessage);\n    }\n  });\n\n  return rootMessages;\n}\n","import type * as t from './types';\nimport { EndpointURLs } from './config';\nimport * as s from './schemas';\n\nexport default function createPayload(submission: t.TSubmission) {\n  const {\n    isEdited,\n    userMessage,\n    isContinued,\n    isTemporary,\n    isRegenerate,\n    conversation,\n    editedContent,\n    ephemeralAgent,\n    endpointOption,\n  } = submission;\n  const { conversationId } = s.tConvoUpdateSchema.parse(conversation);\n  const { endpoint: _e, endpointType } = endpointOption as {\n    endpoint: s.EModelEndpoint;\n    endpointType?: s.EModelEndpoint;\n  };\n\n  const endpoint = _e as s.EModelEndpoint;\n  let server = `${EndpointURLs[s.EModelEndpoint.agents]}/${endpoint}`;\n  if (s.isAssistantsEndpoint(endpoint)) {\n    server =\n      EndpointURLs[(endpointType ?? endpoint) as 'assistants' | 'azureAssistants'] +\n      (isEdited ? '/modify' : '');\n  }\n\n  const payload: t.TPayload = {\n    ...userMessage,\n    ...endpointOption,\n    endpoint,\n    isTemporary,\n    isRegenerate,\n    editedContent,\n    conversationId,\n    isContinued: !!(isEdited && isContinued),\n    ephemeralAgent: s.isAssistantsEndpoint(endpoint) ? undefined : ephemeralAgent,\n  };\n\n  return { server, payload };\n}\n","import type { ZodError } from 'zod';\nimport type {\n  TAzureGroups,\n  TAzureGroupMap,\n  TAzureModelGroupMap,\n  TValidatedAzureConfig,\n  TAzureConfigValidationResult,\n} from '../src/config';\nimport { extractEnvVariable, envVarRegex } from '../src/utils';\nimport { azureGroupConfigsSchema } from '../src/config';\nimport { errorsToString } from '../src/parsers';\n\nexport function validateAzureGroups(configs: TAzureGroups): TAzureConfigValidationResult {\n  let isValid = true;\n  const modelNames: string[] = [];\n  const modelGroupMap: TAzureModelGroupMap = {};\n  const groupMap: TAzureGroupMap = {};\n  const errors: (ZodError | string)[] = [];\n\n  const result = azureGroupConfigsSchema.safeParse(configs);\n  if (!result.success) {\n    isValid = false;\n    errors.push(errorsToString(result.error.errors));\n  } else {\n    for (const group of result.data) {\n      const {\n        group: groupName,\n        apiKey,\n        instanceName = '',\n        deploymentName = '',\n        version = '',\n        baseURL = '',\n        additionalHeaders,\n        models,\n        serverless = false,\n        ...rest\n      } = group;\n\n      if (groupMap[groupName]) {\n        errors.push(`Duplicate group name detected: \"${groupName}\". Group names must be unique.`);\n        return { isValid: false, modelNames, modelGroupMap, groupMap, errors };\n      }\n\n      if (serverless && !baseURL) {\n        errors.push(`Group \"${groupName}\" is serverless but missing mandatory \"baseURL.\"`);\n        return { isValid: false, modelNames, modelGroupMap, groupMap, errors };\n      }\n\n      if (!instanceName && !serverless) {\n        errors.push(\n          `Group \"${groupName}\" is missing an \"instanceName\" for non-serverless configuration.`,\n        );\n        return { isValid: false, modelNames, modelGroupMap, groupMap, errors };\n      }\n\n      groupMap[groupName] = {\n        apiKey,\n        instanceName,\n        deploymentName,\n        version,\n        baseURL,\n        additionalHeaders,\n        models,\n        serverless,\n        ...rest,\n      };\n\n      for (const modelName in group.models) {\n        modelNames.push(modelName);\n        const model = group.models[modelName];\n\n        if (modelGroupMap[modelName]) {\n          errors.push(\n            `Duplicate model name detected: \"${modelName}\". Model names must be unique across groups.`,\n          );\n          return { isValid: false, modelNames, modelGroupMap, groupMap, errors };\n        }\n\n        if (serverless) {\n          modelGroupMap[modelName] = {\n            group: groupName,\n          };\n          continue;\n        }\n\n        const groupDeploymentName = group.deploymentName ?? '';\n        const groupVersion = group.version ?? '';\n        if (typeof model === 'boolean') {\n          // For boolean models, check if group-level deploymentName and version are present.\n          if (!groupDeploymentName || !groupVersion) {\n            errors.push(\n              `Model \"${modelName}\" in group \"${groupName}\" is missing a deploymentName or version.`,\n            );\n            return { isValid: false, modelNames, modelGroupMap, groupMap, errors };\n          }\n\n          modelGroupMap[modelName] = {\n            group: groupName,\n          };\n        } else {\n          const modelDeploymentName = model.deploymentName ?? '';\n          const modelVersion = model.version ?? '';\n          // For object models, check if deploymentName and version are required but missing.\n          if ((!modelDeploymentName && !groupDeploymentName) || (!modelVersion && !groupVersion)) {\n            errors.push(\n              `Model \"${modelName}\" in group \"${groupName}\" is missing a required deploymentName or version.`,\n            );\n            return { isValid: false, modelNames, modelGroupMap, groupMap, errors };\n          }\n\n          modelGroupMap[modelName] = {\n            group: groupName,\n            // deploymentName: modelDeploymentName || groupDeploymentName,\n            // version: modelVersion || groupVersion,\n          };\n        }\n      }\n    }\n  }\n\n  return { isValid, modelNames, modelGroupMap, groupMap, errors };\n}\n\ntype AzureOptions = {\n  azureOpenAIApiKey: string;\n  azureOpenAIApiInstanceName?: string;\n  azureOpenAIApiDeploymentName?: string;\n  azureOpenAIApiVersion?: string;\n};\n\ntype MappedAzureConfig = {\n  azureOptions: AzureOptions;\n  baseURL?: string;\n  headers?: Record<string, string>;\n  serverless?: boolean;\n};\n\nexport function mapModelToAzureConfig({\n  modelName,\n  modelGroupMap,\n  groupMap,\n}: Omit<TValidatedAzureConfig, 'modelNames'> & {\n  modelName: string;\n}): MappedAzureConfig {\n  const modelConfig = modelGroupMap[modelName];\n  if (!modelConfig) {\n    throw new Error(`Model named \"${modelName}\" not found in configuration.`);\n  }\n\n  const groupConfig = groupMap[modelConfig.group];\n  if (!groupConfig) {\n    throw new Error(\n      `Group \"${modelConfig.group}\" for model \"${modelName}\" not found in configuration.`,\n    );\n  }\n\n  const instanceName = groupConfig.instanceName ?? '';\n\n  if (!instanceName && groupConfig.serverless !== true) {\n    throw new Error(\n      `Group \"${modelConfig.group}\" is missing an instanceName for non-serverless configuration.`,\n    );\n  }\n\n  const baseURL = groupConfig.baseURL ?? '';\n  if (groupConfig.serverless === true && !baseURL) {\n    throw new Error(\n      `Group \"${modelConfig.group}\" is missing the required base URL for serverless configuration.`,\n    );\n  }\n\n  if (groupConfig.serverless === true) {\n    const result: MappedAzureConfig = {\n      azureOptions: {\n        azureOpenAIApiVersion: extractEnvVariable(groupConfig.version ?? ''),\n        azureOpenAIApiKey: extractEnvVariable(groupConfig.apiKey),\n      },\n      baseURL: extractEnvVariable(baseURL),\n      serverless: true,\n    };\n\n    const apiKeyValue = result.azureOptions.azureOpenAIApiKey;\n    if (typeof apiKeyValue === 'string' && envVarRegex.test(apiKeyValue)) {\n      throw new Error(`Azure configuration environment variable \"${apiKeyValue}\" was not found.`);\n    }\n\n    if (groupConfig.additionalHeaders) {\n      result.headers = groupConfig.additionalHeaders;\n    }\n\n    return result;\n  }\n\n  if (!instanceName) {\n    throw new Error(\n      `Group \"${modelConfig.group}\" is missing an instanceName for non-serverless configuration.`,\n    );\n  }\n\n  const modelDetails = groupConfig.models[modelName];\n  const { deploymentName = '', version = '' } =\n    typeof modelDetails === 'object'\n      ? {\n          deploymentName: modelDetails.deploymentName ?? groupConfig.deploymentName,\n          version: modelDetails.version ?? groupConfig.version,\n        }\n      : {\n          deploymentName: groupConfig.deploymentName,\n          version: groupConfig.version,\n        };\n\n  if (!deploymentName || !version) {\n    throw new Error(\n      `Model \"${modelName}\" in group \"${modelConfig.group}\" is missing a deploymentName (\"${deploymentName}\") or version (\"${version}\").`,\n    );\n  }\n\n  const azureOptions: AzureOptions = {\n    azureOpenAIApiKey: extractEnvVariable(groupConfig.apiKey),\n    azureOpenAIApiInstanceName: extractEnvVariable(instanceName),\n    azureOpenAIApiDeploymentName: extractEnvVariable(deploymentName),\n    azureOpenAIApiVersion: extractEnvVariable(version),\n  };\n\n  for (const value of Object.values(azureOptions)) {\n    if (typeof value === 'string' && envVarRegex.test(value)) {\n      throw new Error(`Azure configuration environment variable \"${value}\" was not found.`);\n    }\n  }\n\n  const result: MappedAzureConfig = { azureOptions };\n\n  if (baseURL) {\n    result.baseURL = extractEnvVariable(baseURL);\n  }\n\n  if (groupConfig.additionalHeaders) {\n    result.headers = groupConfig.additionalHeaders;\n  }\n\n  return result;\n}\n\nexport function mapGroupToAzureConfig({\n  groupName,\n  groupMap,\n}: {\n  groupName: string;\n  groupMap: TAzureGroupMap;\n}): MappedAzureConfig {\n  const groupConfig = groupMap[groupName];\n  if (!groupConfig) {\n    throw new Error(`Group named \"${groupName}\" not found in configuration.`);\n  }\n\n  const instanceName = groupConfig.instanceName ?? '';\n  const serverless = groupConfig.serverless ?? false;\n  const baseURL = groupConfig.baseURL ?? '';\n\n  if (!instanceName && !serverless) {\n    throw new Error(\n      `Group \"${groupName}\" is missing an instanceName for non-serverless configuration.`,\n    );\n  }\n\n  if (serverless && !baseURL) {\n    throw new Error(\n      `Group \"${groupName}\" is missing the required base URL for serverless configuration.`,\n    );\n  }\n\n  const models = Object.keys(groupConfig.models);\n  if (models.length === 0) {\n    throw new Error(`Group \"${groupName}\" does not have any models configured.`);\n  }\n\n  // Use the first available model in the group\n  const firstModelName = models[0];\n  const modelDetails = groupConfig.models[firstModelName];\n\n  const azureOptions: AzureOptions = {\n    azureOpenAIApiVersion: extractEnvVariable(groupConfig.version ?? ''),\n    azureOpenAIApiKey: extractEnvVariable(groupConfig.apiKey),\n    azureOpenAIApiInstanceName: extractEnvVariable(instanceName),\n    // DeploymentName and Version set below\n  };\n\n  if (serverless) {\n    return {\n      azureOptions,\n      baseURL: extractEnvVariable(baseURL),\n      serverless: true,\n      ...(groupConfig.additionalHeaders && { headers: groupConfig.additionalHeaders }),\n    };\n  }\n\n  const { deploymentName = '', version = '' } =\n    typeof modelDetails === 'object'\n      ? {\n          deploymentName: modelDetails.deploymentName ?? groupConfig.deploymentName,\n          version: modelDetails.version ?? groupConfig.version,\n        }\n      : {\n          deploymentName: groupConfig.deploymentName,\n          version: groupConfig.version,\n        };\n\n  if (!deploymentName || !version) {\n    throw new Error(\n      `Model \"${firstModelName}\" in group \"${groupName}\" or the group itself is missing a deploymentName (\"${deploymentName}\") or version (\"${version}\").`,\n    );\n  }\n\n  azureOptions.azureOpenAIApiDeploymentName = extractEnvVariable(deploymentName);\n  azureOptions.azureOpenAIApiVersion = extractEnvVariable(version);\n\n  const result: MappedAzureConfig = { azureOptions };\n\n  if (baseURL) {\n    result.baseURL = extractEnvVariable(baseURL);\n  }\n\n  if (groupConfig.additionalHeaders) {\n    result.headers = groupConfig.additionalHeaders;\n  }\n\n  return result;\n}\n"],"names":["Tools","EToolResources","AnnotationTypes","StepStatus","MessageContentTypes","RunStatus","envVarRegex","extractEnvVariable","value","trimmed","trim","singleMatch","match","varName","process","env","regex","result","matches","exec","push","fullMatch","index","i","length","_a","envValue","substring","normalizeEndpointName","name","toLowerCase","FilePurpose","AssistantStreamEvents","FEEDBACK_RATINGS","FEEDBACK_REASON_KEYS","FEEDBACK_TAGS","key","label","direction","icon","feedbackTagKeySchema","z","enum","feedbackRatingSchema","feedbackSchema","object","rating","tag","text","string","max","optional","AuthType","isUUID","uuid","EModelEndpoint","Providers","authTypeSchema","nativeEnum","BedrockProviders","documentSupportedProviders","Set","anthropic","openAI","custom","azureOpenAI","google","VERTEXAI","MISTRALAI","MISTRAL","DEEPSEEK","OPENROUTER","XAI","openAILikeProviders","OPENAI","AZURE","isDocumentSupportedProvider","provider","has","paramEndpoints","agents","bedrock","ImageDetail","ReasoningEffort","ReasoningSummary","Verbosity","getModelKey","endpoint","model","parts","split","find","part","Object","values","includes","isAssistantsEndpoint","_endpoint","endsWith","assistants","isAgentsEndpoint","imageDetailNumeric","low","auto","high","imageDetailValue","eImageDetailSchema","eReasoningEffortSchema","eReasoningSummarySchema","eVerbositySchema","defaultAgentFormValues","_b","agent","id","description","instructions","model_parameters","tools","projectIds","edges","artifacts","isCollaborative","recursion_limit","undefined","execute_code","file_search","web_search","category","support_contact","email","ImageVisionTool","_c","type","function","parameters","properties","required","openAISettings","default","temperature","min","step","top_p","presence_penalty","frequency_penalty","resendFiles","maxContextTokens","max_tokens","imageDetail","googleSettings","maxOutputTokens","topP","topK","thinking","thinkingBudget","ANTHROPIC_MAX_OUTPUT","CLAUDE_4_64K_MAX_OUTPUT","CLAUDE_32K_MAX_OUTPUT","anthropicSettings","promptCache","reset","modelName","test","set","legacy","agentsSettings","endpointSettings","_d","eModelEndpointSchema","extendedModelEndpointSchema","union","tPluginAuthConfigSchema","authField","tPluginSchema","pluginKey","authConfig","array","authenticated","boolean","chatMenu","isButton","toolkit","tExampleSchema","input","content","output","tMessageSchema","messageId","clientId","nullable","conversationId","parentMessageId","responseMessageId","overrideParentMessageId","bg","title","or","literal","sender","generation","isCreatedByUser","error","clientTimestamp","createdAt","Date","toISOString","updatedAt","current","unfinished","searchResult","finish_reason","thread_id","iconURL","feedback","metadata","record","unknown","coerceNumber","number","transform","val","parseFloat","DocumentType","lazy","null","tConversationSchema","endpointType","isArchived","user","messages","modelLabel","userLabel","promptPrefix","system","stream","context","examples","tags","file_ids","reasoning_effort","reasoning_summary","verbosity","useResponsesApi","disableStreaming","assistant_id","agent_id","region","maxTokens","additionalModelRequestFields","additional_instructions","append_current_datetime","presetOverride","stop","greeting","spec","expiredAt","fileTokenLimit","resendImages","chatGptLabel","tPresetSchema","omit","merge","presetId","defaultPreset","order","tConvoUpdateSchema","tQueryParamsSchema","pick","tSharedLinkSchema","shareId","isPublic","tConversationTagSchema","_id","count","position","googleBaseSchema","googleSchema","obj","removeNullishValues","catch","googleGenConfigSchema","presencePenalty","frequencyPenalty","stopSequences","thinkingConfig","includeThoughts","strip","removeEmptyStrings","newObj","__assign","keys","forEach","assistantSchema","_e","_f","_g","_h","compactAssistantSchema","agentsBaseSchema","agentsSchema","_j","_k","_l","_m","_o","openAIBaseSchema","openAISchema","compactGoogleSchema","anthropicBaseSchema","anthropicSchema","tBannerSchema","bannerId","message","displayFrom","displayTo","persistable","compactAgentsBaseSchema","compactAgentsSchema","tModelSpecSchema","preset","group","showIconInMenu","showIconInHeader","authType","webSearch","fileSearch","executeCode","mcpServers","specsConfigSchema","enforce","prioritize","list","addedEndpoints","supportsFiles","azureAssistants","excelFileTypes","fullMimeTypesList","__spreadArray","codeInterpreterMimeTypesList","excelMimeTypes","textMimeTypes","applicationMimeTypes","imageMimeTypes","audioMimeTypes","videoMimeTypes","defaultOCRMimeTypes","defaultTextMimeTypes","defaultSTTMimeTypes","supportedMimeTypes","codeInterpreterMimeTypes","codeTypeMapping","c","cs","cpp","h","md","php","py","rb","tex","js","sh","ts","tar","zip","log","tsv","yml","yaml","sql","dart","coffee","go","rs","swift","kt","kts","scala","lua","r","pl","pm","groovy","gradle","clj","cljs","cljc","elm","erl","hrl","ex","exs","hs","lhs","ml","mli","fs","fsx","lisp","cl","scm","rkt","jsx","tsx","vue","svelte","astro","scss","sass","less","styl","toml","ini","cfg","conf","graphql","gql","proto","dockerfile","makefile","cmake","rake","gemspec","bash","zsh","fish","ps1","psm1","bat","cmd","asm","s","v","zig","nim","cr","d","pas","pp","f90","f95","f03","jl","m","mm","ada","adb","ads","cob","cbl","tcl","awk","sed","imageTypeMapping","heic","heif","megabyte","mbToBytes","mb","defaultSizeLimit","assistantsFileConfig","fileLimit","fileSizeLimit","totalSizeLimit","disabled","fileConfig","endpoints","serverFileSizeLimit","avatarSizeLimit","clientImageResize","enabled","maxWidth","maxHeight","quality","ocr","stt","checkType","fileType","supportedTypes","some","supportedMimeTypesSchema","any","refine","mimeTypes","every","mimeType","RegExp","endpointFileConfigSchema","fileConfigSchema","imageGeneration","percentage","px","convertStringsToRegex","patterns","reduce","acc","pattern","console","concat","mergeWithDefault","endpointConfig","defaultConfig","defaultMimeTypes","BASE_URL","envApiBaseUrl","globalThis","__VITE_API_BASE_URL__","getViteApiBaseUrl","browser","baseEl","document","querySelector","getAttribute","slice","FileSources","apiBaseUrl","buildQuery","params","query","entries","filter","Array","isArray","map","encodeURIComponent","join","String","messagesRoot","rest","__rest","messagesArtifacts","shareRoot","shareMessages","getSharedLinks","pageSize","sortBy","sortDirection","search","cursor","keysEndpoint","conversationsRoot","conversations","updateConversation","presets","loginPage","prompts","path","options","version","url","isAvatar","images","queryParams","URLSearchParams","toString","mcp","servers","mcpServer","serverName","files","speech","textToSpeech","getPromptGroup","getPrompt","postPrompt","updatePromptGroup","deletePromptGroup","getRole","roleName","conversationTags","memories","memory","FileContext","AuthTypeEnum","AuthorizationTypeEnum","TokenExchangeMethodEnum","SettingsViews","BaseOptionsSchema","startup","iconPath","timeout","initTimeout","serverInstructions","requiresOAuth","oauth","authorization_url","token_url","client_id","client_secret","scope","redirect_uri","token_exchange_method","grant_types_supported","token_endpoint_auth_methods_supported","response_types_supported","code_challenge_methods_supported","skip_code_challenge_check","revocation_endpoint","revocation_endpoint_auth_methods_supported","oauth_headers","apiKey","source","authorization_type","custom_header","customUserVars","StdioOptionsSchema","extend","command","args","processedEnv","_i","stderr","WebSocketOptionsSchema","pipe","protocol","URL","SSEOptionsSchema","headers","StreamableHTTPOptionsSchema","MCPOptionsSchema","MCPServersSchema","omitServerManagedFields","schema","MCPServerUserInputSchema","defaultSocialLogins","defaultRetrievalModels","excludedKeys","fileSourceSchema","fileStrategiesSchema","avatar","image","getSchemaDefaults","shape","ZodDefault","_def","defaultValue","fromEntries","Capabilities","AgentCapabilities","modelConfigSchema","deploymentName","azureBaseSchema","serverless","instanceName","addParams","dropParams","forcePrompt","baseURL","additionalHeaders","azureGroupSchema","models","and","azureGroupConfigsSchema","RateLimitPrefix","defaultAssistantsVersion","baseEndpointSchema","streamRate","titlePrompt","titleModel","titleConvo","titleMethod","titleEndpoint","titlePromptTemplate","bedrockEndpointSchema","availableRegions","modelItemSchema","assistantEndpointSchema","disableBuilder","pollIntervalMs","timeoutMs","supportedIds","excludedIds","privateAssistants","retrievalModels","capabilities","code_interpreter","image_vision","retrieval","actions","fetch","userIdQuery","defaultAgentCapabilities","chain","agentsEndpointSchema","recursionLimit","maxRecursionLimit","maxCitations","maxCitationsPerFile","minRelevanceScore","allowedProviders","endpointSchema","safeParse","success","summarize","summaryModel","modelDisplayLabel","customParams","defaultParamsEndpoint","paramDefinitions","strict","customOrder","directEndpoint","titleMessageRole","azureEndpointSchema","groups","plugins","partial","ttsOpenaiSchema","voices","ttsAzureOpenAISchema","apiVersion","ttsElevenLabsSchema","websocketUrl","voice_settings","similarity_boost","stability","style","use_speaker_boost","pronunciation_dictionary_locators","ttsLocalaiSchema","backend","ttsSchema","openai","elevenlabs","localai","sttOpenaiSchema","sttAzureOpenAISchema","sttSchema","speechTab","conversationMode","advancedMode","speechToText","engineSTT","languageSTT","autoTranscribeAudio","decibelValue","autoSendText","engineTTS","voice","languageTTS","automaticPlayback","playbackRate","cacheTTS","EImageOutputType","rateLimitSchema","fileUploads","ipMax","ipWindowInMinutes","userMax","userWindowInMinutes","conversationsImport","tts","OCRStrategy","SearchCategories","SearchProviders","ScraperProviders","RerankerTypes","SafeSearchTypes","termsOfServiceSchema","externalUrl","openNewTab","modalAcceptance","modalTitle","modalContent","localizedStringSchema","mcpServersSchema","placeholder","use","create","share","trustCheckbox","subLabel","interfaceSchema","privacyPolicy","termsOfService","customWelcome","endpointsMenu","modelSelect","sidePanel","multiConvo","bookmarks","temporaryChat","temporaryChatRetention","runCode","peoplePicker","users","roles","marketplace","fileCitations","turnstileOptionsSchema","language","size","turnstileSchema","siteKey","KnownEndpoints","FetchTokenConfig","webSearchSchema","serperApiKey","searxngInstanceUrl","searxngApiKey","firecrawlApiKey","firecrawlApiUrl","firecrawlVersion","jinaApiKey","jinaApiUrl","cohereApiKey","searchProvider","scraperProvider","rerankerType","scraperTimeout","safeSearch","MODERATE","firecrawlOptions","formats","includeTags","excludeTags","waitFor","maxAge","mobile","skipTlsVerification","blockAds","removeBase64Images","parsePDF","storeInCache","zeroDataRetention","location","country","languages","onlyMainContent","changeTrackingOptions","modes","prompt","ocrSchema","mistralModel","strategy","MISTRAL_OCR","balanceSchema","startBalance","autoRefillEnabled","refillIntervalValue","refillIntervalUnit","refillAmount","transactionsSchema","memorySchema","validKeys","tokenLimit","charLimit","personalize","messageWindowSize","customEndpointsSchema","configSchema","cache","secureImageLinks","imageOutputType","PNG","includedTools","filteredTools","mcpSettings","allowedDomains","interface","turnstile","fileStrategy","local","fileStrategies","registration","socialLogins","balance","transactions","rateLimits","modelSpecs","all","data","VisionModes","defaultEndpoints","alternateName","ollama","deepseek","xai","vercel","helicone","sharedOpenAIModels","bedrockModels","defaultModels","openAIModels","initialModelsConfig","initial","str","EndpointURLs","modularEndpoints","supportsBalanceCheck","visionModels","InfiniteCollections","Time","CacheKeys","ViolationTypes","ErrorTypes","AuthKeys","ImageDetailCost","SettingsTabValues","STTProviders","TTSProviders","Constants","LocalStorageKeys","ForkOptions","CohereConstants","SystemCategories","imageGenTools","ContentTypes","StepTypes","ToolCallTypes","providerEndpointMap","bedrockInputSchema","s.tConversationSchema","_obj","budget_tokens","s.removeNullishValues","bedrockInputParser","catchall","knownKeys","additionalFields","typedData","anthropic_beta","endpointSchemas","getEnabledEndpoints","endpointsEnv","ENDPOINTS","enabledEndpoints","errorsToString","errors","field","getFirstDefinedValue","possibleValues","returnValue","possibleValues_1","extractGPTVersion","modelStr","gptMatch","suffix","extractOmniVersion","omniMatch","compactEndpointSchemas","ArtifactModes","SEPARATORS","ComponentTypes","SettingTypes","OptionTypes","utils","accordian","alertDialog","alert","badge","breadcrumb","button","calendar","card","carousel","checkbox","collapsible","dialog","drawer","dropdownMenu","hoverCard","menuBar","navigationMenu","pagination","popover","progress","radioGroup","select","separator","skeleton","slider","switchComponent","table","tabs","textarea","toast","toaster","toggleGroup","toggle","tooltip","useToast","shadcnComponents","essentialShadcnComponents","requiredSettingFields","ZodTypeToSettingType","ZodString","ZodNumber","ZodBoolean","PermissionTypes","Permissions","SystemRoles","promptPermissionsSchema","SHARED_GLOBAL","USE","CREATE","bookmarkPermissionsSchema","memoryPermissionsSchema","UPDATE","READ","OPT_OUT","agentPermissionsSchema","multiConvoPermissionsSchema","temporaryChatPermissionsSchema","runCodePermissionsSchema","webSearchPermissionsSchema","peoplePickerPermissionsSchema","VIEW_USERS","VIEW_GROUPS","VIEW_ROLES","marketplacePermissionsSchema","fileSearchPermissionsSchema","fileCitationsPermissionsSchema","mcpServersPermissionsSchema","SHARE","permissionsSchema","_p","PROMPTS","BOOKMARKS","MEMORIES","AGENTS","MULTI_CONVO","TEMPORARY_CHAT","RUN_CODE","WEB_SEARCH","PEOPLE_PICKER","MARKETPLACE","FILE_SEARCH","FILE_CITATIONS","MCP_SERVERS","DATE_RANGE","PrincipalType","PrincipalModel","ResourceType","PermissionBits","AccessRoleIds","roleSchema","permissions","roleDefaults","ADMIN","_q","USER","parse","_r","_s","_t","_u","_v","_w","_x","_y","_z","_0","_1","_2","_3","_4","_5","_6","_7","_8","QueryKeys","principalSchema","idOnTheSource","accessRoleId","memberCount","accessRoleSchema","resourceType","AGENT","permBits","permissionEntrySchema","principalType","principalId","principalName","role","grantedBy","grantedAt","inheritedFrom","resourcePermissionsResponseSchema","resourceId","updateResourcePermissionsRequestSchema","updated","removed","public","publicAccessRoleId","updateResourcePermissionsResponseSchema","results","principals","getResourcePermissionsResponseSchema","effectivePermissionsResponseSchema","permissionBits","MutationKeys","setTokenHeader","token","axios","defaults","common","_post","post","JSON","stringify","sent","isRefreshing","failedQueue","refreshToken","retry","endpoints.refreshToken","dispatchTokenUpdatedEvent","window","dispatchEvent","CustomEvent","detail","processQueue","prom","reject","resolve","interceptors","response","__awaiter","originalRequest","config","Promise","status","_retry","warn","err_1","href","endpoints.loginPage","err_2","request","get","getResponse","postMultiPart","formData","postTTS","responseType","put","delete","deleteWithOptions","patch","groupId","payload","endpoints.addPromptToGroup","endpoints.addTagToConversation","endpoints.updateConversation","arg","toolId","toolParams","endpoints.agents","endpoints.cancelMCPOAuth","endpoints.assistants","endpoints.conversationTags","endpoints.mcp","endpoints.memories","endpoints.presets","endpoints.postPrompt","targetMessageId","endpoints.createSharedLink","action_id","endpoints.files","endpoints.mcpServer","endpoints.memory","endpoints.deletePrompt","endpoints.deletePromptGroup","endpoints.shareMessages","endpoints.messagesArtifacts","endpoints.getAccessRoles","agentId","endpoints.agentFiles","endpoints.getAllEffectivePermissions","s.isAssistantsEndpoint","config.defaultAssistantsVersion","Accept","endpoints.conversationById","endpoints.conversations","endpoints.apiBaseUrl","endpoints.getEffectivePermissions","userId","file_id","scopes","endpoints.mcpAuthValues","endpoints.mcpServerConnectionStatus","config.Constants","NEW_CONVO","PENDING_CONVO","endpoints.messages","endpoints.getPrompt","endpoints.getPromptGroup","cleanedFilter","endpoints.getPromptGroupsWithFilters","endpoints.getPromptsWithFilters","variables","limit","skip","endpoints.getResourcePermissions","endpoints.getRole","endpoints.getSharedLink","endpoints.getSharedLinks","endpoints.mcpReinitialize","version_index","endpoints.revertAgentVersion","endpoints.revokeUserKey","q","types","endpoints.searchPrincipals","body","updates","favorites","endpoints.feedback","originalKey","preferences","Error","endpoints.updatePromptGroup","endpoints.updateResourcePermissions","endpoints.updateSharedLink","endpoints.images","signal","requestConfig","endpoints.userKeyQuery","sha1","crypto","createHash","update","digest","createURL","domain","cleanDomain","replace","cleanPath","fullURL","schemaTypeHandlers","stringSchema","minLength","maxLength","numberSchema","minimum","maximum","integer","int","items","zodSchema","openAPISchemaToZod","describe","FunctionSignature","this","prototype","toObjectTool","additionalProperties","RequestConfig","basePath","method","operation","isConsequential","contentType","parameterLocations","RequestExecutor","authHeaders","setParams","operationHash","paramPattern","setAuth","auth","custom_auth_header","client_url","api_key","oauth_client_id","oauth_client_secret","oauth_token_expires_at","oauth_access_token","isApiKey","ServiceHttp","isOAuth","OAuth","Basic","basicToken","Buffer","from","Bearer","Custom","now","authToken","execute","_axios","bodyParams","loc","assign","getConfig","ActionRequest","defineProperty","createExecutor","executor","resolveRef","components","resolved","refPath_1","$ref","segment","sanitizeOperationId","isIP","extractDomainFromUrl","parsedUrl","hostname","baseDefinitions","labelCode","component","optionType","selectPlaceholder","searchPlaceholder","searchPlaceholderCode","selectPlaceholderCode","columnSpan","descriptionCode","placeholderCode","minTags","maxTags","enumMappings","createDefinition","base","overrides","librechat","showDefault","openAIParams","range","unset","none","minimal","medium","concise","detailed","mistral","cohere","meta","googleConfig","googleCol1","googleCol2","openAICol1","openAICol2","anthropicConfig","anthropicCol1","anthropicCol2","bedrockAnthropic","bedrockMistral","bedrockCohere","bedrockGeneral","bedrockAnthropicCol1","bedrockAnthropicCol2","bedrockMistralCol1","bedrockMistralCol2","bedrockCohereCol1","bedrockCohereCol2","bedrockGeneralCol1","bedrockGeneralCol2","paramSettings","Anthropic","MistralAI","Cohere","Meta","AI21","Amazon","DeepSeek","openAIColumns","col1","col2","bedrockGeneralColumns","presetSettings","agentParamSettings","agentFiles","AGENT_VIEWER","VIEW","AGENT_EDITOR","EDIT","AGENT_OWNER","DELETE","updatedData","Math","floor","configureThinking","fileMap","messageMap","rootMessages","childrenCount","parentId","extendedMessage","children","depth","siblingIndex","file","parentMessage","azure","submission","isEdited","userMessage","isContinued","isTemporary","isRegenerate","conversation","editedContent","ephemeralAgent","endpointOption","s.tConvoUpdateSchema","server","s.EModelEndpoint","assistant","conversation_starters","functions","separators","lastIndex","separators_1","lastIndexOf","settings","schemaFields","settings_1","setting","minText","maxText","Number","Boolean","Enum","ZodArray","customGoogle","customOpenAI","endpointsConfig","property","mergedFileConfig","baseDefaultConfig","userDefaultConfig","normalizedEndpoint","standardEndpoints","normalizedEndpointType","possibleValues_2","_mdl","_cgl","_ml","endpointKey","modelKey","requiredPermission","fileName","currentType","extension","pop","tool","groupName","groupConfig","groupMap","firstModelName","modelDetails","azureOptions","azureOpenAIApiVersion","azureOpenAIApiKey","azureOpenAIApiInstanceName","azureOpenAIApiDeploymentName","modelGroupMap","modelConfig","result_1","apiKeyValue","dynamic","mergedConfig","dynamicEndpoint","mergedEndpoint","openapiSpec","generateZodSchemas","functionSignatures","requestBuilders","zodSchemas","baseUrl","paths","methods","paramLocations","operationObj","defaultOperationId","operationId","summary","isStrict","parametersSchema","resolvedParam","paramName","paramSchema","in","requestBody","resolvedSchema","apply","functionSignature","actionRequest","endpointKeys","defaultCustomIndex","indexOf","accumulatedConfig","currentEndpointKey","isCustom","conversationWithoutIconURL","convo","contentParts","skipReasoning","contentParts_1","TEXT","textValue","THINK","think","currentDate","dayjs","format","dayNumber","day","combinedDate","currentDatetime","isoDatetime","current_date","current_user","iso_datetime","current_datetime","clientProvidedDomain","specServerUrl","specUrl","isValid","specHostname","normalizedSpecDomain","clientHostname","clientHasProtocol","startsWith","normalizedClientHostname","normalizedSpecHostname","isIPAddress","normalizedClientDomain","specString","parsedSpec","load","schemas","httpMethod","responses","statusCode","refName","serverUrl","configs","modelNames","groupDeploymentName","groupVersion","modelDeploymentName","modelVersion","columnsSet","settings_2","columns","code","ZodIssueCode","add","next","settings_3","requiredSettingFields_1","settingTypes","Tags","Input","Textarea","Slider","includeInput","round","Checkbox","Switch","Dropdown","Combobox","conversationSchema","zodType","typeName","isNaN","option","ZodError","additionalModels","availableModels","visionModel"],"mappings":"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,YACA,YACA,YACA,YACA,YACA,aACA,YACA,YACA,YACA,YAEA,YACA,YACA,YACA,YACA,YACA,aACA,YACA,aACA,cACGF,OAGQG,GAA4BD,EAAA,CACvC,WACA,aACA,kBACA,0EACA,YACA,cACA,mBACA,gBACA,kBACA,aACA,4EACA,gBACA,uBACA,cACA,aACA,aACA,WACA,aACA,kBACA,YACA,YACA,aACA,aACA,oBACA,yBACA,kBACA,mBACGF,OAuBQI,GACX,wJAEWC,GACX,+JAEWC,GACX,wNAEWC,GAAiB,yCAEjBC,GACX,kGAEWC,GAAiB,sDAEjBC,GAAsB,CACjCH,GACA,qBACA,oIACA,iDACA,4BAGWI,GAAuB,CAAC,sBAExBC,GAAsB,CAACJ,IAEvBK,GAAqB,CAChCR,GACAD,GACAE,GACAC,GACAE,GACAD,GAEA,2BAGWM,GAA2B,CACtCT,GACAD,GACAE,GACAC,IAGWQ,GAA6C,CACxDC,EAAG,WACHC,GAAI,gBACJC,IAAK,aACLC,EAAG,WACHC,GAAI,gBACJC,IAAK,aACLC,GAAI,gBACJC,GAAI,cACJC,IAAK,aACLC,GAAI,kBACJC,GAAI,mBACJC,GAAI,yBACJC,IAAK,oBACLC,IAAK,kBACLC,IAAK,aACLC,IAAK,4BACLC,IAAK,mBACLC,KAAM,mBACNC,IAAK,kBACLC,KAAM,aACNC,OAAQ,+BACRC,GAAI,aACJC,GAAI,aACJC,MAAO,aACPC,GAAI,aACJC,IAAK,aACLC,MAAO,aACPC,IAAK,aACLC,EAAG,aACHC,GAAI,aACJC,GAAI,aACJC,OAAQ,aACRC,OAAQ,aACRC,IAAK,aACLC,KAAM,aACNC,KAAM,aACNC,IAAK,aACLC,IAAK,aACLC,IAAK,aACLC,GAAI,aACJC,IAAK,aACLC,GAAI,aACJC,IAAK,aACLC,GAAI,aACJC,IAAK,aACLC,GAAI,aACJC,IAAK,aACLC,KAAM,aACNC,GAAI,aACJC,IAAK,aACLC,IAAK,aACLC,IAAK,aACLC,IAAK,aACLC,IAAK,aACLC,OAAQ,aACRC,MAAO,aACPC,KAAM,aACNC,KAAM,aACNC,KAAM,aACNC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"}