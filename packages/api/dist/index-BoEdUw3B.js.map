{"version":3,"file":"index-BoEdUw3B.js","sources":["../../../node_modules/@aws-sdk/client-bedrock-runtime/node_modules/@smithy/credential-provider-imds/dist-es/remoteProvider/httpRequest.js","../../../node_modules/@aws-sdk/client-bedrock-runtime/node_modules/@smithy/credential-provider-imds/dist-es/config/Endpoint.js","../../../node_modules/@aws-sdk/client-bedrock-runtime/node_modules/@smithy/credential-provider-imds/dist-es/config/EndpointConfigOptions.js","../../../node_modules/@aws-sdk/client-bedrock-runtime/node_modules/@smithy/credential-provider-imds/dist-es/config/EndpointMode.js","../../../node_modules/@aws-sdk/client-bedrock-runtime/node_modules/@smithy/credential-provider-imds/dist-es/config/EndpointModeConfigOptions.js","../../../node_modules/@aws-sdk/client-bedrock-runtime/node_modules/@smithy/credential-provider-imds/dist-es/utils/getInstanceMetadataEndpoint.js"],"sourcesContent":["import { ProviderError } from \"@smithy/property-provider\";\nimport { Buffer } from \"buffer\";\nimport { request } from \"http\";\nexport function httpRequest(options) {\n    return new Promise((resolve, reject) => {\n        const req = request({\n            method: \"GET\",\n            ...options,\n            hostname: options.hostname?.replace(/^\\[(.+)\\]$/, \"$1\"),\n        });\n        req.on(\"error\", (err) => {\n            reject(Object.assign(new ProviderError(\"Unable to connect to instance metadata service\"), err));\n            req.destroy();\n        });\n        req.on(\"timeout\", () => {\n            reject(new ProviderError(\"TimeoutError from instance metadata service\"));\n            req.destroy();\n        });\n        req.on(\"response\", (res) => {\n            const { statusCode = 400 } = res;\n            if (statusCode < 200 || 300 <= statusCode) {\n                reject(Object.assign(new ProviderError(\"Error response received from instance metadata service\"), { statusCode }));\n                req.destroy();\n            }\n            const chunks = [];\n            res.on(\"data\", (chunk) => {\n                chunks.push(chunk);\n            });\n            res.on(\"end\", () => {\n                resolve(Buffer.concat(chunks));\n                req.destroy();\n            });\n        });\n        req.end();\n    });\n}\n","export var Endpoint;\n(function (Endpoint) {\n    Endpoint[\"IPv4\"] = \"http://169.254.169.254\";\n    Endpoint[\"IPv6\"] = \"http://[fd00:ec2::254]\";\n})(Endpoint || (Endpoint = {}));\n","export const ENV_ENDPOINT_NAME = \"AWS_EC2_METADATA_SERVICE_ENDPOINT\";\nexport const CONFIG_ENDPOINT_NAME = \"ec2_metadata_service_endpoint\";\nexport const ENDPOINT_CONFIG_OPTIONS = {\n    environmentVariableSelector: (env) => env[ENV_ENDPOINT_NAME],\n    configFileSelector: (profile) => profile[CONFIG_ENDPOINT_NAME],\n    default: undefined,\n};\n","export var EndpointMode;\n(function (EndpointMode) {\n    EndpointMode[\"IPv4\"] = \"IPv4\";\n    EndpointMode[\"IPv6\"] = \"IPv6\";\n})(EndpointMode || (EndpointMode = {}));\n","import { EndpointMode } from \"./EndpointMode\";\nexport const ENV_ENDPOINT_MODE_NAME = \"AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE\";\nexport const CONFIG_ENDPOINT_MODE_NAME = \"ec2_metadata_service_endpoint_mode\";\nexport const ENDPOINT_MODE_CONFIG_OPTIONS = {\n    environmentVariableSelector: (env) => env[ENV_ENDPOINT_MODE_NAME],\n    configFileSelector: (profile) => profile[CONFIG_ENDPOINT_MODE_NAME],\n    default: EndpointMode.IPv4,\n};\n","import { loadConfig } from \"@smithy/node-config-provider\";\nimport { parseUrl } from \"@smithy/url-parser\";\nimport { Endpoint as InstanceMetadataEndpoint } from \"../config/Endpoint\";\nimport { ENDPOINT_CONFIG_OPTIONS } from \"../config/EndpointConfigOptions\";\nimport { EndpointMode } from \"../config/EndpointMode\";\nimport { ENDPOINT_MODE_CONFIG_OPTIONS, } from \"../config/EndpointModeConfigOptions\";\nexport const getInstanceMetadataEndpoint = async () => parseUrl((await getFromEndpointConfig()) || (await getFromEndpointModeConfig()));\nconst getFromEndpointConfig = async () => loadConfig(ENDPOINT_CONFIG_OPTIONS)();\nconst getFromEndpointModeConfig = async () => {\n    const endpointMode = await loadConfig(ENDPOINT_MODE_CONFIG_OPTIONS)();\n    switch (endpointMode) {\n        case EndpointMode.IPv4:\n            return InstanceMetadataEndpoint.IPv4;\n        case EndpointMode.IPv6:\n            return InstanceMetadataEndpoint.IPv6;\n        default:\n            throw new Error(`Unsupported endpoint mode: ${endpointMode}.` + ` Select from ${Object.values(EndpointMode)}`);\n    }\n};\n"],"names":["request","ProviderError","Buffer","Endpoint","parseUrl","loadConfig","InstanceMetadataEndpoint"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5]}