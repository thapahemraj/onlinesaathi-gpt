{"version":3,"file":"getSSOTokenFromFile-BkmVg-em.js","sources":["../../../node_modules/@aws-sdk/credential-provider-node/node_modules/@smithy/shared-ini-file-loader/dist-es/getSSOTokenFilepath.js","../../../node_modules/@aws-sdk/credential-provider-node/node_modules/@smithy/shared-ini-file-loader/dist-es/getSSOTokenFromFile.js"],"sourcesContent":["import { createHash } from \"crypto\";\nimport { join } from \"path\";\nimport { getHomeDir } from \"./getHomeDir\";\nexport const getSSOTokenFilepath = (id) => {\n    const hasher = createHash(\"sha1\");\n    const cacheName = hasher.update(id).digest(\"hex\");\n    return join(getHomeDir(), \".aws\", \"sso\", \"cache\", `${cacheName}.json`);\n};\n","import { promises as fsPromises } from \"fs\";\nimport { getSSOTokenFilepath } from \"./getSSOTokenFilepath\";\nconst { readFile } = fsPromises;\nexport const tokenIntercept = {};\nexport const getSSOTokenFromFile = async (id) => {\n    if (tokenIntercept[id]) {\n        return tokenIntercept[id];\n    }\n    const ssoTokenFilepath = getSSOTokenFilepath(id);\n    const ssoTokenText = await readFile(ssoTokenFilepath, \"utf8\");\n    return JSON.parse(ssoTokenText);\n};\n"],"names":["createHash","join","getHomeDir","fsPromises"],"mappings":";;;;;;;AAGY,MAAC,mBAAmB,GAAG,CAAC,EAAE,KAAK;AAC3C,IAAI,MAAM,MAAM,GAAGA,iBAAU,CAAC,MAAM,CAAC;AACrC,IAAI,MAAM,SAAS,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC;AACrD,IAAI,OAAOC,SAAI,CAACC,oBAAU,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE,OAAO,EAAE,CAAC,EAAE,SAAS,CAAC,KAAK,CAAC,CAAC;AAC1E;;ACLA,MAAM,EAAE,QAAQ,EAAE,GAAGC,WAAU;AACnB,MAAC,cAAc,GAAG;AAClB,MAAC,mBAAmB,GAAG,OAAO,EAAE,KAAK;AACjD,IAAI,IAAI,cAAc,CAAC,EAAE,CAAC,EAAE;AAC5B,QAAQ,OAAO,cAAc,CAAC,EAAE,CAAC;AACjC;AACA,IAAI,MAAM,gBAAgB,GAAG,mBAAmB,CAAC,EAAE,CAAC;AACpD,IAAI,MAAM,YAAY,GAAG,MAAM,QAAQ,CAAC,gBAAgB,EAAE,MAAM,CAAC;AACjE,IAAI,OAAO,IAAI,CAAC,KAAK,CAAC,YAAY,CAAC;AACnC;;;;;;","x_google_ignoreList":[0,1]}